{"version":3,"file":"app-systemjs.js","sources":["../node_modules/systemjs/dist/s.js","../node_modules/systemjs/dist/extras/transform.js","../node_modules/systemjs/dist/extras/named-exports.js","../node_modules/systemjs/dist/extras/named-register.js","../node_modules/systemjs/dist/extras/amd.js","../../core/dist/components/BaseComponent.js","../../core/dist/components/Async.js","../../core/dist/components/index.js","../../core/dist/services/Data.js","../../core/dist/services/Events.js","../../core/dist/browser/loader.js","../../core/dist/nodeJS/loader.js","../../core/dist/services/Loader.js","../../core/dist/types.js","../../core/dist/services/Processor.js","../../core/dist/services/Navigation.js","../../core/dist/services/Transformer.js","../../core/dist/services/index.js","../../core/dist/app.js","../../core/dist/services/transformer.js","../../core/dist/services/loader.js","../../core/dist/index.js","../../webapp/dist/types.js","../../webapp/dist/services/WebUI.js","../../webapp/dist/WebApp.js","../../webapp/dist/index.js","../node_modules/pinkie/index.js","../lib/system.js"],"sourcesContent":["/*\r\n* SJS 3.1.6\r\n* Minimal SystemJS Build\r\n*/\r\n(function () {\r\n  const hasSelf = typeof self !== 'undefined';\r\n\r\n  const envGlobal = hasSelf ? self : global;\r\n\r\n  let baseUrl;\r\n  if (typeof location !== 'undefined') {\r\n    baseUrl = location.href.split('#')[0].split('?')[0];\r\n    const lastSepIndex = baseUrl.lastIndexOf('/');\r\n    if (lastSepIndex !== -1)\r\n      baseUrl = baseUrl.slice(0, lastSepIndex + 1);\r\n  }\r\n\r\n  const backslashRegEx = /\\\\/g;\r\n  function resolveIfNotPlainOrUrl (relUrl, parentUrl) {\r\n    if (relUrl.indexOf('\\\\') !== -1)\r\n      relUrl = relUrl.replace(backslashRegEx, '/');\r\n    // protocol-relative\r\n    if (relUrl[0] === '/' && relUrl[1] === '/') {\r\n      return parentUrl.slice(0, parentUrl.indexOf(':') + 1) + relUrl;\r\n    }\r\n    // relative-url\r\n    else if (relUrl[0] === '.' && (relUrl[1] === '/' || relUrl[1] === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\r\n        relUrl.length === 1  && (relUrl += '/')) ||\r\n        relUrl[0] === '/') {\r\n      const parentProtocol = parentUrl.slice(0, parentUrl.indexOf(':') + 1);\r\n      // Disabled, but these cases will give inconsistent results for deep backtracking\r\n      //if (parentUrl[parentProtocol.length] !== '/')\r\n      //  throw new Error('Cannot resolve');\r\n      // read pathname from parent URL\r\n      // pathname taken to be part after leading \"/\"\r\n      let pathname;\r\n      if (parentUrl[parentProtocol.length + 1] === '/') {\r\n        // resolving to a :// so we need to read out the auth and host\r\n        if (parentProtocol !== 'file:') {\r\n          pathname = parentUrl.slice(parentProtocol.length + 2);\r\n          pathname = pathname.slice(pathname.indexOf('/') + 1);\r\n        }\r\n        else {\r\n          pathname = parentUrl.slice(8);\r\n        }\r\n      }\r\n      else {\r\n        // resolving to :/ so pathname is the /... part\r\n        pathname = parentUrl.slice(parentProtocol.length + (parentUrl[parentProtocol.length] === '/'));\r\n      }\r\n\r\n      if (relUrl[0] === '/')\r\n        return parentUrl.slice(0, parentUrl.length - pathname.length - 1) + relUrl;\r\n\r\n      // join together and split for removal of .. and . segments\r\n      // looping the string instead of anything fancy for perf reasons\r\n      // '../../../../../z' resolved to 'x/y' is just 'z'\r\n      const segmented = pathname.slice(0, pathname.lastIndexOf('/') + 1) + relUrl;\r\n\r\n      const output = [];\r\n      let segmentIndex = -1;\r\n      for (let i = 0; i < segmented.length; i++) {\r\n        // busy reading a segment - only terminate on '/'\r\n        if (segmentIndex !== -1) {\r\n          if (segmented[i] === '/') {\r\n            output.push(segmented.slice(segmentIndex, i + 1));\r\n            segmentIndex = -1;\r\n          }\r\n        }\r\n\r\n        // new segment - check if it is relative\r\n        else if (segmented[i] === '.') {\r\n          // ../ segment\r\n          if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i + 2 === segmented.length)) {\r\n            output.pop();\r\n            i += 2;\r\n          }\r\n          // ./ segment\r\n          else if (segmented[i + 1] === '/' || i + 1 === segmented.length) {\r\n            i += 1;\r\n          }\r\n          else {\r\n            // the start of a new segment as below\r\n            segmentIndex = i;\r\n          }\r\n        }\r\n        // it is the start of a new segment\r\n        else {\r\n          segmentIndex = i;\r\n        }\r\n      }\r\n      // finish reading out the last segment\r\n      if (segmentIndex !== -1)\r\n        output.push(segmented.slice(segmentIndex));\r\n      return parentUrl.slice(0, parentUrl.length - pathname.length) + output.join('');\r\n    }\r\n  }\r\n\r\n  /*\r\n   * SystemJS Core\r\n   * \r\n   * Provides\r\n   * - System.import\r\n   * - System.register support for\r\n   *     live bindings, function hoisting through circular references,\r\n   *     reexports, dynamic import, import.meta.url, top-level await\r\n   * - System.getRegister to get the registration\r\n   * - Symbol.toStringTag support in Module objects\r\n   * - Hookable System.createContext to customize import.meta\r\n   * - System.onload(id, err?) handler for tracing / hot-reloading\r\n   * \r\n   * Core comes with no System.prototype.resolve or\r\n   * System.prototype.instantiate implementations\r\n   */\r\n\r\n  const hasSymbol = typeof Symbol !== 'undefined';\r\n  const toStringTag = hasSymbol && Symbol.toStringTag;\r\n  const REGISTRY = hasSymbol ? Symbol() : '@';\r\n\r\n  function SystemJS () {\r\n    this[REGISTRY] = {};\r\n  }\r\n\r\n  const systemJSPrototype = SystemJS.prototype;\r\n  systemJSPrototype.import = function (id, parentUrl) {\r\n    const loader = this;\r\n    return Promise.resolve(loader.resolve(id, parentUrl))\r\n    .then(function (id) {\r\n      const load = getOrCreateLoad(loader, id);\r\n      return load.C || topLevelLoad(loader, load);\r\n    });\r\n  };\r\n\r\n  // Hookable createContext function -> allowing eg custom import meta\r\n  systemJSPrototype.createContext = function (parentId) {\r\n    return {\r\n      url: parentId\r\n    };\r\n  };\r\n\r\n  let lastRegister;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    lastRegister = [deps, declare];\r\n  };\r\n\r\n  /*\r\n   * getRegister provides the last anonymous System.register call\r\n   */\r\n  systemJSPrototype.getRegister = function () {\r\n    const _lastRegister = lastRegister;\r\n    lastRegister = undefined;\r\n    return _lastRegister;\r\n  };\r\n\r\n  function getOrCreateLoad (loader, id, firstParentUrl) {\r\n    let load = loader[REGISTRY][id];\r\n    if (load)\r\n      return load;\r\n\r\n    const importerSetters = [];\r\n    const ns = Object.create(null);\r\n    if (toStringTag)\r\n      Object.defineProperty(ns, toStringTag, { value: 'Module' });\r\n    \r\n    let instantiatePromise = Promise.resolve()\r\n    .then(function () {\r\n      return loader.instantiate(id, firstParentUrl);\r\n    })\r\n    .then(function (registration) {\r\n      if (!registration)\r\n        throw new Error('Module ' + id + ' did not instantiate');\r\n      function _export (name, value) {\r\n        // note if we have hoisted exports (including reexports)\r\n        load.h = true;\r\n        let changed = false;\r\n        if (typeof name !== 'object') {\r\n          if (!(name in ns) || ns[name] !== value) {\r\n            ns[name] = value;\r\n            changed = true;\r\n          }\r\n        }\r\n        else {\r\n          for (let p in name) {\r\n            let value = name[p];\r\n            if (!(p in ns) || ns[p] !== value) {\r\n              ns[p] = value;\r\n              changed = true;\r\n            }\r\n          }\r\n        }\r\n        if (changed)\r\n          for (let i = 0; i < importerSetters.length; i++)\r\n            importerSetters[i](ns);\r\n        return value;\r\n      }\r\n      const declared = registration[1](_export, registration[1].length === 2 ? {\r\n        import: function (importId) {\r\n          return loader.import(importId, id);\r\n        },\r\n        meta: loader.createContext(id)\r\n      } : undefined);\r\n      load.e = declared.execute || function () {};\r\n      return [registration[0], declared.setters || []];\r\n    });\r\n\r\n    const linkPromise = instantiatePromise\r\n    .then(function (instantiation) {\r\n      return Promise.all(instantiation[0].map(function (dep, i) {\r\n        const setter = instantiation[1][i];\r\n        return Promise.resolve(loader.resolve(dep, id))\r\n        .then(function (depId) {\r\n          const depLoad = getOrCreateLoad(loader, depId, id);\r\n          // depLoad.I may be undefined for already-evaluated\r\n          return Promise.resolve(depLoad.I)\r\n          .then(function () {\r\n            if (setter) {\r\n              depLoad.i.push(setter);\r\n              // only run early setters when there are hoisted exports of that module\r\n              // the timing works here as pending hoisted export calls will trigger through importerSetters\r\n              if (depLoad.h || !depLoad.I)\r\n                setter(depLoad.n);\r\n            }\r\n            return depLoad;\r\n          });\r\n        })\r\n      }))\r\n      .then(function (depLoads) {\r\n        load.d = depLoads;\r\n      });\r\n    });\r\n\r\n    linkPromise.catch(function (err) {\r\n      load.e = null;\r\n      load.er = err;\r\n    });\r\n\r\n    // Captial letter = a promise function\r\n    return load = loader[REGISTRY][id] = {\r\n      id: id,\r\n      // importerSetters, the setters functions registered to this dependency\r\n      // we retain this to add more later\r\n      i: importerSetters,\r\n      // module namespace object\r\n      n: ns,\r\n\r\n      // instantiate\r\n      I: instantiatePromise,\r\n      // link\r\n      L: linkPromise,\r\n      // whether it has hoisted exports\r\n      h: false,\r\n\r\n      // On instantiate completion we have populated:\r\n      // dependency load records\r\n      d: undefined,\r\n      // execution function\r\n      // set to NULL immediately after execution (or on any failure) to indicate execution has happened\r\n      // in such a case, pC should be used, and pLo, pLi will be emptied\r\n      e: undefined,\r\n\r\n      // On execution we have populated:\r\n      // the execution error if any\r\n      er: undefined,\r\n      // in the case of TLA, the execution promise\r\n      E: undefined,\r\n\r\n      // On execution, pLi, pLo, e cleared\r\n\r\n      // Promise for top-level completion\r\n      C: undefined\r\n    };\r\n  }\r\n\r\n  function instantiateAll (loader, load, loaded) {\r\n    if (!loaded[load.id]) {\r\n      loaded[load.id] = true;\r\n      // load.L may be undefined for already-instantiated\r\n      return Promise.resolve(load.L)\r\n      .then(function () {\r\n        return Promise.all(load.d.map(function (dep) {\r\n          return instantiateAll(loader, dep, loaded);\r\n        }));\r\n      })\r\n    }\r\n  }\r\n\r\n  function topLevelLoad (loader, load) {\r\n    return load.C = instantiateAll(loader, load, {})\r\n    .then(function () {\r\n      return postOrderExec(loader, load, {});\r\n    })\r\n    .then(function () {\r\n      return load.n;\r\n    });\r\n  }\r\n\r\n  // the closest we can get to call(undefined)\r\n  const nullContext = Object.freeze(Object.create(null));\r\n\r\n  // returns a promise if and only if a top-level await subgraph\r\n  // throws on sync errors\r\n  function postOrderExec (loader, load, seen) {\r\n    if (seen[load.id])\r\n      return;\r\n    seen[load.id] = true;\r\n\r\n    if (!load.e) {\r\n      if (load.er)\r\n        throw load.er;\r\n      if (load.E)\r\n        return load.E;\r\n      return;\r\n    }\r\n\r\n    // deps execute first, unless circular\r\n    let depLoadPromises;\r\n    load.d.forEach(function (depLoad) {\r\n      {\r\n        const depLoadPromise = postOrderExec(loader, depLoad, seen);\r\n        if (depLoadPromise)\r\n          (depLoadPromises = depLoadPromises || []).push(depLoadPromise);\r\n      }\r\n    });\r\n    if (depLoadPromises) {\r\n      return Promise.all(depLoadPromises).then(doExec);\r\n    }\r\n\r\n    return doExec();\r\n\r\n    function doExec () {\r\n      try {\r\n        let execPromise = load.e.call(nullContext);\r\n        if (execPromise) {\r\n          execPromise = execPromise.then(function () {\r\n              load.C = load.n;\r\n              load.E = null;\r\n            });\r\n          return load.E = load.E || execPromise;\r\n        }\r\n        // (should be a promise, but a minify optimization to leave out Promise.resolve)\r\n        load.C = load.n;\r\n      }\r\n      catch (err) {\r\n        load.er = err;\r\n        throw err;\r\n      }\r\n      finally {\r\n        load.L = load.I = undefined;\r\n        load.e = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  envGlobal.System = new SystemJS();\r\n\r\n  /*\r\n   * Supports loading System.register via script tag injection\r\n   */\r\n\r\n  let err;\r\n  if (typeof window !== 'undefined')\r\n    window.addEventListener('error', function (e) {\r\n      err = e.error;\r\n    });\r\n\r\n  const systemRegister = systemJSPrototype.register;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    err = undefined;\r\n    systemRegister.call(this, deps, declare);\r\n  };\r\n\r\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\r\n    const loader = this;\r\n    return new Promise(function (resolve, reject) {\r\n      const script = document.createElement('script');\r\n      script.charset = 'utf-8';\r\n      script.async = true;\r\n      script.crossOrigin = 'anonymous';\r\n      script.addEventListener('error', function () {\r\n        reject(new Error('Error loading ' + url + (firstParentUrl ? ' from ' + firstParentUrl : '')));\r\n      });\r\n      script.addEventListener('load', function () {\r\n        document.head.removeChild(script);\r\n        // Note URL normalization issues are going to be a careful concern here\r\n        if (err) {\r\n          reject(err);\r\n          return err = undefined;\r\n        }\r\n        else {\r\n          resolve(loader.getRegister());\r\n        }\r\n      });\r\n      script.src = url;\r\n      document.head.appendChild(script);\r\n    });\r\n  };\r\n\r\n  /*\r\n   * Supports loading System.register in workers\r\n   */\r\n\r\n  if (hasSelf && typeof importScripts === 'function')\r\n    systemJSPrototype.instantiate = function (url) {\r\n      const loader = this;\r\n      return new Promise(function (resolve, reject) {\r\n        try {\r\n          importScripts(url);\r\n        }\r\n        catch (e) {\r\n          reject(e);\r\n        }\r\n        resolve(loader.getRegister());\r\n      });\r\n    };\r\n\r\n  systemJSPrototype.resolve = function (id, parentUrl) {\r\n    const resolved = resolveIfNotPlainOrUrl(id, parentUrl || baseUrl);\r\n    if (!resolved) {\r\n      if (id.indexOf(':') !== -1)\r\n        return Promise.resolve(id);\r\n      throw new Error('Cannot resolve \"' + id + (parentUrl ? '\" from ' + parentUrl : '\"'));\r\n    }\r\n    return Promise.resolve(resolved);\r\n  };\r\n\r\n}());\r\n","/*\r\n * Support for a \"transform\" loader interface\r\n */\r\n(function () {\r\n  const systemJSPrototype = System.constructor.prototype;\r\n\r\n  const instantiate = systemJSPrototype.instantiate;\r\n  systemJSPrototype.instantiate = function (url, parent) {\r\n    if (url.slice(-5) === '.wasm')\r\n      return instantiate.call(this, url, parent);\r\n\r\n    const loader = this;\r\n    return fetch(url, { credentials: 'same-origin' })\r\n    .then(function (res) {\r\n      if (!res.ok)\r\n        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText + (parent ? ' loading from ' + parent : ''));\r\n      return res.text();\r\n    })\r\n    .then(function (source) {\r\n      return loader.transform.call(this, url, source);\r\n    })\r\n    .then(function (source) {\r\n      (0, eval)(source + '\\n//# sourceURL=' + url);\r\n      return loader.getRegister();\r\n    });\r\n  };\r\n\r\n  // Hookable transform function!\r\n  systemJSPrototype.transform = function (_id, source) {\r\n    return source;\r\n  };\r\n})();","/*\r\n * Named exports support for legacy module formats in SystemJS 2.0\r\n */\r\n(function () {\r\n  const systemPrototype = System.constructor.prototype;\r\n  \r\n  // hook System.register to know the last declaration binding\r\n  let lastRegisterDeclare;\r\n  const systemRegister = systemPrototype.register;\r\n  systemPrototype.register = function (deps, declare) {\r\n    lastRegisterDeclare = declare;\r\n    systemRegister.call(this, deps, declare);\r\n  };\r\n\r\n  const getRegister = systemPrototype.getRegister;\r\n  systemPrototype.getRegister = function () {\r\n    const register = getRegister.call(this);\r\n    // if it is an actual System.register call, then its ESM\r\n    // -> dont add named exports\r\n    if (!register || register[1] === lastRegisterDeclare || register[1].length === 0)\r\n      return register;\r\n    \r\n    // otherwise it was provided by a custom instantiator\r\n    // -> extend the registration with named exports support\r\n    const registerDeclare = register[1];\r\n    register[1] = function (_export, _context) {\r\n      // hook the _export function to note the default export\r\n      let defaultExport;\r\n      const declaration = registerDeclare.call(this, function (name, value) {\r\n        if (name === 'default')\r\n          defaultExport = value;\r\n        _export(name, value);\r\n      }, _context);\r\n      // hook the execute function\r\n      const execute = declaration.execute;\r\n      if (execute)\r\n        declaration.execute = function () {\r\n          execute.call(this);\r\n          // do a bulk export of the default export object\r\n          // to export all its names as named exports\r\n          if (typeof defaultExport === 'object')\r\n            _export(defaultExport);\r\n        };\r\n      return declaration;\r\n    };\r\n    return register;\r\n  };\r\n})();","/*\r\n * SystemJS named register extension\r\n * Supports System.register('name', [..deps..], function (_export, _context) { ... })\r\n * \r\n * Names are written to the registry as-is\r\n * System.register('x', ...) can be imported as System.import('x')\r\n */\r\n(function () {\r\n  const systemJSPrototype = System.constructor.prototype;\r\n\r\n  const constructor = System.constructor;\r\n  const SystemJS = function () {\r\n    constructor.call(this);\r\n    this.registerRegistry = Object.create(null);\r\n  };\r\n  SystemJS.prototype = systemJSPrototype;\r\n  System = new SystemJS();\r\n\r\n  const register = systemJSPrototype.register;\r\n  systemJSPrototype.register = function (name, deps, declare) {\r\n    if (typeof name !== 'string')\r\n      return register.apply(this, arguments);\r\n\r\n    this.registerRegistry[name] = [deps, declare];\r\n\r\n    // Provide an empty module to signal success.\r\n    return register.call(this, [], function () { return {}; });\r\n  };\r\n\r\n  const resolve = systemJSPrototype.resolve;\r\n  systemJSPrototype.resolve = function (id, parentURL) {\r\n    if (id[0] === '/' || id[0] === '.' && (id[1] === '/' || id[1] === '.' && id[2] === '/'))\r\n      return resolve.call(this, id, parentURL);\r\n    if (id in this.registerRegistry)\r\n      return id;\r\n    return resolve.call(this, id, parentURL);\r\n  };\r\n\r\n  const instantiate = systemJSPrototype.instantiate;\r\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\r\n    return this.registerRegistry[url] || instantiate.call(this, url, firstParentUrl);\r\n  };\r\n})();","/*\r\n * Support for AMD loading\r\n */\r\n(function (global) {\r\n  const systemPrototype = System.constructor.prototype;\r\n\r\n  const emptyInstantiation = [[], function () { return {} }];\r\n\r\n  function unsupportedRequire () {\r\n    throw new Error('AMD require not supported.');\r\n  }\r\n\r\n  function emptyFn () {}\r\n\r\n  const requireExportsModule = ['require', 'exports', 'module'];\r\n\r\n  function createAMDRegister (amdDefineDeps, amdDefineExec) {\r\n    const exports = {};\r\n    const module = { exports: exports };\r\n    const depModules = [];\r\n    const setters = [];\r\n    let splice = 0;\r\n    for (let i = 0; i < amdDefineDeps.length; i++) {\r\n      const id = amdDefineDeps[i];\r\n      const index = setters.length;\r\n      if (id === 'require') {\r\n        depModules[i] = unsupportedRequire;\r\n        splice++;\r\n      }\r\n      else if (id === 'module') {\r\n        depModules[i] = module;\r\n        splice++;\r\n      }\r\n      else if (id === 'exports') {\r\n        depModules[i] = exports;\r\n        splice++;\r\n      }\r\n      else {\r\n        // needed for ie11 lack of iteration scope\r\n        const idx = i;\r\n        setters.push(function (ns) {\r\n          depModules[idx] = ns.default;\r\n        });\r\n      }\r\n      if (splice)\r\n        amdDefineDeps[index] = id;\r\n    }\r\n    if (splice)\r\n      amdDefineDeps.length -= splice;\r\n    const amdExec = amdDefineExec;\r\n    return [amdDefineDeps, function (_export) {\r\n      _export('default', exports);\r\n      return {\r\n        setters: setters,\r\n        execute: function () {\r\n          module.exports = amdExec.apply(exports, depModules) || module.exports;\r\n          if (exports !== module.exports)\r\n            _export('default', module.exports);\r\n        }\r\n      };\r\n    }];\r\n  }\r\n\r\n  // hook System.register to know the last declaration binding\r\n  let lastRegisterDeclare;\r\n  const systemRegister = systemPrototype.register;\r\n  // if we have named register support continue to use it\r\n  if (systemRegister.length === 3) {\r\n    systemPrototype.register = function (name, deps, declare) {\r\n      if (typeof name !== 'string')\r\n        lastRegisterDeclare = deps;\r\n      systemRegister.apply(this, arguments);\r\n    };\r\n  }\r\n  else {\r\n    systemPrototype.register = function (deps, declare) {\r\n      lastRegisterDeclare = declare;\r\n      systemRegister.apply(this, arguments);\r\n    };\r\n  }\r\n\r\n  const getRegister = systemPrototype.getRegister;\r\n  systemPrototype.getRegister = function () {\r\n    const register = getRegister.call(this);\r\n    // if its an actual System.register leave it\r\n    if (register && register[1] === lastRegisterDeclare)\r\n      return register;\r\n\r\n    // otherwise AMD takes priority\r\n    // no registration -> attempt AMD detection\r\n    if (!amdDefineDeps)\r\n      return register || emptyInstantiation;\r\n\r\n    const registration = createAMDRegister(amdDefineDeps, amdDefineExec);\r\n    amdDefineDeps = null;\r\n    return registration;\r\n  };\r\n  let amdDefineDeps, amdDefineExec;\r\n  global.define = function (name, deps, execute) {\r\n    // define('', [], function () {})\r\n    if (typeof name === 'string') {\r\n      if (amdDefineDeps) {\r\n        if (!System.registerRegistry)\r\n          throw new Error('Include the named register extension for SystemJS named AMD support.');\r\n        System.registerRegistry[name] = createAMDRegister(deps, execute);\r\n        amdDefineDeps = [];\r\n        amdDefineExec = emptyFn;\r\n        return;\r\n      }\r\n      else {\r\n        if (System.registerRegistry)\r\n          System.registerRegistry[name] = createAMDRegister([].concat(deps), execute);\r\n        name = deps;\r\n        deps = execute;\r\n      }\r\n    }\r\n    // define([], function () {})\r\n    if (name instanceof Array) {\r\n      amdDefineDeps = name;\r\n      amdDefineExec = deps;\r\n    }\r\n    // define({})\r\n    else if (typeof name === 'object') {\r\n      amdDefineDeps = [];\r\n      amdDefineExec = function () { return name };\r\n    }\r\n    // define(function () {})\r\n    else if (typeof name === 'function') {\r\n      amdDefineDeps = requireExportsModule;\r\n      amdDefineExec = name;\r\n    }\r\n  };\r\n  global.define.amd = {};\r\n})(typeof self !== 'undefined' ? self : global);","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar BaseComponent = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(BaseComponent, _super);\r\n        function BaseComponent(props) {\r\n            var _this = _super.call(this, app) || this;\r\n            _this.props = props;\r\n            return _this;\r\n        }\r\n        BaseComponent.prototype.renderInternal = function (e, index) {\r\n            var _this = this;\r\n            //if (e) e = types.services.intercept(e);\r\n            if (Array.isArray(e)) {\r\n                //if (Promise.resolve(e[0]) === e[0]) debugger;\r\n                /*if (e[1] == null) e[1] = {};\r\n                if (typeof e[1] === \"object\") e[1].context = this.context;*/\r\n                if (typeof e[0] === \"string\" || typeof e[0] === \"function\" || Promise.resolve(e[0]) === e[0])\r\n                    return app.services.processor.processElement(e, index);\r\n                else {\r\n                    return e.map(function (c, idx) { if (Array.isArray(c)) {\r\n                        if (!c[1])\r\n                            c[1] = {};\r\n                        c[1][\"key\"] = c[1][\"key\"] || idx;\r\n                    } return _this.renderInternal(c, idx); });\r\n                }\r\n            } //else if (typeof e !== \"string\")\r\n            //debugger;\r\n            //if (!e) debugger;\r\n            return !e || typeof e === \"string\" ? e : app.services.processor.processElement(e, index);\r\n        };\r\n        BaseComponent.prototype.render = function (e) {\r\n            return this.renderInternal(e || this.props.children);\r\n        };\r\n        return BaseComponent;\r\n    }(app.services.UI.Component));\r\n};\r\nexports.BaseComponent = BaseComponent;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar Async = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Async, _super);\r\n        function Async(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = {};\r\n            //(Array.isArray(this.props.children) ? Promise.all : Promise.resolve)(this.props.children).then(o => this.setState({value: o  }));\r\n            if (Array.isArray(props.children))\r\n                Promise.all(props.children).then(function (o) { return _this.setState({ value: o }); });\r\n            else //if (Promise.resolve(this.props.children) === this.props.children)\r\n                Promise.resolve(props.children).then(function (o) { return _this.setState({ value: o }); });\r\n            return _this;\r\n        }\r\n        Async.prototype.render = function () {\r\n            return !!this.state.value ? _super.prototype.render.call(this, this.state.value) : null;\r\n        };\r\n        return Async;\r\n    }(app.services.UI.Component));\r\n};\r\nexports.Async = Async;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar BaseComponent_1 = require(\"./BaseComponent\");\r\nexports.BaseComponent = BaseComponent_1.BaseComponent;\r\nvar Async_1 = require(\"./Async\");\r\nexports.Async = Async_1.Async;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar components_1 = require(\"../components\");\r\nfunction clone(o) {\r\n    if (Array.isArray(o))\r\n        return o.map(function (o) { return clone(o); });\r\n    else if (typeof o === \"object\") {\r\n        var z = Object.create(o);\r\n        Object.keys(o).forEach(function (k) { return z[k] = o[k]; });\r\n        return z;\r\n    }\r\n    else\r\n        return o;\r\n}\r\nvar SM = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Bind, _super);\r\n        function Bind(props) {\r\n            var _this = _super.call(this, app) || this;\r\n            _this.state = { data: clone(props.data) };\r\n            var s = {};\r\n            _this.visit.call(_this, props.childArray, s);\r\n            _this.state.subscribers = s;\r\n            _this.render = _this.render.bind(_this);\r\n            return _this;\r\n        }\r\n        Bind.prototype.setValue = function (path, value) {\r\n            this.state.subscribers[path].forEach(function (s) { if (s.value != value)\r\n                s.value = value; });\r\n            this.setState({ data: (new Function('data', 'path', 'value', 'data' + (path[0] === '[' ? '' : '.') + path + ' = value; return data;'))(this.state.data, path, value) });\r\n        };\r\n        Bind.prototype.getValue = function (path, obj) {\r\n            return (new Function('data', 'path', 'return data' + (path[0] === '[' ? '' : '.') + path))(this.state.data, path);\r\n        };\r\n        Bind.prototype.subscribe = function (a, s) {\r\n            var _this = this;\r\n            var path = a[\"bind\"];\r\n            a.onChange = function (v) { return _this.setValue.call(_this, path, v.target.value); };\r\n            a.value = this.getValue.call(this, path);\r\n            if (s[path] === undefined)\r\n                s[path] = [];\r\n            s[path].push(a);\r\n        };\r\n        Bind.prototype.visit = function (obj, s) {\r\n            var _this = this;\r\n            if (Array.isArray(obj)) {\r\n                obj.forEach(function (e) {\r\n                    if (Array.isArray(e) && e[0] != \"Data.bind\") {\r\n                        if (e[1] && typeof e[1] === \"object\" && e[1][\"bind\"])\r\n                            _this.subscribe(e[1], s);\r\n                        if (e[2] && Array.isArray(e[2]))\r\n                            _this.visit(e[2], s);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        Bind.prototype.render = function (e) {\r\n            return _super.prototype.render.call(this, !!e ? e : this.props.childArray);\r\n        };\r\n        return Bind;\r\n    }(components_1.BaseComponent(app)));\r\n};\r\nvar Data = {\r\n    bind: function transform(a, c) {\r\n        return [SM, { data: a, childArray: c }];\r\n        //return [\"div\", a, c];\r\n    },\r\n    format: function transform(str) {\r\n        var s = str.toString() || \"\";\r\n        return s;\r\n    }\r\n};\r\nexports.Data = Data;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Events = /** @class */ (function () {\r\n    function Events(app) {\r\n        this.callbacks = {};\r\n        window.addEventListener(\"message\", this.onWindowMessage.bind(this));\r\n    }\r\n    Events.prototype.onWindowMessage = function (ev) {\r\n        if (typeof ev.data === \"object\" && typeof ev.data.type === \"string\")\r\n            this.publish(ev.data);\r\n    };\r\n    Events.prototype.subscribe = function (eventType, callback) {\r\n        //console.log(callback);\r\n        if (!this.callbacks[eventType.type])\r\n            this.callbacks[eventType.type] = [];\r\n        this.callbacks[eventType.type].push({ type: eventType, correlationId: eventType.correlationId, callback: callback });\r\n    };\r\n    Events.prototype.unsubscribe = function (eventType, callback) {\r\n        //console.log(callback);\r\n        var callbacks;\r\n        if (callbacks = this.callbacks[eventType.type]) {\r\n            for (var i = callbacks.length - 1; i >= 0; i--)\r\n                if (callbacks[i].callback === callback)\r\n                    callbacks.splice(i, 1);\r\n        }\r\n    };\r\n    Events.prototype.publish = function (event, target) {\r\n        var subscriptions = this.callbacks[event.type];\r\n        var response = [];\r\n        if (target)\r\n            target.postMessage(event, location.href);\r\n        else\r\n            for (var s in subscriptions)\r\n                if (subscriptions[s].correlationId === undefined || subscriptions[s].correlationId == event.correlationId)\r\n                    if (subscriptions[s].callback) {\r\n                        var r = subscriptions[s].callback(event);\r\n                        if (!!r)\r\n                            response.push(r);\r\n                    }\r\n        ;\r\n        return response;\r\n    };\r\n    return Events;\r\n}());\r\nexports.Events = Events;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nexports.__esModule = true;\r\nvar basePath = '';\r\nfunction nodeRequire(url) {\r\n    return new Function('url', 'tmpdir', 'tmpdir = tmpdir ? tmpdir : global.process.env.INIT_CWD; var __dirname__ = global.process.cwd(); if (__dirname__ != tmpdir) global.process.chdir(tmpdir); var _exp = (global.require || global.process.mainModule.constructor._load)(url); if (global.process.cwd() != __dirname__) global.process.chdir(__dirname__); return _exp;')(url, basePath);\r\n}\r\nfunction run(source, url, basePath) {\r\n    var m = { exports: {} };\r\n    try {\r\n        new Function('require', 'module', source + \";\\n//# sourceURL=' + \" + url)(nodeRequire, m);\r\n    }\r\n    catch (f) {\r\n        console.log('Error running script from from source' + url || source);\r\n        throw f;\r\n    }\r\n    return m.exports;\r\n}\r\nvar Loader = {\r\n    instantiate: function (url, parent) { return __awaiter(_this, void 0, void 0, function () {\r\n        var res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, fetch(url, { credentials: 'same-origin' })];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    if (!res.ok)\r\n                        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText + (parent ? ' loading from  ' + parent : ''));\r\n                    return [2 /*return*/, res.text()];\r\n            }\r\n        });\r\n    }); },\r\n    \"import\": function (source, url) { return __awaiter(_this, void 0, void 0, function () {\r\n        var output;\r\n        return __generator(this, function (_a) {\r\n            try {\r\n                output = run(source, url, basePath);\r\n                return [2 /*return*/, output];\r\n            }\r\n            catch (e) {\r\n                console.log('Error executing script ' + url + ': ');\r\n                throw (e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); },\r\n    init: function (basePath) { return void {}; }\r\n};\r\nexports[\"default\"] = Loader;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nexports.__esModule = true;\r\nvar basepath;\r\nfunction nodeRequire(url) {\r\n    return new Function('url', 'tmpdir', 'tmpdir = tmpdir ? tmpdir : global.process.env.INIT_CWD; var __dirname__ = global.process.cwd(); if (__dirname__ != tmpdir) global.process.chdir(tmpdir); var _exp = (global.require || global.process.mainModule.constructor._load)(url); if (global.process.cwd() != __dirname__) global.process.chdir(__dirname__); return _exp;')(url, basepath || '');\r\n}\r\nfunction run(source, url) {\r\n    var m = { exports: {} };\r\n    try {\r\n        new Function('require', 'module', source + \";\\n//# sourceURL=' + \" + url)(nodeRequire, m);\r\n    }\r\n    catch (f) {\r\n        console.log('Error running script from source \"' + (url || source) + '\"', f);\r\n        throw f;\r\n    }\r\n    return m.exports;\r\n}\r\nvar Loader = {\r\n    instantiate: function (url, parent) { return __awaiter(_this, void 0, void 0, function () {\r\n        var res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, fetch(url, { credentials: 'same-origin' })];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    if (!res.ok)\r\n                        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText + (parent ? ' loading from  ' + parent : ''));\r\n                    return [2 /*return*/, res.text()];\r\n            }\r\n        });\r\n    }); },\r\n    \"import\": function (source, url) { return __awaiter(_this, void 0, void 0, function () {\r\n        var output;\r\n        return __generator(this, function (_a) {\r\n            try {\r\n                output = run(source, url);\r\n                return [2 /*return*/, output];\r\n            }\r\n            catch (e) {\r\n                console.log('Error executing script \"' + url + '\": ' + e);\r\n                throw (e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); },\r\n    init: function (basePath) {\r\n        basepath = basePath;\r\n    }\r\n};\r\nexports[\"default\"] = Loader;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Loader = /** @class */ (function () {\r\n    function Loader(app) {\r\n        var _this = this;\r\n        this.app = app;\r\n        if (typeof window === \"object\") {\r\n            var systemjs = Object.getOwnPropertyDescriptor(window, \"System\");\r\n            if (systemjs) {\r\n                systemjs.value.constructor.prototype.jst = function (input, name) { return _this.app.services.transformer.transform(input, name); };\r\n                this.proxy = { \"import\": systemjs.value[\"import\"].bind(systemjs.value), instantiate: systemjs.value.instantiate.bind(systemjs.value), init: function (basePath) { return void {}; } };\r\n            }\r\n            else\r\n                this.proxy = require('../browser/loader')[\"default\"];\r\n        }\r\n        if (this['proxy'] == null)\r\n            this.proxy = require('../nodeJS/loader')[\"default\"];\r\n    }\r\n    Loader.prototype[\"import\"] = function (moduleName, normalizedParentName) {\r\n        var _this = this;\r\n        var u = moduleName.indexOf('#') > -1 ? moduleName.slice(0, moduleName.indexOf('#')) : moduleName;\r\n        var b = u.length + 1 < moduleName.length ? moduleName.slice(u.length + 1).split('#') : [];\r\n        return new Promise(function (r, rj) { return _this.proxy[\"import\"](u, normalizedParentName).then(function (x) {\r\n            if (x[\"default\"])\r\n                x = x[\"default\"];\r\n            for (var i = 0; i < b.length; i++)\r\n                if ((x = x[b[i]]) === undefined) {\r\n                    debugger;\r\n                    rj(\"Could not resolve property \" + b[i] + \" on \" + moduleName);\r\n                }\r\n            ;\r\n            r({ \"default\": x, __esModule: moduleName });\r\n        }, rj); });\r\n    };\r\n    Loader.prototype.instantiate = function (url, parent) {\r\n        return this.proxy.instantiate(url, parent);\r\n    };\r\n    Loader.prototype.init = function (basePath) {\r\n        Object.defineProperty(this.proxy[\"import\"], \"jst\", this.app.services.transformer.transform);\r\n    };\r\n    return Loader;\r\n}());\r\nexports.Loader = Loader;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\r\n    LogLevel[LogLevel[\"Exception\"] = 1] = \"Exception\";\r\n    LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\r\n    LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\r\n    LogLevel[LogLevel[\"Info\"] = 4] = \"Info\";\r\n    LogLevel[LogLevel[\"Trace\"] = 5] = \"Trace\";\r\n})(LogLevel = exports.LogLevel || (exports.LogLevel = {}));\r\nvar ModuleSystem;\r\n(function (ModuleSystem) {\r\n    ModuleSystem[\"None\"] = \"none\";\r\n    ModuleSystem[\"CommonJS\"] = \"commonjs\";\r\n    ModuleSystem[\"AMD\"] = \"amd\";\r\n    ModuleSystem[\"UMD\"] = \"umd\";\r\n    ModuleSystem[\"ES\"] = \"es\";\r\n})(ModuleSystem = exports.ModuleSystem || (exports.ModuleSystem = {}));\r\n/*function h(\r\n    node: string,\r\n    params: JSX.HTMLAttributes & JSX.SVGAttributes & Record<string, any> | null,\r\n    ...children: ComponentChildren[]\r\n): VNode<any>;\r\nfunction h<P>(\r\n    node: ComponentFactory<P>,\r\n    params: Attributes & P | null,\r\n    ...children: ComponentChildren[]\r\n): VNode<any>;\r\n\r\nfunction render(node: ComponentChild, parent: Element | Document | ShadowRoot | DocumentFragment, mergeWith?: Element): Element;\r\nfunction rerender(): void;\r\nfunction cloneElement(element: JSX.Element, props: any, ...children: ComponentChildren[]): JSX.Element;\r\n\r\nvar options: {\r\n    syncComponentUpdates?: boolean;\r\n    debounceRendering?: (render: () => void) => void;\r\n    vnode?: (vnode: VNode<any>) => void;\r\n    event?: (event: Event) => Event;\r\n};*/\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar components_1 = require(\"../components\");\r\nvar types = __importStar(require(\"../types\"));\r\nfunction s_xa(a, b) { return Object.prototype.hasOwnProperty.call(a, b); }\r\nfunction clone(a, b) { for (var c = 1; c < arguments.length; c++) {\r\n    var d = arguments[c];\r\n    if (d)\r\n        for (var e in d)\r\n            s_xa(d, e) && (a[e] = d[e]);\r\n} return a; }\r\nfunction Inject(app, proxy) {\r\n    var inj = clone(app);\r\n    inj.services.UI.Component = proxy || components_1.BaseComponent(app) /*app.services.UI.Component*/;\r\n    /*let { title, designer, ui, target, ...inject } = app;\r\n    return { Component\r\n        , Context\r\n        , Loader\r\n        , components : app.components\r\n        , ...inject\r\n    };*/\r\n    return inj;\r\n}\r\nvar Processor = /** @class */ (function () {\r\n    function Processor(app) {\r\n        this.cache = Object();\r\n        this.type = \"Processor\";\r\n        this.app = app;\r\n        this.cache[\".App\"] = function inject(app) {\r\n            return /** @class */ (function (_super) {\r\n                __extends(Proxy, _super);\r\n                //app:App;\r\n                function Proxy(props) {\r\n                    return _super.call(this, app) || this;\r\n                    //this.app = new App(props);\r\n                }\r\n                Proxy.prototype.render = function () {\r\n                    return _super.prototype.render.call(this, this.props.main);\r\n                };\r\n                return Proxy;\r\n            }(app.services.UI.Component));\r\n        };\r\n    }\r\n    Processor.prototype.Async = function () {\r\n        this.async = this.async || components_1.Async(this.app);\r\n        return this.async;\r\n    };\r\n    Processor.prototype.createClass = function (B, d) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var _this = this;\r\n                var b = _this = _super.call(this, arguments) || this;\r\n                var i = typeof d === \"function\" ? d.call(b, b) : d;\r\n                if (b !== undefined)\r\n                    for (var p in b.__proto__)\r\n                        if (!i[p])\r\n                            i[p] = b[p];\r\n                if (i[\"constructor\"])\r\n                    i.constructor.apply(i, arguments);\r\n                return i;\r\n            }\r\n            return class_1;\r\n        }(B));\r\n    };\r\n    Processor.prototype.locate = function (resource, path) {\r\n        var parts = path.split('.');\r\n        var jst = false;\r\n        var obj = resource;\r\n        for (var part = 0; part < parts.length; part++)\r\n            if (obj[parts[part]] !== undefined) {\r\n                if (part == path.length - 1)\r\n                    jst = obj.__jst;\r\n                obj = obj[path[part]];\r\n            }\r\n            else\r\n                obj = null;\r\n        return obj;\r\n    };\r\n    Processor.prototype.getFunctionName = function (obj) {\r\n        if (obj.name)\r\n            return obj.name;\r\n        var name = obj.toString();\r\n        if (name.indexOf('(') > -1)\r\n            name = name.substr(0, name.indexOf('('));\r\n        if (name.indexOf('function') > -1)\r\n            name = name.substr(name.indexOf('function') + 'function'.length);\r\n        return name.trim();\r\n    };\r\n    Processor.prototype.parse = function (obj, level, path, index) {\r\n        this.app.services.logger.log.call(this, types.LogLevel.Trace, 'Processor.parse', obj);\r\n        var processor = this;\r\n        return new Promise(function (r, f) {\r\n            if (!obj)\r\n                return r(obj);\r\n            if (typeof obj === \"object\" && !Array.isArray(obj) && obj[\"default\"])\r\n                obj = processor.init(obj);\r\n            if (Array.isArray(obj)) {\r\n                if (typeof obj[0] === \"object\" && obj[0]['default'])\r\n                    obj[0] = processor.init(obj[0]);\r\n                if (typeof obj[0] === \"string\")\r\n                    obj[0] = processor.resolve(obj[0]);\r\n                if (typeof obj[0] === \"function\" && processor.getFunctionName(obj[0]) === \"transform\")\r\n                    processor.parse(obj[0].apply(processor.app, obj.slice(1)), level, path + '[0]()', index).then(r, f);\r\n                else\r\n                    Promise.all(obj.map(function (v, i) { return processor.parse(v, level + 1, path + '[' + i + ']', i); })).then(function (o) { try {\r\n                        r(processor.app.services.UI.processElement(o, level, index));\r\n                    }\r\n                    catch (e) {\r\n                        processor.app.services.logger.log(types.LogLevel.Error, 'Processor.parse: ' + e.stack, [o]);\r\n                        f(e);\r\n                    } }, f);\r\n            }\r\n            else if (typeof obj === \"function\" && processor.getFunctionName(obj) === \"inject\")\r\n                Promise.resolve((obj)(Inject(processor.app))).then(function (o) { return processor.parse(o, level, path, index).then(r, f); }, f);\r\n            else if (typeof obj === \"function\" && processor.getFunctionName(obj) === \"Component\")\r\n                try {\r\n                    r(processor.createClass(components_1.BaseComponent(processor.app), obj));\r\n                }\r\n                catch (e) {\r\n                    processor.app.services.logger.log(types.LogLevel.Error, 'Processor.parse: ' + e.stack, obj);\r\n                    f(e);\r\n                }\r\n            else if (Promise.resolve(obj) === obj) {\r\n                Promise.resolve(obj).then(function (o) { return processor.parse(o, level, path, index).then(function (o2) { return r(o2); }, f); }, f);\r\n            }\r\n            else if (obj) {\r\n                try {\r\n                    r(processor.app.services.UI.processElement(obj, level, index));\r\n                }\r\n                catch (e) {\r\n                    processor.app.services.logger.log(types.LogLevel.Error, 'Processor.parse: ' + e.stack, obj);\r\n                    f(e);\r\n                }\r\n            }\r\n            else\r\n                r(obj);\r\n        });\r\n    };\r\n    Processor.prototype.resolve = function (fullpath) {\r\n        var _this = this;\r\n        this.app.services.logger.log.call(this, types.LogLevel.Trace, 'Processor.resolve', [fullpath]);\r\n        if (this.cache[fullpath])\r\n            return this.cache[fullpath];\r\n        if (fullpath.substring(0, 1) == \"~\") {\r\n            var parts = fullpath.substring(1, fullpath.length).split('#');\r\n            var obj = this.app.services.moduleSystem.instantiate(parts[0], this);\r\n            if (parts.length == 1)\r\n                return obj;\r\n            return obj.then(function (x) { return _this.locate(x, parts.slice(1, parts.length).join(\".\")); });\r\n        }\r\n        else {\r\n            var path = fullpath ? fullpath.split('.') : [''];\r\n            var obj_1 = this.app.components || Object;\r\n            for (var part = 0; part < path.length; part++) {\r\n                if (typeof obj_1 === \"function\" && this.getFunctionName(obj_1) === \"inject\")\r\n                    obj_1 = obj_1(Inject(this.app, components_1.BaseComponent(this.app)));\r\n                if (obj_1[path[part]] !== undefined) {\r\n                    obj_1 = obj_1[path[part]];\r\n                    if (typeof obj_1 === \"function\" && this.getFunctionName(obj_1) == \"inject\")\r\n                        obj_1 = obj_1(Inject(this.app, components_1.BaseComponent(this.app)));\r\n                }\r\n                else if (path.length == 1 && path[0].length > 0 && path[0].toLowerCase() == path[0])\r\n                    obj_1 = path[part];\r\n                else {\r\n                    if (fullpath === \"Exception\")\r\n                        return function transform(obj) { return [\"pre\", { \"style\": { \"color\": \"red\" } }, obj[1].stack ? obj[1].stack : obj[1]]; };\r\n                    else {\r\n                        this.app.services.logger.log.call(this, types.LogLevel.Error, 'Unable to resolve \"App.components.' + (fullpath || 'undefined') + \"'\");\r\n                        return /** @class */ (function (_super) {\r\n                            __extends(class_2, _super);\r\n                            function class_2() {\r\n                                return _super !== null && _super.apply(this, arguments) || this;\r\n                            }\r\n                            class_2.prototype.render = function () { return _super.prototype.render ? _super.prototype.render.call(this, [\"span\", { \"style\": { \"color\": \"red\" } }, (fullpath || 'undefined') + \" not found!\"]) : (fullpath || 'undefined') + \" not found!\"; };\r\n                            return class_2;\r\n                        }(this.app.services.UI.Component));\r\n                    }\r\n                }\r\n            }\r\n            //return this.cache[fullpath] = Array.isArray(obj) ? class Wrapper extends this.app.services.UI.Component { shouldComponentUpdate() { return true; } render() {if (!obj[1]) obj[1] = {}; if   (!obj[1].key) obj[1].key = 0; return this.parse(jst && !this.app.disableIntercept && window.parent !== null && window !== window.parent ? [Intercept, {\"file\": jst, \"method\": prop}, [obj]] : obj); }} : obj;\r\n            return this.cache[fullpath] = obj_1;\r\n        }\r\n    };\r\n    Processor.prototype.init = function (obj) {\r\n        return obj[\"default\"];\r\n    };\r\n    Processor.prototype.processElement = function (obj, index) {\r\n        var _this = this;\r\n        if (!obj)\r\n            return obj;\r\n        if (typeof obj === \"object\" && !Array.isArray(obj) && obj[\"default\"])\r\n            obj = this.init(obj);\r\n        if (Array.isArray(obj)) {\r\n            if (typeof obj[0] === \"object\" && obj[0]['default'])\r\n                // TODO: Remove <never>\r\n                obj[0] = this.init(obj[0]);\r\n            if (typeof obj[0] === \"string\") {\r\n                obj[0] = this.resolve(obj[0]);\r\n            }\r\n            if (typeof obj[0] === \"function\") {\r\n                var name = this.getFunctionName(obj[0]);\r\n                switch (name) {\r\n                    case \"transform\":\r\n                        var key = index;\r\n                        if (obj[1] && obj[1].key)\r\n                            key = obj[1].key;\r\n                        return this.processElement(obj[0].apply(this.app, obj.slice(1)), key);\r\n                    case \"inject\":\r\n                        obj[0] = (obj[0])(Inject(this.app));\r\n                        return this.processElement(obj);\r\n                    case \"Component\":\r\n                        obj[0] = this.createClass(components_1.BaseComponent(this.app), obj[0]);\r\n                        return this.processElement(obj);\r\n                }\r\n            }\r\n        }\r\n        if (Array.isArray(obj) && obj.some(function (c) { return Promise.resolve(c) === c; }))\r\n            return this.app.services.UI.processElement([this.Async(), { id: Date.now() }, obj], 0, obj && obj[1] && obj[1].key !== undefined ? obj[1].key : index);\r\n        else if (typeof obj === \"string\" || !obj)\r\n            return obj;\r\n        /*else if (typeof obj === \"object\" && (<{__jst:any}>obj).__jst)\r\n            return this.processElement([Intercept(this.app), {}, [(<{default:any}>obj).default]]);*/\r\n        //else if (obj.then)  \r\n        //    Promise.all( [ obj ]).then(o => processor.parse(o[0], level, path, index).then((o2:any) => r(o2), f), f);\r\n        if (Promise.resolve(obj) === obj)\r\n            obj = [this.Async(), { index: index }, obj];\r\n        if (Array.isArray(obj))\r\n            return this.app.services.UI.processElement([obj[0], obj[1], Array.isArray(obj[2]) ? obj[2].map(function (c, idx) { return typeof c === \"string\" ? c : _this.processElement(c, idx); }) : obj[2]], 0, index);\r\n        else\r\n            return obj;\r\n    };\r\n    Processor.prototype.process = function (obj) {\r\n        var _this = this;\r\n        this.app.services.logger.log.call(this, types.LogLevel.Trace, 'Processor.process', obj);\r\n        function visit(obj) {\r\n            if (Array.isArray(obj)) {\r\n                for (var i in obj)\r\n                    if (visit(obj[i]))\r\n                        return true;\r\n            }\r\n            else if (typeof obj === \"object\" && obj != null) {\r\n                var keys = Object.keys(obj);\r\n                for (var i in keys)\r\n                    if (keys[i].substr(0, 1) == \".\")\r\n                        return true;\r\n                    else if (visit(obj[keys[i]]))\r\n                        return true;\r\n            }\r\n            return false;\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var isTemplate = visit(obj);\r\n            try {\r\n                if (isTemplate) {\r\n                    _this.app.services.moduleSystem.init(_this.app.options.baseExecutionPath);\r\n                    _this.app.services.moduleSystem[\"import\"](_this.app.services.transformer.transform(JSON.stringify(obj)).code).then(function (exported) {\r\n                        try {\r\n                            _this.parse(exported[\"default\"] || exported, 0, '').then(resolve, reject);\r\n                        }\r\n                        catch (e) {\r\n                            reject(e);\r\n                        }\r\n                    }, function (rs) { return reject(rs); });\r\n                }\r\n                else\r\n                    _this.parse(obj, 0, '').then(resolve, reject);\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n    return Processor;\r\n}());\r\nexports.Processor = Processor;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\n//import { INavigation, IAppLoaded, LogLevel, IEventData, IApp, promisedElement, element} from \"../types\";\r\nvar components_1 = require(\"../components\");\r\nvar types = __importStar(require(\"../types\"));\r\nfunction parse(url) {\r\n    var qs = /(?:\\?)([^#]*)(?:#.*)?$/.exec(url);\r\n    var params = {};\r\n    var index = 0;\r\n    if (qs)\r\n        qs[1].split('&').forEach(function (p) {\r\n            var v = p.split('=');\r\n            params[v.length === 2 ? v[0] : index++] = v[v.length - 1];\r\n        });\r\n    return {\r\n        path: qs && qs[1] ? qs[1] : ''\r\n    };\r\n}\r\nfunction clone(o) {\r\n    if (Array.isArray(o))\r\n        return o.map(function (o) { return clone(o); });\r\n    else if (typeof o === \"object\") {\r\n        var z = Object.create(o);\r\n        Object.keys(o).forEach(function (k) { return z[k] = o[k]; });\r\n        return z;\r\n    }\r\n    else\r\n        return o;\r\n}\r\nvar Navigation = {\r\n    current: parse(typeof location === \"object\" ? location.href : ''),\r\n    resolve: function transform(container) {\r\n        var url = typeof location === \"undefined\" ? '' : location.href;\r\n        if (this.controllers && Object.keys(this.controllers).length === 0)\r\n            return this.main;\r\n        for (var c in this.controllers)\r\n            if ((this.controllers[c].container ? this.controllers[c].container : '') == (container || '')) {\r\n                var match = this.controllers[c].match ? this.controllers[c].match.test(url) : true;\r\n                this.services.logger.log(types.LogLevel.Trace, \"Route \\\"\" + url + \"\\\" \" + (match ? 'matched' : 'did not match') + \" controller \\\"\" + c + \"\\\"\");\r\n                if (match) {\r\n                    var qs = /(?:\\?)([^#]*)(?:#.*)?$/.exec(url);\r\n                    var params = {};\r\n                    var index = 0;\r\n                    if (qs)\r\n                        qs[1].split('&').forEach(function (p) {\r\n                            var v = p.split('=');\r\n                            params[v.length === 2 ? v[0] : index++] = v[v.length - 1];\r\n                        });\r\n                    return this.controllers[c].resolve.call(this, params);\r\n                }\r\n            }\r\n            else\r\n                this.services.logger.log(types.LogLevel.Trace, \"Container \" + (container || '(blank)') + \" does not match controller \" + c + \"'s container \" + (this.controllers[c].container || '(blank)'));\r\n        return [\"Error\", {}, \"Could not locate controller matching \" + url];\r\n    },\r\n    a: function inject(app) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(a, _super);\r\n            function a() {\r\n                return _super !== null && _super.apply(this, arguments) || this;\r\n            }\r\n            a.prototype.click = function (e) {\r\n                app.services.navigation.current = parse(this.props.href);\r\n                var topParent = parent;\r\n                while (topParent.parent !== topParent)\r\n                    topParent = topParent.parent;\r\n                if (topParent.history && topParent.history.pushState)\r\n                    topParent.history.pushState(null, '', this.props.href);\r\n                else\r\n                    topParent.location.replace(this.props.href);\r\n                app.services.events.publish({ type: \"Navigation.Redirect\", correlationId: this.props.container, data: this.props.href });\r\n                if (e && e.nativeEvent && e.nativeEvent.preventDefault)\r\n                    e.nativeEvent.preventDefault();\r\n                return false;\r\n            };\r\n            a.prototype.render = function () {\r\n                return app.services.UI.processElement([\"a\", __assign({}, this.props, { onClick: this.click.bind(this) }), this.props.children], 0, undefined);\r\n            };\r\n            return a;\r\n        }(app.services.UI.Component));\r\n    },\r\n    Container: function transform(a, c) {\r\n        var app = this;\r\n        return [/** @class */ (function (_super) {\r\n                __extends(NavigationContainer, _super);\r\n                function NavigationContainer(props) {\r\n                    var _this = _super.call(this, props) || this;\r\n                    _this.state = { a: props.a, c: props.c };\r\n                    _this.onRedirect = _this.onRedirect.bind(_this);\r\n                    return _this;\r\n                }\r\n                NavigationContainer.prototype.onRedirect = function (event) {\r\n                    var e = clone(this.props.c);\r\n                    if (Array.isArray(e))\r\n                        e.forEach(function (c, i) { if (Array.isArray(c))\r\n                            c[1].key = Date.now() + i; });\r\n                    this.setState({ c: e });\r\n                };\r\n                NavigationContainer.prototype.componentWillMount = function () {\r\n                    app.services.events.subscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n                };\r\n                NavigationContainer.prototype.componentWillUnmount = function () {\r\n                    app.services.events.unsubscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n                };\r\n                NavigationContainer.prototype.render = function () {\r\n                    return _super.prototype.render.call(this, this.state.c);\r\n                };\r\n                return NavigationContainer;\r\n            }(components_1.BaseComponent(app))), { a: a, c: c }];\r\n    }\r\n};\r\nexports.Navigation = Navigation;\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar types = __importStar(require(\"../types\"));\r\nvar Transformer = /** @class */ (function () {\r\n    function Transformer(settings) {\r\n        var _this = this;\r\n        this.reservedWords = ['function', 'for', 'var', 'this', 'self', 'null'];\r\n        this.type = \"Transformer\";\r\n        this.settings = settings ? __assign({}, settings, { indent: settings.indent || '\\t', compact: settings.compact || false, module: settings.module || types.ModuleSystem.None, namedExports: settings.namedExports === undefined ? true : settings.namedExports }) : { module: types.ModuleSystem.ES };\r\n        this.settings.parsers = this.settings.parsers || {};\r\n        this.settings.parsers[\".require\"] = this.settings.parsers[\".import\"] = function (obj, parseSettings, offset) { return _this.loadModule(_this._process(obj[\".import\"] || obj[\".require\"], false, false, parseSettings, offset), parseSettings, offset); };\r\n        this.settings.parsers[\".function\"] = function (obj, parseSettings, offset) { return \"function \" + (obj[\".function\"] ? obj[\".function\"] : \"\") + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], false, true, parseSettings, offset) : \"\") + \"){ return \" + _this._process(obj[\"return\"], true, false, parseSettings, offset) + \" }\"; };\r\n        this.settings.parsers[\".map\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".map\"], false, false, parseSettings, offset) + \".map(function(\" + obj[\"arguments\"] + \") {return \" + (settings && settings.indent ? new Array(offset).join(' ') : \"\") + _this._process(obj[\"return\"], true, false, parseSettings, offset) + \" })\"; };\r\n        this.settings.parsers[\".filter\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".filter\"], false, false, parseSettings, offset) + \".filter(function(\" + obj[\"arguments\"] + \") {return \" + _this._process(obj[\"condition\"], true, false, parseSettings, offset) + \" })\"; };\r\n        this.settings.parsers[\".call\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".call\"], false, false, parseSettings, offset) + \".call(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], false, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".exec\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".exec\"], true, false, parseSettings, offset) + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], true, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".new\"] = function (obj, parseSettings, offset) { return \"new \" + _this._process(obj[\".new\"], true, false, parseSettings, offset) + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], true, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".id\"] = this.settings.parsers[\".code\"] = function (obj, parseSettings, offset) { return obj[\".code\"] || obj[\".id\"]; };\r\n        this.settings.parsers[\".webapp\"] = function (obj, parseSettings, offset) {\r\n            var obj2 = {};\r\n            var keys = Object.keys(obj);\r\n            for (var key in keys)\r\n                obj2[keys[key] == \".webapp\" ? \"main\" : keys[key]] = obj[keys[key]];\r\n            return \"\" + _this._process({ \".new\": { \".require\": \"@appfibre/webapp#WebApp\" }, \"arguments\": [obj2] }, true, true, parseSettings, offset);\r\n        };\r\n        this.settings.parsers[\".\"] = function (obj, parseSettings, offset) { return obj[\".\"]; };\r\n    }\r\n    Transformer.prototype.loadModule = function (val, parseSettings, offset) {\r\n        var m = val.indexOf('#') > 0 ? val.substr(0, val.indexOf('#')) : val;\r\n        if (val[0] === \"~\") {\r\n            return \"\" + this._process({ \".function\": null, arguments: \"loader\", \"return\": { \".code\": \"loader.load('\" + (m[1] === \"/\" ? '.' : '') + m.substr(1) + \"')\" + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '') + \";\" } }, false, false, parseSettings, offset);\r\n        }\r\n        if (this.settings.module.toLowerCase() === types.ModuleSystem.ES.toLowerCase())\r\n            m = val.indexOf('#', m.length + 2) > -1 ? val.substr(0, val.indexOf('#', m.length + 2) - 1) : val;\r\n        if (parseSettings.imports.indexOf(m) === -1)\r\n            parseSettings.imports.push(m);\r\n        return \"_\" + parseSettings.imports.indexOf(m) + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '');\r\n    };\r\n    Transformer.prototype.format = function (lines, parseSettings, indent) {\r\n        var lt = this.settings.compact ? \"\" : \"\\n\";\r\n        var tab = this.settings.compact ? \"\" : this.settings.indent || \"\\t\";\r\n        return lt + new Array(indent + 1).join(tab) + lines.join(\",\" + lt + new Array(indent + 1).join(tab)) + lt + new Array(indent).join(tab);\r\n    };\r\n    Transformer.prototype._process = function (obj, esc, et, parseSettings, offset) {\r\n        var _this = this;\r\n        var output;\r\n        if (obj === null)\r\n            output = \"null\";\r\n        else if (Array.isArray(obj))\r\n            output = (et ? \"\" : \"[\") + this.format(obj.map(function (e, i) { return _this._process(e, esc, false, parseSettings, offset + 1); }), parseSettings, offset) + (et ? \"\" : \"]\");\r\n        else if (typeof obj === \"object\") {\r\n            var keys = Object.keys(obj);\r\n            var processed = false;\r\n            for (var k in keys)\r\n                if (!processed && keys[k].length > 0 && keys[k].charAt(0) == '.') {\r\n                    if (this.settings.parsers && this.settings.parsers[keys[k]]) {\r\n                        processed = true;\r\n                        output = this.settings.parsers[keys[k]](obj, parseSettings, offset) || '';\r\n                    }\r\n                    else\r\n                        throw new Error(\"Could not locate parser \" + keys[k].substr(1));\r\n                }\r\n            if (!processed)\r\n                output = (et ? \"\" : \"{\") + this.format(keys.filter(function (k) { return k.length < 2 || k.substr(0, 2) != '..'; }).map(function (k, i) { return (_this.reservedWords.indexOf(k) > -1 || /[^a-z0-9]/i.test(k) ? \"\\\"\" + k + \"\\\"\" : k) + \":\" + (_this.settings.compact ? '' : ' ') + _this._process(obj[k], esc, false, parseSettings, offset + 1); }), parseSettings, offset) + (et ? \"\" : \"}\");\r\n        }\r\n        else if (typeof obj === \"function\") // object not JSON...\r\n            output = obj.toString();\r\n        else\r\n            output = typeof obj === \"string\" && esc ? JSON.stringify(obj) : obj;\r\n        return output;\r\n    };\r\n    Transformer.prototype.processExports = function (output, obj) {\r\n        var _this = this;\r\n        var keys = Object.keys(obj);\r\n        var validkeys = keys.filter(function (k) { return k.indexOf(' ') === -1 && k.indexOf('/') === -1 && k.indexOf('-') === -1 && _this.reservedWords.indexOf(k) === -1; });\r\n        var isDefault = keys.length === 1 && keys[0] === 'default';\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                //for (var req in r) output.code += `${vr} _${r[req]}${sp}=${sp}require('${req}');${nl}`;\r\n                output.code += keys.map(function (key) { return \"module.exports['\" + key + \"']\" + sp + \"=\" + sp + _this._process(obj[key], true, false, output, 0) + \";\"; }).join(nl);\r\n                if (!isDefault)\r\n                    output.code += nl + \"module.exports['default']\" + sp + \"=\" + sp + \"{\" + sp + keys.map(function (key) { return key + \": \" + _this._process(obj[key], true, false, output, 0); }).join(nl) + \" };\";\r\n                break;\r\n            case \"es\":\r\n                if (isDefault)\r\n                    output.code += \"export default\" + sp + this._process(obj[\"default\"], true, false, output, 0) + \";\";\r\n                else {\r\n                    output.code += \"export default\" + sp + \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 ? \"\\\"\" + key + \"\\\": \" + _this._process(obj[key], true, false, output, 0) : key + \":\" + sp + (_this.settings.namedExports ? key : _this._process(obj[key], true, false, output, 2)); }), output, 1) + \"};\";\r\n                    if (this.settings.namedExports && validkeys.length > 0)\r\n                        output.code = validkeys.map(function (key) { return \"export \" + vr + \" \" + key + sp + \"=\" + sp + _this._process(obj[key], true, false, output, 1) + \";\"; }).join(nl) + (\"\" + (nl + output.code + nl));\r\n                }\r\n                break;\r\n            default:\r\n                output.code += \"return \" + (isDefault ? this._process(obj[\"default\"], true, false, output, 1) : \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 ? \"\\\"\" + key + \"\\\": \" + _this._process(obj[key], true, false, output, 1) : key + \":\" + sp + _this._process(obj[key], true, false, output, 2); }), output, 1) + \"}\") + \";\";\r\n        }\r\n    };\r\n    Transformer.prototype.processImports = function (output, name) {\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        var s = {};\r\n        var r = {};\r\n        var s2 = {};\r\n        var r2 = {};\r\n        if (output.imports.length > 0)\r\n            for (var i = 0; i < output.imports.length; i++) {\r\n                var ext = output.imports[i][0] === \"~\";\r\n                if (output.imports[i].indexOf('#') > -1) {\r\n                    var module_name = output.imports[i].substr(0, output.imports[i].indexOf('#'));\r\n                    if ((ext ? s2 : s)[module_name] === undefined)\r\n                        (ext ? s2 : s)[module_name] = {};\r\n                    (ext ? s2 : s)[module_name][output.imports[i].substr(module_name.length + 1)] = i;\r\n                }\r\n                else\r\n                    (ext ? r2 : r)[output.imports[i]] = i;\r\n            }\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                break;\r\n            case \"amd\":\r\n                output.code = \"define(\" + (Object.keys(r).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"'\" + key + \"'\"; }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r).map(function (key) { return '_' + r[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                break;\r\n            case \"es\":\r\n                output.code = Object.keys(s).map(function (key) { return \"import {\" + Object.keys(s[key]).map(function (k) { return k + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from '\" + key + \"';\" + nl; }).join('') + Object.keys(r).map(function (key) { return \"import * as _\" + r[key] + \" from '\" + key.substr(key[0] == \"~\" ? 1 : 0) + \"';\" + nl; }).join('') + output.code;\r\n                break;\r\n            default:\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n        }\r\n        if (Object.keys(s2).length > 0 || Object.keys(r2).length > 0) {\r\n            /*output.code += ';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;' + JSON.stringify(s2) + ' ' + JSON.stringify(r2);\r\n            if (this.settings.runtimeModule)\r\n                output.code += this.settings.runtimeModule;*/\r\n            switch (this.settings.runtimeModule ? this.settings.runtimeModule.toLowerCase() : \"none\") {\r\n                case \"umd\":\r\n                case \"commonjs\":\r\n                case \"cjs\":\r\n                    //throw new Error(JSON.stringify(s2));\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                    break;\r\n                case \"amd\":\r\n                    output.code = \"define(\" + (Object.keys(r2).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"'\" + key + \"'\"; }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r2).map(function (key) { return '_' + r2[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                    break;\r\n                case \"es\":\r\n                    output.code = Object.keys(s2).map(function (key) { return \"import {\" + Object.keys(s2[key]).map(function (k) { return k.substr(1) + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from '\" + key.substr(1) + \"';\" + nl; }).join('') + Object.keys(r2).map(function (key) { return \"import * as _\" + r2[key] + \" from '\" + key.substr(1) + \"';\" + nl; }).join('') + output.code;\r\n                    break;\r\n                default:\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n            }\r\n        }\r\n    };\r\n    Transformer.prototype.bundleModule = function (obj, name) {\r\n        var output = { name: name, imports: [], exports: {}, compositeObject: false, code: '' };\r\n        this.processExports(output, obj);\r\n        this.processImports(output, name || '');\r\n        return output;\r\n    };\r\n    Transformer.prototype.transform = function (input, name) {\r\n        var obj;\r\n        try {\r\n            obj = typeof input === \"string\" ? JSON.parse(input) : input;\r\n        }\r\n        catch (e) {\r\n            //console.log(JSON.stringify(this.settings));\r\n            if (this.settings.dangerouslyProcessJavaScript || this.settings.dangerouslyProcessJavaScript === undefined) {\r\n                try {\r\n                    obj = Function(\"return (\" + input + \");\")();\r\n                    if (this.settings.dangerouslyProcessJavaScript === undefined)\r\n                        console.warn(\"Warning: \" + (name || '') + \" is not JSON compliant: \" + e.message + \".  Set option \\\"dangerouslyProcessJavaScript\\\" to true to hide this message.\\r\\n\" + input);\r\n                }\r\n                catch (f) {\r\n                    throw new Error(\"Unable to process \" + (name || '') + \" as JavaScript: \" + f.message);\r\n                }\r\n            }\r\n            else\r\n                throw new Error(\"Unable to parse JSON file \" + (name || '') + \": \" + e.message);\r\n        }\r\n        try {\r\n            return this.bundleModule(Array.isArray(obj) || typeof (obj || '') !== 'object' || Object.keys(obj).filter(function (k) { return k[0] == '.'; }).length > 0 ? { \"default\": obj } : obj, name);\r\n        }\r\n        catch (e) {\r\n            throw new Error(\"Unable to transform js template: \" + e.message + \"\\r\\n\" + e.stack);\r\n        }\r\n    };\r\n    return Transformer;\r\n}());\r\nexports.Transformer = Transformer;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Data_1 = require(\"./Data\");\r\nexports.Data = Data_1.Data;\r\nvar Events_1 = require(\"./Events\");\r\nexports.Events = Events_1.Events;\r\nvar Loader_1 = require(\"./Loader\");\r\nexports.Loader = Loader_1.Loader;\r\nvar Processor_1 = require(\"./Processor\");\r\nexports.Processor = Processor_1.Processor;\r\nvar Navigation_1 = require(\"./Navigation\");\r\nexports.Navigation = Navigation_1.Navigation;\r\nvar Transformer_1 = require(\"./Transformer\");\r\nexports.Transformer = Transformer_1.Transformer;\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar services_1 = require(\"./services\");\r\nvar types = __importStar(require(\"./types\"));\r\nvar App = /** @class */ (function () {\r\n    function App(app) {\r\n        var _this = this;\r\n        try {\r\n            Object.keys(app).forEach(function (k) { var d = Object.getOwnPropertyDescriptor(app, k); if (d)\r\n                Object.defineProperty(_this, k, d); });\r\n            this.main = app.main;\r\n            this.options = app.options;\r\n            this.info = app.info;\r\n            this.options.logLevel = this.options.logLevel || types.LogLevel.Error;\r\n            var logger_1 = app.services && app.services.logger ? (typeof app.services.logger === \"object\" ? app.services.logger : new app.services.logger(this)) : null;\r\n            var s = app.services; //|| {};\r\n            if (!s.UI)\r\n                throw new Error(\"UI required\");\r\n            s.logger = { log: function (logLevel, title, optionalParameters) {\r\n                    if (logLevel <= (_this && _this.options && _this.options.logLevel ? (types.LogLevel[_this.options.logLevel] || 2) : 2))\r\n                        logger_1 ? logger_1.log.bind(_this, logLevel, title, optionalParameters) : [function (title, optionalParameters) { }, console.error, console.error, console.warn, console.info, console.info][logLevel](title + '\\r\\n', optionalParameters || [_this]);\r\n                } };\r\n            s.transformer = s.transformer ? (typeof s.transformer === \"object\" ? s.transformer : new s.transformer(this)) : new services_1.Transformer({ module: types.ModuleSystem.AMD });\r\n            s.moduleSystem = s.moduleSystem ? (typeof s.moduleSystem === \"object\" ? s.moduleSystem : new s.moduleSystem(this)) : new services_1.Loader(this);\r\n            s.navigation = s.navigation ? (typeof s.navigation === \"object\" ? s.navigation : new s.navigation(this)) : services_1.Navigation;\r\n            s.data = s.data ? (typeof s.data === \"object\" ? s.data : new s.data(this)) : services_1.Data;\r\n            s.UI = typeof s.UI === \"object\" ? s.UI : new s.UI(this);\r\n            s.events = s.events ? (typeof s.events === \"object\" ? s.events : new s.events(this)) : new services_1.Events(this);\r\n            this.services = { moduleSystem: s.moduleSystem, processor: new services_1.Processor(this), transformer: s.transformer, logger: s.logger, UI: s.UI, navigation: s.navigation, events: s.events /*, intercept: s.intercept || ((m) => { if (Array.isArray(m) && m.length > 0 && m[0].default) m[0] = m[0].default; return m.default || m;})*/ };\r\n            this.controllers = {};\r\n            if (app.controllers)\r\n                for (var c in app.controllers) {\r\n                    var co = app.controllers[c];\r\n                    this.controllers[c] = typeof co === \"object\" ? co : new (co)(this);\r\n                }\r\n            this.components = app.components;\r\n            if (typeof this.components === \"object\" && !this.components[\"Navigation\"])\r\n                this.components[\"Navigation\"] = services_1.Navigation;\r\n            if (typeof this.components === \"object\" && !this.components[\"Data\"])\r\n                this.components[\"Data\"] = services_1.Data;\r\n        }\r\n        catch (ex) {\r\n            console.error(ex);\r\n            throw ex;\r\n        }\r\n    }\r\n    App.prototype.initApp = function () {\r\n        //if (!this.options.web) this.options.web = { };\r\n        this.services.moduleSystem.init(this.options.baseExecutionPath);\r\n    };\r\n    return App;\r\n}());\r\nexports.App = App;\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar types = __importStar(require(\"../types\"));\r\nvar Transformer = /** @class */ (function () {\r\n    function Transformer(settings) {\r\n        var _this = this;\r\n        this.reservedWords = ['function', 'for', 'var', 'this', 'self', 'null'];\r\n        this.type = \"Transformer\";\r\n        this.settings = settings ? __assign({}, settings, { indent: settings.indent || '\\t', compact: settings.compact || false, module: settings.module || types.ModuleSystem.None, namedExports: settings.namedExports === undefined ? true : settings.namedExports }) : { module: types.ModuleSystem.ES };\r\n        this.settings.parsers = this.settings.parsers || {};\r\n        this.settings.parsers[\".require\"] = this.settings.parsers[\".import\"] = function (obj, parseSettings, offset) { return _this.loadModule(_this._process(obj[\".import\"] || obj[\".require\"], false, false, parseSettings, offset), parseSettings, offset); };\r\n        this.settings.parsers[\".function\"] = function (obj, parseSettings, offset) { return \"function \" + (obj[\".function\"] ? obj[\".function\"] : \"\") + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], false, true, parseSettings, offset) : \"\") + \"){ return \" + _this._process(obj[\"return\"], true, false, parseSettings, offset) + \" }\"; };\r\n        this.settings.parsers[\".map\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".map\"], false, false, parseSettings, offset) + \".map(function(\" + obj[\"arguments\"] + \") {return \" + (settings && settings.indent ? new Array(offset).join(' ') : \"\") + _this._process(obj[\"return\"], true, false, parseSettings, offset) + \" })\"; };\r\n        this.settings.parsers[\".filter\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".filter\"], false, false, parseSettings, offset) + \".filter(function(\" + obj[\"arguments\"] + \") {return \" + _this._process(obj[\"condition\"], true, false, parseSettings, offset) + \" })\"; };\r\n        this.settings.parsers[\".call\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".call\"], false, false, parseSettings, offset) + \".call(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], false, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".exec\"] = function (obj, parseSettings, offset) { return _this._process(obj[\".exec\"], true, false, parseSettings, offset) + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], true, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".new\"] = function (obj, parseSettings, offset) { return \"new \" + _this._process(obj[\".new\"], true, false, parseSettings, offset) + \"(\" + (obj[\"arguments\"] ? _this._process(obj[\"arguments\"], true, true, parseSettings, offset) : \"\") + \")\"; };\r\n        this.settings.parsers[\".id\"] = this.settings.parsers[\".code\"] = function (obj, parseSettings, offset) { return obj[\".code\"] || obj[\".id\"]; };\r\n        this.settings.parsers[\".webapp\"] = function (obj, parseSettings, offset) {\r\n            var obj2 = {};\r\n            var keys = Object.keys(obj);\r\n            for (var key in keys)\r\n                obj2[keys[key] == \".webapp\" ? \"main\" : keys[key]] = obj[keys[key]];\r\n            return \"\" + _this._process({ \".new\": { \".require\": \"@appfibre/webapp#WebApp\" }, \"arguments\": [obj2] }, true, true, parseSettings, offset);\r\n        };\r\n        this.settings.parsers[\".\"] = function (obj, parseSettings, offset) { return obj[\".\"]; };\r\n    }\r\n    Transformer.prototype.loadModule = function (val, parseSettings, offset) {\r\n        var m = val.indexOf('#') > 0 ? val.substr(0, val.indexOf('#')) : val;\r\n        if (val[0] === \"~\") {\r\n            return \"\" + this._process({ \".function\": null, arguments: \"loader\", \"return\": { \".code\": \"loader.load('\" + (m[1] === \"/\" ? '.' : '') + m.substr(1) + \"')\" + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '') + \";\" } }, false, false, parseSettings, offset);\r\n        }\r\n        if (this.settings.module.toLowerCase() === types.ModuleSystem.ES.toLowerCase())\r\n            m = val.indexOf('#', m.length + 2) > -1 ? val.substr(0, val.indexOf('#', m.length + 2) - 1) : val;\r\n        if (parseSettings.imports.indexOf(m) === -1)\r\n            parseSettings.imports.push(m);\r\n        return \"_\" + parseSettings.imports.indexOf(m) + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '');\r\n    };\r\n    Transformer.prototype.format = function (lines, parseSettings, indent) {\r\n        var lt = this.settings.compact ? \"\" : \"\\n\";\r\n        var tab = this.settings.compact ? \"\" : this.settings.indent || \"\\t\";\r\n        return lt + new Array(indent + 1).join(tab) + lines.join(\",\" + lt + new Array(indent + 1).join(tab)) + lt + new Array(indent).join(tab);\r\n    };\r\n    Transformer.prototype._process = function (obj, esc, et, parseSettings, offset) {\r\n        var _this = this;\r\n        var output;\r\n        if (obj === null)\r\n            output = \"null\";\r\n        else if (Array.isArray(obj))\r\n            output = (et ? \"\" : \"[\") + this.format(obj.map(function (e, i) { return _this._process(e, esc, false, parseSettings, offset + 1); }), parseSettings, offset) + (et ? \"\" : \"]\");\r\n        else if (typeof obj === \"object\") {\r\n            var keys = Object.keys(obj);\r\n            var processed = false;\r\n            for (var k in keys)\r\n                if (!processed && keys[k].length > 0 && keys[k].charAt(0) == '.') {\r\n                    if (this.settings.parsers && this.settings.parsers[keys[k]]) {\r\n                        processed = true;\r\n                        output = this.settings.parsers[keys[k]](obj, parseSettings, offset) || '';\r\n                    }\r\n                    else\r\n                        throw new Error(\"Could not locate parser \" + keys[k].substr(1));\r\n                }\r\n            if (!processed)\r\n                output = (et ? \"\" : \"{\") + this.format(keys.filter(function (k) { return k.length < 2 || k.substr(0, 2) != '..'; }).map(function (k, i) { return (_this.reservedWords.indexOf(k) > -1 || /[^a-z0-9]/i.test(k) ? \"\\\"\" + k + \"\\\"\" : k) + \":\" + (_this.settings.compact ? '' : ' ') + _this._process(obj[k], esc, false, parseSettings, offset + 1); }), parseSettings, offset) + (et ? \"\" : \"}\");\r\n        }\r\n        else if (typeof obj === \"function\") // object not JSON...\r\n            output = obj.toString();\r\n        else\r\n            output = typeof obj === \"string\" && esc ? JSON.stringify(obj) : obj;\r\n        return output;\r\n    };\r\n    Transformer.prototype.processExports = function (output, obj) {\r\n        var _this = this;\r\n        var keys = Object.keys(obj);\r\n        var validkeys = keys.filter(function (k) { return k.indexOf(' ') === -1 && k.indexOf('/') === -1 && k.indexOf('-') === -1 && _this.reservedWords.indexOf(k) === -1; });\r\n        var isDefault = keys.length === 1 && keys[0] === 'default';\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                //for (var req in r) output.code += `${vr} _${r[req]}${sp}=${sp}require('${req}');${nl}`;\r\n                output.code += keys.map(function (key) { return \"module.exports['\" + key + \"']\" + sp + \"=\" + sp + _this._process(obj[key], true, false, output, 0) + \";\"; }).join(nl);\r\n                if (!isDefault)\r\n                    output.code += nl + \"module.exports['default']\" + sp + \"=\" + sp + \"{\" + sp + keys.map(function (key) { return key + \": \" + _this._process(obj[key], true, false, output, 0); }).join(nl) + \" };\";\r\n                break;\r\n            case \"es\":\r\n                if (isDefault)\r\n                    output.code += \"export default\" + sp + this._process(obj[\"default\"], true, false, output, 0) + \";\";\r\n                else {\r\n                    output.code += \"export default\" + sp + \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 ? \"\\\"\" + key + \"\\\": \" + _this._process(obj[key], true, false, output, 0) : key + \":\" + sp + (_this.settings.namedExports ? key : _this._process(obj[key], true, false, output, 2)); }), output, 1) + \"};\";\r\n                    if (this.settings.namedExports && validkeys.length > 0)\r\n                        output.code = validkeys.map(function (key) { return \"export \" + vr + \" \" + key + sp + \"=\" + sp + _this._process(obj[key], true, false, output, 1) + \";\"; }).join(nl) + (\"\" + (nl + output.code + nl));\r\n                }\r\n                break;\r\n            default:\r\n                output.code += \"return \" + (isDefault ? this._process(obj[\"default\"], true, false, output, 1) : \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 ? \"\\\"\" + key + \"\\\": \" + _this._process(obj[key], true, false, output, 1) : key + \":\" + sp + _this._process(obj[key], true, false, output, 2); }), output, 1) + \"}\") + \";\";\r\n        }\r\n    };\r\n    Transformer.prototype.processImports = function (output, name) {\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        var s = {};\r\n        var r = {};\r\n        var s2 = {};\r\n        var r2 = {};\r\n        if (output.imports.length > 0)\r\n            for (var i = 0; i < output.imports.length; i++) {\r\n                var ext = output.imports[i][0] === \"~\";\r\n                if (output.imports[i].indexOf('#') > -1) {\r\n                    var module_name = output.imports[i].substr(0, output.imports[i].indexOf('#'));\r\n                    if ((ext ? s2 : s)[module_name] === undefined)\r\n                        (ext ? s2 : s)[module_name] = {};\r\n                    (ext ? s2 : s)[module_name][output.imports[i].substr(module_name.length + 1)] = i;\r\n                }\r\n                else\r\n                    (ext ? r2 : r)[output.imports[i]] = i;\r\n            }\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                break;\r\n            case \"amd\":\r\n                output.code = \"define(\" + (Object.keys(r).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"'\" + key + \"'\"; }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r).map(function (key) { return '_' + r[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                break;\r\n            case \"es\":\r\n                output.code = Object.keys(s).map(function (key) { return \"import {\" + Object.keys(s[key]).map(function (k) { return k + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from '\" + key + \"';\" + nl; }).join('') + Object.keys(r).map(function (key) { return \"import * as _\" + r[key] + \" from '\" + key.substr(key[0] == \"~\" ? 1 : 0) + \"';\" + nl; }).join('') + output.code;\r\n                break;\r\n            default:\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n        }\r\n        if (Object.keys(s2).length > 0 || Object.keys(r2).length > 0) {\r\n            /*output.code += ';;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;' + JSON.stringify(s2) + ' ' + JSON.stringify(r2);\r\n            if (this.settings.runtimeModule)\r\n                output.code += this.settings.runtimeModule;*/\r\n            switch (this.settings.runtimeModule ? this.settings.runtimeModule.toLowerCase() : \"none\") {\r\n                case \"umd\":\r\n                case \"commonjs\":\r\n                case \"cjs\":\r\n                    //throw new Error(JSON.stringify(s2));\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                    break;\r\n                case \"amd\":\r\n                    output.code = \"define(\" + (Object.keys(r2).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"'\" + key + \"'\"; }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r2).map(function (key) { return '_' + r2[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                    break;\r\n                case \"es\":\r\n                    output.code = Object.keys(s2).map(function (key) { return \"import {\" + Object.keys(s2[key]).map(function (k) { return k.substr(1) + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from '\" + key.substr(1) + \"';\" + nl; }).join('') + Object.keys(r2).map(function (key) { return \"import * as _\" + r2[key] + \" from '\" + key.substr(1) + \"';\" + nl; }).join('') + output.code;\r\n                    break;\r\n                default:\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n            }\r\n        }\r\n    };\r\n    Transformer.prototype.bundleModule = function (obj, name) {\r\n        var output = { name: name, imports: [], exports: {}, compositeObject: false, code: '' };\r\n        this.processExports(output, obj);\r\n        this.processImports(output, name || '');\r\n        return output;\r\n    };\r\n    Transformer.prototype.transform = function (input, name) {\r\n        var obj;\r\n        try {\r\n            obj = typeof input === \"string\" ? JSON.parse(input) : input;\r\n        }\r\n        catch (e) {\r\n            //console.log(JSON.stringify(this.settings));\r\n            if (this.settings.dangerouslyProcessJavaScript || this.settings.dangerouslyProcessJavaScript === undefined) {\r\n                try {\r\n                    obj = Function(\"return (\" + input + \");\")();\r\n                    if (this.settings.dangerouslyProcessJavaScript === undefined)\r\n                        console.warn(\"Warning: \" + (name || '') + \" is not JSON compliant: \" + e.message + \".  Set option \\\"dangerouslyProcessJavaScript\\\" to true to hide this message.\\r\\n\" + input);\r\n                }\r\n                catch (f) {\r\n                    throw new Error(\"Unable to process \" + (name || '') + \" as JavaScript: \" + f.message);\r\n                }\r\n            }\r\n            else\r\n                throw new Error(\"Unable to parse JSON file \" + (name || '') + \": \" + e.message);\r\n        }\r\n        try {\r\n            return this.bundleModule(Array.isArray(obj) || typeof (obj || '') !== 'object' || Object.keys(obj).filter(function (k) { return k[0] == '.'; }).length > 0 ? { \"default\": obj } : obj, name);\r\n        }\r\n        catch (e) {\r\n            throw new Error(\"Unable to transform js template: \" + e.message + \"\\r\\n\" + e.stack);\r\n        }\r\n    };\r\n    return Transformer;\r\n}());\r\nexports.Transformer = Transformer;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Loader = /** @class */ (function () {\r\n    function Loader(app) {\r\n        var _this = this;\r\n        this.app = app;\r\n        if (typeof window === \"object\") {\r\n            var systemjs = Object.getOwnPropertyDescriptor(window, \"System\");\r\n            if (systemjs) {\r\n                systemjs.value.constructor.prototype.jst = function (input, name) { return _this.app.services.transformer.transform(input, name); };\r\n                this.proxy = { \"import\": systemjs.value[\"import\"].bind(systemjs.value), instantiate: systemjs.value.instantiate.bind(systemjs.value), init: function (basePath) { return void {}; } };\r\n            }\r\n            else\r\n                this.proxy = require('../browser/loader')[\"default\"];\r\n        }\r\n        if (this['proxy'] == null)\r\n            this.proxy = require('../nodeJS/loader')[\"default\"];\r\n    }\r\n    Loader.prototype[\"import\"] = function (moduleName, normalizedParentName) {\r\n        var _this = this;\r\n        var u = moduleName.indexOf('#') > -1 ? moduleName.slice(0, moduleName.indexOf('#')) : moduleName;\r\n        var b = u.length + 1 < moduleName.length ? moduleName.slice(u.length + 1).split('#') : [];\r\n        return new Promise(function (r, rj) { return _this.proxy[\"import\"](u, normalizedParentName).then(function (x) {\r\n            if (x[\"default\"])\r\n                x = x[\"default\"];\r\n            for (var i = 0; i < b.length; i++)\r\n                if ((x = x[b[i]]) === undefined) {\r\n                    debugger;\r\n                    rj(\"Could not resolve property \" + b[i] + \" on \" + moduleName);\r\n                }\r\n            ;\r\n            r({ \"default\": x, __esModule: moduleName });\r\n        }, rj); });\r\n    };\r\n    Loader.prototype.instantiate = function (url, parent) {\r\n        return this.proxy.instantiate(url, parent);\r\n    };\r\n    Loader.prototype.init = function (basePath) {\r\n        Object.defineProperty(this.proxy[\"import\"], \"jst\", this.app.services.transformer.transform);\r\n    };\r\n    return Loader;\r\n}());\r\nexports.Loader = Loader;\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar app_1 = require(\"./app\");\r\nexports.App = app_1.App;\r\nvar transformer_1 = require(\"./services/transformer\");\r\nexports.Transformer = transformer_1.Transformer;\r\nvar loader_1 = require(\"./services/loader\");\r\nexports.Loader = loader_1.Loader;\r\nvar types = __importStar(require(\"./types\"));\r\nexports.types = types;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nexports.LogLevel = core_1.types.LogLevel;\r\nexports.ModuleSystem = core_1.types.ModuleSystem;\r\nvar browserType;\r\n(function (browserType) {\r\n    browserType[browserType[\"Opera\"] = 0] = \"Opera\";\r\n    browserType[browserType[\"FireFox\"] = 1] = \"FireFox\";\r\n    browserType[browserType[\"Safari\"] = 2] = \"Safari\";\r\n    browserType[browserType[\"IE\"] = 3] = \"IE\";\r\n    browserType[browserType[\"Edge\"] = 4] = \"Edge\";\r\n    browserType[browserType[\"Chrome\"] = 5] = \"Chrome\";\r\n    browserType[browserType[\"Blink\"] = 6] = \"Blink\";\r\n    browserType[browserType[\"Unknown\"] = 7] = \"Unknown\";\r\n})(browserType = exports.browserType || (exports.browserType = {}));\r\n/*\r\nfunction h(\r\n    node: string,\r\n    params: JSX.HTMLAttributes & JSX.SVGAttributes & Record<string, any> | null,\r\n    ...children: ComponentChildren[]\r\n): VNode<any>;\r\nfunction h<P>(\r\n    node: ui.ComponentFactory<P>,\r\n    params: ui.Attributes & P | null,\r\n    ...children: ui.ComponentChildren[]\r\n): ui.VNode<any>;\r\n\r\nfunction render(node: ui.ComponentChild, parent: Element | Document | ShadowRoot | DocumentFragment, mergeWith?: Element): Element;\r\nfunction rerender(): void;\r\nfunction cloneElement(element: JSX.Element, props: any, ...children: ui.ComponentChildren[]): JSX.Element;\r\n\r\nvar options: {\r\n    syncComponentUpdates?: boolean;\r\n    debounceRendering?: (render: () => void) => void;\r\n    vnode?: (vnode: ui.VNode<any>) => void;\r\n    event?: (event: Event) => Event;\r\n};\r\n*/\r\n/*namespace JSX {\r\n    interface Element extends types.VNode<any> {\r\n    }\r\n\r\n    interface ElementClass extends types.Component<any, any> {\r\n    }\r\n\r\n    interface ElementAttributesProperty {\r\n        props: any;\r\n    }\r\n\r\n    interface ElementChildrenAttribute {\r\n        children: any;\r\n    }\r\n\r\n    type LibraryManagedAttributes<Component, Props> =\r\n        Component extends { defaultProps: infer Defaults }\r\n            ? Defaultize<Props, Defaults>\r\n            : Props;\r\n\r\n    interface SVGAttributes extends HTMLAttributes {\r\n        accentHeight?: number | string;\r\n        accumulate?: \"none\" | \"sum\";\r\n        additive?: \"replace\" | \"sum\";\r\n        alignmentBaseline?: \"auto\" | \"baseline\" | \"before-edge\" | \"text-before-edge\" | \"middle\" | \"central\" | \"after-edge\" | \"text-after-edge\" | \"ideographic\" | \"alphabetic\" | \"hanging\" | \"mathematical\" | \"inherit\";\r\n        allowReorder?: \"no\" | \"yes\";\r\n        alphabetic?: number | string;\r\n        amplitude?: number | string;\r\n        arabicForm?: \"initial\" | \"medial\" | \"terminal\" | \"isolated\";\r\n        ascent?: number | string;\r\n        attributeName?: string;\r\n        attributeType?: string;\r\n        autoReverse?: number | string;\r\n        azimuth?: number | string;\r\n        baseFrequency?: number | string;\r\n        baselineShift?: number | string;\r\n        baseProfile?: number | string;\r\n        bbox?: number | string;\r\n        begin?: number | string;\r\n        bias?: number | string;\r\n        by?: number | string;\r\n        calcMode?: number | string;\r\n        capHeight?: number | string;\r\n        clip?: number | string;\r\n        clipPath?: string;\r\n        clipPathUnits?: number | string;\r\n        clipRule?: number | string;\r\n        colorInterpolation?: number | string;\r\n        colorInterpolationFilters?: \"auto\" | \"sRGB\" | \"linearRGB\" | \"inherit\";\r\n        colorProfile?: number | string;\r\n        colorRendering?: number | string;\r\n        contentScriptType?: number | string;\r\n        contentStyleType?: number | string;\r\n        cursor?: number | string;\r\n        cx?: number | string;\r\n        cy?: number | string;\r\n        d?: string;\r\n        decelerate?: number | string;\r\n        descent?: number | string;\r\n        diffuseConstant?: number | string;\r\n        direction?: number | string;\r\n        display?: number | string;\r\n        divisor?: number | string;\r\n        dominantBaseline?: number | string;\r\n        dur?: number | string;\r\n        dx?: number | string;\r\n        dy?: number | string;\r\n        edgeMode?: number | string;\r\n        elevation?: number | string;\r\n        enableBackground?: number | string;\r\n        end?: number | string;\r\n        exponent?: number | string;\r\n        externalResourcesRequired?: number | string;\r\n        fill?: string;\r\n        fillOpacity?: number | string;\r\n        fillRule?: \"nonzero\" | \"evenodd\" | \"inherit\";\r\n        filter?: string;\r\n        filterRes?: number | string;\r\n        filterUnits?: number | string;\r\n        floodColor?: number | string;\r\n        floodOpacity?: number | string;\r\n        focusable?: number | string;\r\n        fontFamily?: string;\r\n        fontSize?: number | string;\r\n        fontSizeAdjust?: number | string;\r\n        fontStretch?: number | string;\r\n        fontStyle?: number | string;\r\n        fontVariant?: number | string;\r\n        fontWeight?: number | string;\r\n        format?: number | string;\r\n        from?: number | string;\r\n        fx?: number | string;\r\n        fy?: number | string;\r\n        g1?: number | string;\r\n        g2?: number | string;\r\n        glyphName?: number | string;\r\n        glyphOrientationHorizontal?: number | string;\r\n        glyphOrientationVertical?: number | string;\r\n        glyphRef?: number | string;\r\n        gradientTransform?: string;\r\n        gradientUnits?: string;\r\n        hanging?: number | string;\r\n        horizAdvX?: number | string;\r\n        horizOriginX?: number | string;\r\n        ideographic?: number | string;\r\n        imageRendering?: number | string;\r\n        in2?: number | string;\r\n        in?: string;\r\n        intercept?: number | string;\r\n        k1?: number | string;\r\n        k2?: number | string;\r\n        k3?: number | string;\r\n        k4?: number | string;\r\n        k?: number | string;\r\n        kernelMatrix?: number | string;\r\n        kernelUnitLength?: number | string;\r\n        kerning?: number | string;\r\n        keyPoints?: number | string;\r\n        keySplines?: number | string;\r\n        keyTimes?: number | string;\r\n        lengthAdjust?: number | string;\r\n        letterSpacing?: number | string;\r\n        lightingColor?: number | string;\r\n        limitingConeAngle?: number | string;\r\n        local?: number | string;\r\n        markerEnd?: string;\r\n        markerHeight?: number | string;\r\n        markerMid?: string;\r\n        markerStart?: string;\r\n        markerUnits?: number | string;\r\n        markerWidth?: number | string;\r\n        mask?: string;\r\n        maskContentUnits?: number | string;\r\n        maskUnits?: number | string;\r\n        mathematical?: number | string;\r\n        mode?: number | string;\r\n        numOctaves?: number | string;\r\n        offset?: number | string;\r\n        opacity?: number | string;\r\n        operator?: number | string;\r\n        order?: number | string;\r\n        orient?: number | string;\r\n        orientation?: number | string;\r\n        origin?: number | string;\r\n        overflow?: number | string;\r\n        overlinePosition?: number | string;\r\n        overlineThickness?: number | string;\r\n        paintOrder?: number | string;\r\n        panose1?: number | string;\r\n        pathLength?: number | string;\r\n        patternContentUnits?: string;\r\n        patternTransform?: number | string;\r\n        patternUnits?: string;\r\n        pointerEvents?: number | string;\r\n        points?: string;\r\n        pointsAtX?: number | string;\r\n        pointsAtY?: number | string;\r\n        pointsAtZ?: number | string;\r\n        preserveAlpha?: number | string;\r\n        preserveAspectRatio?: string;\r\n        primitiveUnits?: number | string;\r\n        r?: number | string;\r\n        radius?: number | string;\r\n        refX?: number | string;\r\n        refY?: number | string;\r\n        renderingIntent?: number | string;\r\n        repeatCount?: number | string;\r\n        repeatDur?: number | string;\r\n        requiredExtensions?: number | string;\r\n        requiredFeatures?: number | string;\r\n        restart?: number | string;\r\n        result?: string;\r\n        rotate?: number | string;\r\n        rx?: number | string;\r\n        ry?: number | string;\r\n        scale?: number | string;\r\n        seed?: number | string;\r\n        shapeRendering?: number | string;\r\n        slope?: number | string;\r\n        spacing?: number | string;\r\n        specularConstant?: number | string;\r\n        specularExponent?: number | string;\r\n        speed?: number | string;\r\n        spreadMethod?: string;\r\n        startOffset?: number | string;\r\n        stdDeviation?: number | string;\r\n        stemh?: number | string;\r\n        stemv?: number | string;\r\n        stitchTiles?: number | string;\r\n        stopColor?: string;\r\n        stopOpacity?: number | string;\r\n        strikethroughPosition?: number | string;\r\n        strikethroughThickness?: number | string;\r\n        string?: number | string;\r\n        stroke?: string;\r\n        strokeDasharray?: string | number;\r\n        strokeDashoffset?: string | number;\r\n        strokeLinecap?: \"butt\" | \"round\" | \"square\" | \"inherit\";\r\n        strokeLinejoin?: \"miter\" | \"round\" | \"bevel\" | \"inherit\";\r\n        strokeMiterlimit?: string;\r\n        strokeOpacity?: number | string;\r\n        strokeWidth?: number | string;\r\n        surfaceScale?: number | string;\r\n        systemLanguage?: number | string;\r\n        tableValues?: number | string;\r\n        targetX?: number | string;\r\n        targetY?: number | string;\r\n        textAnchor?: string;\r\n        textDecoration?: number | string;\r\n        textLength?: number | string;\r\n        textRendering?: number | string;\r\n        to?: number | string;\r\n        transform?: string;\r\n        u1?: number | string;\r\n        u2?: number | string;\r\n        underlinePosition?: number | string;\r\n        underlineThickness?: number | string;\r\n        unicode?: number | string;\r\n        unicodeBidi?: number | string;\r\n        unicodeRange?: number | string;\r\n        unitsPerEm?: number | string;\r\n        vAlphabetic?: number | string;\r\n        values?: string;\r\n        vectorEffect?: number | string;\r\n        version?: string;\r\n        vertAdvY?: number | string;\r\n        vertOriginX?: number | string;\r\n        vertOriginY?: number | string;\r\n        vHanging?: number | string;\r\n        vIdeographic?: number | string;\r\n        viewBox?: string;\r\n        viewTarget?: number | string;\r\n        visibility?: number | string;\r\n        vMathematical?: number | string;\r\n        widths?: number | string;\r\n        wordSpacing?: number | string;\r\n        writingMode?: number | string;\r\n        x1?: number | string;\r\n        x2?: number | string;\r\n        x?: number | string;\r\n        xChannelSelector?: string;\r\n        xHeight?: number | string;\r\n        xlinkActuate?: string;\r\n        xlinkArcrole?: string;\r\n        xlinkHref?: string;\r\n        xlinkRole?: string;\r\n        xlinkShow?: string;\r\n        xlinkTitle?: string;\r\n        xlinkType?: string;\r\n        xmlBase?: string;\r\n        xmlLang?: string;\r\n        xmlns?: string;\r\n        xmlnsXlink?: string;\r\n        xmlSpace?: string;\r\n        y1?: number | string;\r\n        y2?: number | string;\r\n        y?: number | string;\r\n        yChannelSelector?: string;\r\n        z?: number | string;\r\n        zoomAndPan?: string;\r\n    }\r\n\r\n    interface PathAttributes {\r\n        d: string;\r\n    }\r\n\r\n    export interface EventHandler<E extends Event> {\r\n        (event: E): void;\r\n    }\r\n\r\n    type ClipboardEventHandler = EventHandler<ClipboardEvent>;\r\n    type CompositionEventHandler = EventHandler<CompositionEvent>;\r\n    type DragEventHandler = EventHandler<DragEvent>;\r\n    type FocusEventHandler = EventHandler<FocusEvent>;\r\n    type KeyboardEventHandler = EventHandler<KeyboardEvent>;\r\n    type MouseEventHandler = EventHandler<MouseEvent>;\r\n    type TouchEventHandler = EventHandler<TouchEvent>;\r\n    type UIEventHandler = EventHandler<UIEvent>;\r\n    type WheelEventHandler = EventHandler<WheelEvent>;\r\n    type AnimationEventHandler = EventHandler<AnimationEvent>;\r\n    type TransitionEventHandler = EventHandler<TransitionEvent>;\r\n    type GenericEventHandler = EventHandler<Event>;\r\n    type PointerEventHandler = EventHandler<PointerEvent>;\r\n\r\n    export interface DOMAttributes extends DOMAttributes {\r\n        // Image Events\r\n        onLoad?: GenericEventHandler;\r\n        onError?: GenericEventHandler;\r\n        onLoadCapture?: GenericEventHandler;\r\n\r\n        // Clipboard Events\r\n        onCopy?: ClipboardEventHandler;\r\n        onCopyCapture?: ClipboardEventHandler;\r\n        onCut?: ClipboardEventHandler;\r\n        onCutCapture?: ClipboardEventHandler;\r\n        onPaste?: ClipboardEventHandler;\r\n        onPasteCapture?: ClipboardEventHandler;\r\n\r\n        // Composition Events\r\n        onCompositionEnd?: CompositionEventHandler;\r\n        onCompositionEndCapture?: CompositionEventHandler;\r\n        onCompositionStart?: CompositionEventHandler;\r\n        onCompositionStartCapture?: CompositionEventHandler;\r\n        onCompositionUpdate?: CompositionEventHandler;\r\n        onCompositionUpdateCapture?: CompositionEventHandler;\r\n\r\n        // Focus Events\r\n        onFocus?: FocusEventHandler;\r\n        onFocusCapture?: FocusEventHandler;\r\n        onBlur?: FocusEventHandler;\r\n        onBlurCapture?: FocusEventHandler;\r\n\r\n        // Form Events\r\n        onChange?: GenericEventHandler;\r\n        onChangeCapture?: GenericEventHandler;\r\n        onInput?: GenericEventHandler;\r\n        onInputCapture?: GenericEventHandler;\r\n        onSearch?: GenericEventHandler;\r\n        onSearchCapture?: GenericEventHandler;\r\n        onSubmit?: GenericEventHandler;\r\n        onSubmitCapture?: GenericEventHandler;\r\n        onInvalid?: GenericEventHandler;\r\n\r\n        // Keyboard Events\r\n        onKeyDown?: KeyboardEventHandler;\r\n        onKeyDownCapture?: KeyboardEventHandler;\r\n        onKeyPress?: KeyboardEventHandler;\r\n        onKeyPressCapture?: KeyboardEventHandler;\r\n        onKeyUp?: KeyboardEventHandler;\r\n        onKeyUpCapture?: KeyboardEventHandler;\r\n\r\n        // Media Events\r\n        onAbort?: GenericEventHandler;\r\n        onAbortCapture?: GenericEventHandler;\r\n        onCanPlay?: GenericEventHandler;\r\n        onCanPlayCapture?: GenericEventHandler;\r\n        onCanPlayThrough?: GenericEventHandler;\r\n        onCanPlayThroughCapture?: GenericEventHandler;\r\n        onDurationChange?: GenericEventHandler;\r\n        onDurationChangeCapture?: GenericEventHandler;\r\n        onEmptied?: GenericEventHandler;\r\n        onEmptiedCapture?: GenericEventHandler;\r\n        onEncrypted?: GenericEventHandler;\r\n        onEncryptedCapture?: GenericEventHandler;\r\n        onEnded?: GenericEventHandler;\r\n        onEndedCapture?: GenericEventHandler;\r\n        onLoadedData?: GenericEventHandler;\r\n        onLoadedDataCapture?: GenericEventHandler;\r\n        onLoadedMetadata?: GenericEventHandler;\r\n        onLoadedMetadataCapture?: GenericEventHandler;\r\n        onLoadStart?: GenericEventHandler;\r\n        onLoadStartCapture?: GenericEventHandler;\r\n        onPause?: GenericEventHandler;\r\n        onPauseCapture?: GenericEventHandler;\r\n        onPlay?: GenericEventHandler;\r\n        onPlayCapture?: GenericEventHandler;\r\n        onPlaying?: GenericEventHandler;\r\n        onPlayingCapture?: GenericEventHandler;\r\n        onProgress?: GenericEventHandler;\r\n        onProgressCapture?: GenericEventHandler;\r\n        onRateChange?: GenericEventHandler;\r\n        onRateChangeCapture?: GenericEventHandler;\r\n        onSeeked?: GenericEventHandler;\r\n        onSeekedCapture?: GenericEventHandler;\r\n        onSeeking?: GenericEventHandler;\r\n        onSeekingCapture?: GenericEventHandler;\r\n        onStalled?: GenericEventHandler;\r\n        onStalledCapture?: GenericEventHandler;\r\n        onSuspend?: GenericEventHandler;\r\n        onSuspendCapture?: GenericEventHandler;\r\n        onTimeUpdate?: GenericEventHandler;\r\n        onTimeUpdateCapture?: GenericEventHandler;\r\n        onVolumeChange?: GenericEventHandler;\r\n        onVolumeChangeCapture?: GenericEventHandler;\r\n        onWaiting?: GenericEventHandler;\r\n        onWaitingCapture?: GenericEventHandler;\r\n\r\n        // MouseEvents\r\n        onClick?: MouseEventHandler;\r\n        onClickCapture?: MouseEventHandler;\r\n        onContextMenu?: MouseEventHandler;\r\n        onContextMenuCapture?: MouseEventHandler;\r\n        onDblClick?: MouseEventHandler;\r\n        onDblClickCapture?: MouseEventHandler;\r\n        onDrag?: DragEventHandler;\r\n        onDragCapture?: DragEventHandler;\r\n        onDragEnd?: DragEventHandler;\r\n        onDragEndCapture?: DragEventHandler;\r\n        onDragEnter?: DragEventHandler;\r\n        onDragEnterCapture?: DragEventHandler;\r\n        onDragExit?: DragEventHandler;\r\n        onDragExitCapture?: DragEventHandler;\r\n        onDragLeave?: DragEventHandler;\r\n        onDragLeaveCapture?: DragEventHandler;\r\n        onDragOver?: DragEventHandler;\r\n        onDragOverCapture?: DragEventHandler;\r\n        onDragStart?: DragEventHandler;\r\n        onDragStartCapture?: DragEventHandler;\r\n        onDrop?: DragEventHandler;\r\n        onDropCapture?: DragEventHandler;\r\n        onMouseDown?: MouseEventHandler;\r\n        onMouseDownCapture?: MouseEventHandler;\r\n        onMouseEnter?: MouseEventHandler;\r\n        onMouseEnterCapture?: MouseEventHandler;\r\n        onMouseLeave?: MouseEventHandler;\r\n        onMouseLeaveCapture?: MouseEventHandler;\r\n        onMouseMove?: MouseEventHandler;\r\n        onMouseMoveCapture?: MouseEventHandler;\r\n        onMouseOut?: MouseEventHandler;\r\n        onMouseOutCapture?: MouseEventHandler;\r\n        onMouseOver?: MouseEventHandler;\r\n        onMouseOverCapture?: MouseEventHandler;\r\n        onMouseUp?: MouseEventHandler;\r\n        onMouseUpCapture?: MouseEventHandler;\r\n\r\n        // Selection Events\r\n        onSelect?: GenericEventHandler;\r\n        onSelectCapture?: GenericEventHandler;\r\n\r\n        // Touch Events\r\n        onTouchCancel?: TouchEventHandler;\r\n        onTouchCancelCapture?: TouchEventHandler;\r\n        onTouchEnd?: TouchEventHandler;\r\n        onTouchEndCapture?: TouchEventHandler;\r\n        onTouchMove?: TouchEventHandler;\r\n        onTouchMoveCapture?: TouchEventHandler;\r\n        onTouchStart?: TouchEventHandler;\r\n        onTouchStartCapture?: TouchEventHandler;\r\n\r\n        // Pointer Events\r\n        onPointerOver?: PointerEventHandler;\r\n        onPointerOverCapture?: PointerEventHandler;\r\n        onPointerEnter?: PointerEventHandler;\r\n        onPointerEnterCapture?: PointerEventHandler;\r\n        onPointerDown?: PointerEventHandler;\r\n        onPointerDownCapture?: PointerEventHandler;\r\n        onPointerMove?: PointerEventHandler;\r\n        onPointerMoveCapture?: PointerEventHandler;\r\n        onPointerUp?: PointerEventHandler;\r\n        onPointerUpCapture?: PointerEventHandler;\r\n        onPointerCancel?: PointerEventHandler;\r\n        onPointerCancelCapture?: PointerEventHandler;\r\n        onPointerOut?: PointerEventHandler;\r\n        onPointerOutCapture?: PointerEventHandler;\r\n        onPointerLeave?: PointerEventHandler;\r\n        onPointerLeaveCapture?: PointerEventHandler;\r\n        onGotPointerCapture?: PointerEventHandler;\r\n        onGotPointerCaptureCapture?: PointerEventHandler;\r\n        onLostPointerCapture?: PointerEventHandler;\r\n        onLostPointerCaptureCapture?: PointerEventHandler;\r\n\r\n        // UI Events\r\n        onScroll?: UIEventHandler;\r\n        onScrollCapture?: UIEventHandler;\r\n\r\n        // Wheel Events\r\n        onWheel?: WheelEventHandler;\r\n        onWheelCapture?: WheelEventHandler;\r\n\r\n        // Animation Events\r\n        onAnimationStart?: AnimationEventHandler;\r\n        onAnimationStartCapture?: AnimationEventHandler;\r\n        onAnimationEnd?: AnimationEventHandler;\r\n        onAnimationEndCapture?: AnimationEventHandler;\r\n        onAnimationIteration?: AnimationEventHandler;\r\n        onAnimationIterationCapture?: AnimationEventHandler;\r\n\r\n        // Transition Events\r\n        onTransitionEnd?: TransitionEventHandler;\r\n        onTransitionEndCapture?: TransitionEventHandler;\r\n    }\r\n\r\n    interface HTMLAttributes extends HTMLAttributes, DOMAttributes {\r\n        // Standard HTML Attributes\r\n        accept?: string;\r\n        acceptCharset?: string;\r\n        accessKey?: string;\r\n        action?: string;\r\n        allowFullScreen?: boolean;\r\n        allowTransparency?: boolean;\r\n        alt?: string;\r\n        async?: boolean;\r\n        autocomplete?: string;\r\n        autofocus?: boolean;\r\n        autoPlay?: boolean;\r\n        capture?: boolean;\r\n        cellPadding?: number | string;\r\n        cellSpacing?: number | string;\r\n        charSet?: string;\r\n        challenge?: string;\r\n        checked?: boolean;\r\n        class?: string;\r\n        className?: string;\r\n        cols?: number;\r\n        colSpan?: number;\r\n        content?: string;\r\n        contentEditable?: boolean;\r\n        contextMenu?: string;\r\n        controls?: boolean;\r\n        controlsList?: string;\r\n        coords?: string;\r\n        crossOrigin?: string;\r\n        data?: string;\r\n        dateTime?: string;\r\n        default?: boolean;\r\n        defer?: boolean;\r\n        dir?: string;\r\n        disabled?: boolean;\r\n        download?: any;\r\n        draggable?: boolean;\r\n        encType?: string;\r\n        form?: string;\r\n        formAction?: string;\r\n        formEncType?: string;\r\n        formMethod?: string;\r\n        formNoValidate?: boolean;\r\n        formTarget?: string;\r\n        frameBorder?: number | string;\r\n        headers?: string;\r\n        height?: number | string;\r\n        hidden?: boolean;\r\n        high?: number;\r\n        href?: string;\r\n        hrefLang?: string;\r\n        for?: string;\r\n        httpEquiv?: string;\r\n        icon?: string;\r\n        id?: string;\r\n        inputMode?: string;\r\n        integrity?: string;\r\n        is?: string;\r\n        keyParams?: string;\r\n        keyType?: string;\r\n        kind?: string;\r\n        label?: string;\r\n        lang?: string;\r\n        list?: string;\r\n        loop?: boolean;\r\n        low?: number;\r\n        manifest?: string;\r\n        marginHeight?: number;\r\n        marginWidth?: number;\r\n        max?: number | string;\r\n        maxLength?: number;\r\n        media?: string;\r\n        mediaGroup?: string;\r\n        method?: string;\r\n        min?: number | string;\r\n        minLength?: number;\r\n        multiple?: boolean;\r\n        muted?: boolean;\r\n        name?: string;\r\n        noValidate?: boolean;\r\n        open?: boolean;\r\n        optimum?: number;\r\n        pattern?: string;\r\n        placeholder?: string;\r\n        playsInline?: boolean;\r\n        poster?: string;\r\n        preload?: string;\r\n        radioGroup?: string;\r\n        readOnly?: boolean;\r\n        rel?: string;\r\n        required?: boolean;\r\n        role?: string;\r\n        rows?: number;\r\n        rowSpan?: number;\r\n        sandbox?: string;\r\n        scope?: string;\r\n        scoped?: boolean;\r\n        scrolling?: string;\r\n        seamless?: boolean;\r\n        selected?: boolean;\r\n        shape?: string;\r\n        size?: number;\r\n        sizes?: string;\r\n        slot?: string;\r\n        span?: number;\r\n        spellcheck?: boolean;\r\n        src?: string;\r\n        srcset?: string;\r\n        srcDoc?: string;\r\n        srcLang?: string;\r\n        srcSet?: string;\r\n        start?: number;\r\n        step?: number | string;\r\n        style?: any;\r\n        summary?: string;\r\n        tabIndex?: number;\r\n        target?: string;\r\n        title?: string;\r\n        type?: string;\r\n        useMap?: string;\r\n        value?: string | string[] | number;\r\n        width?: number | string;\r\n        wmode?: string;\r\n        wrap?: string;\r\n\r\n        // RDFa Attributes\r\n        about?: string;\r\n        datatype?: string;\r\n        inlist?: any;\r\n        prefix?: string;\r\n        property?: string;\r\n        resource?: string;\r\n        typeof?: string;\r\n        vocab?: string;\r\n    }\r\n\r\n    interface IntrinsicElements {\r\n        // HTML\r\n        a: HTMLAttributes;\r\n        abbr: HTMLAttributes;\r\n        address: HTMLAttributes;\r\n        area: HTMLAttributes;\r\n        article: HTMLAttributes;\r\n        aside: HTMLAttributes;\r\n        audio: HTMLAttributes;\r\n        b: HTMLAttributes;\r\n        base: HTMLAttributes;\r\n        bdi: HTMLAttributes;\r\n        bdo: HTMLAttributes;\r\n        big: HTMLAttributes;\r\n        blockquote: HTMLAttributes;\r\n        body: HTMLAttributes;\r\n        br: HTMLAttributes;\r\n        button: HTMLAttributes;\r\n        canvas: HTMLAttributes;\r\n        caption: HTMLAttributes;\r\n        cite: HTMLAttributes;\r\n        code: HTMLAttributes;\r\n        col: HTMLAttributes;\r\n        colgroup: HTMLAttributes;\r\n        data: HTMLAttributes;\r\n        datalist: HTMLAttributes;\r\n        dd: HTMLAttributes;\r\n        del: HTMLAttributes;\r\n        details: HTMLAttributes;\r\n        dfn: HTMLAttributes;\r\n        dialog: HTMLAttributes;\r\n        div: HTMLAttributes;\r\n        dl: HTMLAttributes;\r\n        dt: HTMLAttributes;\r\n        em: HTMLAttributes;\r\n        embed: HTMLAttributes;\r\n        fieldset: HTMLAttributes;\r\n        figcaption: HTMLAttributes;\r\n        figure: HTMLAttributes;\r\n        footer: HTMLAttributes;\r\n        form: HTMLAttributes;\r\n        h1: HTMLAttributes;\r\n        h2: HTMLAttributes;\r\n        h3: HTMLAttributes;\r\n        h4: HTMLAttributes;\r\n        h5: HTMLAttributes;\r\n        h6: HTMLAttributes;\r\n        head: HTMLAttributes;\r\n        header: HTMLAttributes;\r\n        hr: HTMLAttributes;\r\n        html: HTMLAttributes;\r\n        i: HTMLAttributes;\r\n        iframe: HTMLAttributes;\r\n        img: HTMLAttributes;\r\n        input: HTMLAttributes;\r\n        ins: HTMLAttributes;\r\n        kbd: HTMLAttributes;\r\n        keygen: HTMLAttributes;\r\n        label: HTMLAttributes;\r\n        legend: HTMLAttributes;\r\n        li: HTMLAttributes;\r\n        link: HTMLAttributes;\r\n        main: HTMLAttributes;\r\n        map: HTMLAttributes;\r\n        mark: HTMLAttributes;\r\n        menu: HTMLAttributes;\r\n        menuitem: HTMLAttributes;\r\n        meta: HTMLAttributes;\r\n        meter: HTMLAttributes;\r\n        nav: HTMLAttributes;\r\n        noscript: HTMLAttributes;\r\n        object: HTMLAttributes;\r\n        ol: HTMLAttributes;\r\n        optgroup: HTMLAttributes;\r\n        option: HTMLAttributes;\r\n        output: HTMLAttributes;\r\n        p: HTMLAttributes;\r\n        param: HTMLAttributes;\r\n        picture: HTMLAttributes;\r\n        pre: HTMLAttributes;\r\n        progress: HTMLAttributes;\r\n        q: HTMLAttributes;\r\n        rp: HTMLAttributes;\r\n        rt: HTMLAttributes;\r\n        ruby: HTMLAttributes;\r\n        s: HTMLAttributes;\r\n        samp: HTMLAttributes;\r\n        script: HTMLAttributes;\r\n        section: HTMLAttributes;\r\n        select: HTMLAttributes;\r\n        slot: HTMLAttributes;\r\n        small: HTMLAttributes;\r\n        source: HTMLAttributes;\r\n        span: HTMLAttributes;\r\n        strong: HTMLAttributes;\r\n        style: HTMLAttributes;\r\n        sub: HTMLAttributes;\r\n        summary: HTMLAttributes;\r\n        sup: HTMLAttributes;\r\n        table: HTMLAttributes;\r\n        tbody: HTMLAttributes;\r\n        td: HTMLAttributes;\r\n        textarea: HTMLAttributes;\r\n        tfoot: HTMLAttributes;\r\n        th: HTMLAttributes;\r\n        thead: HTMLAttributes;\r\n        time: HTMLAttributes;\r\n        title: HTMLAttributes;\r\n        tr: HTMLAttributes;\r\n        track: HTMLAttributes;\r\n        u: HTMLAttributes;\r\n        ul: HTMLAttributes;\r\n        \"var\": HTMLAttributes;\r\n        video: HTMLAttributes;\r\n        wbr: HTMLAttributes;\r\n\r\n        //SVG\r\n        svg: SVGAttributes;\r\n        animate: SVGAttributes;\r\n        circle: SVGAttributes;\r\n        clipPath: SVGAttributes;\r\n        defs: SVGAttributes;\r\n        ellipse: SVGAttributes;\r\n        feBlend: SVGAttributes;\r\n        feColorMatrix: SVGAttributes;\r\n        feComponentTransfer: SVGAttributes;\r\n        feComposite: SVGAttributes;\r\n        feConvolveMatrix: SVGAttributes;\r\n        feDiffuseLighting: SVGAttributes;\r\n        feDisplacementMap: SVGAttributes;\r\n        feFlood: SVGAttributes;\r\n        feGaussianBlur: SVGAttributes;\r\n        feImage: SVGAttributes;\r\n        feMerge: SVGAttributes;\r\n        feMergeNode: SVGAttributes;\r\n        feMorphology: SVGAttributes;\r\n        feOffset: SVGAttributes;\r\n        feSpecularLighting: SVGAttributes;\r\n        feTile: SVGAttributes;\r\n        feTurbulence: SVGAttributes;\r\n        filter: SVGAttributes;\r\n        foreignObject: SVGAttributes;\r\n        g: SVGAttributes;\r\n        image: SVGAttributes;\r\n        line: SVGAttributes;\r\n        linearGradient: SVGAttributes;\r\n        marker: SVGAttributes;\r\n        mask: SVGAttributes;\r\n        path: SVGAttributes;\r\n        pattern: SVGAttributes;\r\n        polygon: SVGAttributes;\r\n        polyline: SVGAttributes;\r\n        radialGradient: SVGAttributes;\r\n        rect: SVGAttributes;\r\n        stop: SVGAttributes;\r\n        symbol: SVGAttributes;\r\n        text: SVGAttributes;\r\n        tspan: SVGAttributes;\r\n        use: SVGAttributes;\r\n    }\r\n}\r\n\r\n\r\n\r\ntype Defaultize<Props, Defaults> =\r\n    // Distribute over unions\r\n    Props extends any\r\n        ? \t// Make any properties included in Default optional\r\n            & Partial<Pick<Props, Extract<keyof Props, keyof Defaults>>>\r\n            // Include the remaining properties from Props\r\n            & Pick<Props, Exclude<keyof Props, keyof Defaults>>\r\n        : never;\r\n*/\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar types = __importStar(require(\"../types\"));\r\nvar WebUI = /** @class */ (function () {\r\n    function WebUI(app) {\r\n        this.type = \"UI\";\r\n        this.app = app;\r\n        this.app.options = this.app.options || {};\r\n        if (typeof window === \"object\") {\r\n            var obj = (Object.getOwnPropertyDescriptor(window, \"preact\") || Object.getOwnPropertyDescriptor(window, \"React\"));\r\n            if (obj) {\r\n                this.processElementInternal = obj.value.h || obj.value.createElement;\r\n                this.Component = obj.value.Component;\r\n                this.renderInternal = obj.value.render || (Object.getOwnPropertyDescriptor(window, \"ReactDOM\") || { value: null }).value.render;\r\n            }\r\n        }\r\n    }\r\n    WebUI.prototype.render = function (ui, parent, mergeWith) {\r\n        if (this.renderInternal) {\r\n            this.app.services.logger.log.call(this, types.LogLevel.Trace, \"WebUI.render\", [ui]);\r\n            return this.renderInternal(ui, parent, mergeWith);\r\n        }\r\n        else\r\n            this.app.services.logger.log.call(this, types.LogLevel.Error, \"Unable to render UI - No UI framework detected. \\nEnsure that you have referenced a UI framework before executing the application, or specify using app.services.UI\");\r\n    };\r\n    WebUI.prototype.overrideStyles = function (style) {\r\n        switch (this.app.info.browser) {\r\n            case types.browserType.Safari:\r\n                if (style.display === \"flex\")\r\n                    style.display = \"-webkit-flex\";\r\n                if (style.flexDirection)\r\n                    style.WebkitFlexDirection = style.flexDirection;\r\n                if (style.flexGrow)\r\n                    style.WebkitFlexGrow = style.flexGrow;\r\n                if (style.flexShrink)\r\n                    style.WebkitFlexShrink = style.flexShrink;\r\n                if (style.backgroundImage && /linear-gradient/.test(style.backgroundImage))\r\n                    style.backgroundImage = '-webkit-' + style.backgroundImage;\r\n                if (style.backgroundImage)\r\n                    console.log(style);\r\n                break;\r\n        }\r\n    };\r\n    // ether an element, or array of elements depending on depth == even or odd\r\n    WebUI.prototype.processElement = function (element, depth, index) {\r\n        if (depth % 2 === 0) {\r\n            if (typeof element != \"string\" && !Array.isArray(element)) {\r\n                this.app.services.logger.log.call(this, types.LogLevel.Error, \"Child element [2] should be either a string or array\", [{ element: element }]);\r\n                //throw new Error(\"Child element [2] should be either a string or array\");\r\n                return element;\r\n            }\r\n            else if (Array.isArray(element)) {\r\n                if (index !== undefined) {\r\n                    element[1] = element[1] || {};\r\n                    if (!element[1].key)\r\n                        element[1].key = index;\r\n                }\r\n                if (element[1] && element[1].style)\r\n                    this.overrideStyles(element[1].style);\r\n            }\r\n            //if (Array.isArray(element) && element[1] && element[1].context && typeof element[1].context.intercept === \"function\")\r\n            //    element = element[1].context.intercept(element);\r\n        }\r\n        //console.log({element, index, depth, code: JSON.stringify(element)});\r\n        return depth % 2 === 1 || !this.processElementInternal || !Array.isArray(element) ? element : this.processElementInternal.apply(this, element);\r\n    };\r\n    return WebUI;\r\n}());\r\nexports.WebUI = WebUI;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    }\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nvar WebUI_1 = require(\"./services/WebUI\");\r\nvar types = __importStar(require(\"./types\"));\r\nvar WebApp = /** @class */ (function (_super) {\r\n    __extends(WebApp, _super);\r\n    //info: fibre.IInfo\r\n    function WebApp(app, context) {\r\n        if (app === void 0) { app = { main: [] }; }\r\n        var _this = this;\r\n        var t = __assign({}, app, { info: __assign({ browser: types.browserType.Unknown }, app.info), services: __assign({ UI: app.services && app.services.UI || WebUI_1.WebUI }, app.services), options: app.options || {}, controllers: __assign({}, app.controllers), components: __assign({}, app.components) });\r\n        _this = _super.call(this, t) || this;\r\n        if (typeof document === \"object\") { // web app\r\n            var w = window;\r\n            var g = global;\r\n            var d = document;\r\n            var bt = types.browserType.Unknown;\r\n            if (w && g && d) {\r\n                if (g.InstallTrigger !== undefined)\r\n                    _this.info.browser = types.browserType.FireFox;\r\n                else if ( /*@cc_on!@*/false || !!d.documentMode)\r\n                    bt = types.browserType.IE;\r\n                else if (!!w.StyleMedia)\r\n                    bt = types.browserType.Edge;\r\n                else if (/constructor/i.test(w.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!w['safari'] || (typeof g.safari !== 'undefined' && g.safari.pushNotification)))\r\n                    bt = types.browserType.Safari;\r\n                else if (!!w.chrome && (!!w.chrome.webstore || !!w.chrome.runtime))\r\n                    bt = types.browserType.Chrome;\r\n                else if ((Object.getOwnPropertyDescriptor(window, \"opr\") && Object.getOwnPropertyDescriptor(window, \"addons\")) || Object.getOwnPropertyDescriptor(window, \"opera\") || navigator.userAgent.indexOf(' OPR/') >= 0)\r\n                    bt = types.browserType.Opera;\r\n                if ((bt === types.browserType.Chrome || bt === types.browserType.Opera) && !!w.CSS)\r\n                    bt = types.browserType.Blink;\r\n            }\r\n            _this.info.browser = bt;\r\n        }\r\n        return _this;\r\n    }\r\n    WebApp.prototype.run = function () {\r\n        var _this = this;\r\n        this.services.logger.log.call(this, types.LogLevel.Trace, 'App.run');\r\n        var main = null;\r\n        return new Promise(function (resolve, reject) {\r\n            try {\r\n                _this.initApp();\r\n                main = _this.services.navigation.resolve.apply(_this);\r\n            }\r\n            catch (e) {\r\n                _this.services.logger.log.call(_this, types.LogLevel.Error, e);\r\n                reject(e);\r\n            }\r\n            _this.render(main).then(resolve, function (err) { _this.services.logger.log.call(_this, types.LogLevel.Error, err.message, err.stack); reject(err); _this.render([\"pre\", {}, err.stack]); });\r\n        });\r\n    };\r\n    WebApp.prototype.render = function (ui) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.services.logger.log.call(_this, types.LogLevel.Trace, 'App.render', [{ ui: ui }]);\r\n            _this.services.processor.process(ui).then(function (value) {\r\n                try {\r\n                    var target = null;\r\n                    if (typeof document === \"object\") { // web app\r\n                        if (typeof _this.options.target === \"string\")\r\n                            target = document.getElementById(_this.options.target);\r\n                        else if (_this.options.target && _this.options.target.tagName === \"IFRAME\") {\r\n                            var fr = _this.options.target;\r\n                            if (fr.contentDocument)\r\n                                target = !fr.contentDocument.body ? fr.contentDocument.createElement('BODY') : fr.contentDocument.body;\r\n                        }\r\n                        else if (!document.body)\r\n                            document.body = document.createElement('BODY');\r\n                        target = target || document.body;\r\n                        if (target.tagName === \"BODY\") {\r\n                            var body_1 = target;\r\n                            var doc = (body_1.ownerDocument ? body_1.ownerDocument : document.body);\r\n                            target = doc.getElementById(\"main\") || function () {\r\n                                var d = body_1.appendChild((body_1.ownerDocument ? body_1.ownerDocument : document.body).createElement(\"div\"));\r\n                                if (this.options && this.options.fullHeight) {\r\n                                    body_1.style.height = body_1.style.height || \"100%\";\r\n                                    d.style.height = \"100%\";\r\n                                }\r\n                                return d;\r\n                            }.apply(_this);\r\n                            if (!target.id)\r\n                                target.setAttribute(\"id\", \"main\");\r\n                        }\r\n                        else if (_this.options.target == null)\r\n                            throw new Error(\"Cannot locate target (\" + (_this.options.target ? 'not specified' : _this.options.target) + \") in html document body.\");\r\n                        if (_this.options.title)\r\n                            document.title = _this.options.title;\r\n                        //if (module && module.hot) module.hot.accept();\r\n                        if (target.hasChildNodes())\r\n                            target.innerHTML = \"\";\r\n                    }\r\n                    else\r\n                        throw new Error(\"Document node undefined.  Are you running WebApp in the context of a browser?\");\r\n                    resolve(_this.services.UI.render(value, target));\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, function (r) { return reject(r); });\r\n        });\r\n    };\r\n    return WebApp;\r\n}(core_1.App));\r\nexports.WebApp = WebApp;\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nexports.App = core_1.App;\r\nexports.Loader = core_1.Loader;\r\nexports.Transformer = core_1.Transformer;\r\nvar WebApp_1 = require(\"./WebApp\");\r\nexports.WebApp = WebApp_1.WebApp;\r\nvar types = __importStar(require(\"./types\"));\r\nexports.types = types;\r\n","'use strict';\n\nvar PENDING = 'pending';\nvar SETTLED = 'settled';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar NOOP = function () {};\nvar isNode = typeof global !== 'undefined' && typeof global.process !== 'undefined' && typeof global.process.emit === 'function';\n\nvar asyncSetTimer = typeof setImmediate === 'undefined' ? setTimeout : setImmediate;\nvar asyncQueue = [];\nvar asyncTimer;\n\nfunction asyncFlush() {\n\t// run promise callbacks\n\tfor (var i = 0; i < asyncQueue.length; i++) {\n\t\tasyncQueue[i][0](asyncQueue[i][1]);\n\t}\n\n\t// reset async asyncQueue\n\tasyncQueue = [];\n\tasyncTimer = false;\n}\n\nfunction asyncCall(callback, arg) {\n\tasyncQueue.push([callback, arg]);\n\n\tif (!asyncTimer) {\n\t\tasyncTimer = true;\n\t\tasyncSetTimer(asyncFlush, 0);\n\t}\n}\n\nfunction invokeResolver(resolver, promise) {\n\tfunction resolvePromise(value) {\n\t\tresolve(promise, value);\n\t}\n\n\tfunction rejectPromise(reason) {\n\t\treject(promise, reason);\n\t}\n\n\ttry {\n\t\tresolver(resolvePromise, rejectPromise);\n\t} catch (e) {\n\t\trejectPromise(e);\n\t}\n}\n\nfunction invokeCallback(subscriber) {\n\tvar owner = subscriber.owner;\n\tvar settled = owner._state;\n\tvar value = owner._data;\n\tvar callback = subscriber[settled];\n\tvar promise = subscriber.then;\n\n\tif (typeof callback === 'function') {\n\t\tsettled = FULFILLED;\n\t\ttry {\n\t\t\tvalue = callback(value);\n\t\t} catch (e) {\n\t\t\treject(promise, e);\n\t\t}\n\t}\n\n\tif (!handleThenable(promise, value)) {\n\t\tif (settled === FULFILLED) {\n\t\t\tresolve(promise, value);\n\t\t}\n\n\t\tif (settled === REJECTED) {\n\t\t\treject(promise, value);\n\t\t}\n\t}\n}\n\nfunction handleThenable(promise, value) {\n\tvar resolved;\n\n\ttry {\n\t\tif (promise === value) {\n\t\t\tthrow new TypeError('A promises callback cannot return that same promise.');\n\t\t}\n\n\t\tif (value && (typeof value === 'function' || typeof value === 'object')) {\n\t\t\t// then should be retrieved only once\n\t\t\tvar then = value.then;\n\n\t\t\tif (typeof then === 'function') {\n\t\t\t\tthen.call(value, function (val) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\tif (value === val) {\n\t\t\t\t\t\t\tfulfill(promise, val);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(promise, val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function (reason) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\treject(promise, reason);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (!resolved) {\n\t\t\treject(promise, e);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction resolve(promise, value) {\n\tif (promise === value || !handleThenable(promise, value)) {\n\t\tfulfill(promise, value);\n\t}\n}\n\nfunction fulfill(promise, value) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = value;\n\n\t\tasyncCall(publishFulfillment, promise);\n\t}\n}\n\nfunction reject(promise, reason) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = reason;\n\n\t\tasyncCall(publishRejection, promise);\n\t}\n}\n\nfunction publish(promise) {\n\tpromise._then = promise._then.forEach(invokeCallback);\n}\n\nfunction publishFulfillment(promise) {\n\tpromise._state = FULFILLED;\n\tpublish(promise);\n}\n\nfunction publishRejection(promise) {\n\tpromise._state = REJECTED;\n\tpublish(promise);\n\tif (!promise._handled && isNode) {\n\t\tglobal.process.emit('unhandledRejection', promise._data, promise);\n\t}\n}\n\nfunction notifyRejectionHandled(promise) {\n\tglobal.process.emit('rejectionHandled', promise);\n}\n\n/**\n * @class\n */\nfunction Promise(resolver) {\n\tif (typeof resolver !== 'function') {\n\t\tthrow new TypeError('Promise resolver ' + resolver + ' is not a function');\n\t}\n\n\tif (this instanceof Promise === false) {\n\t\tthrow new TypeError('Failed to construct \\'Promise\\': Please use the \\'new\\' operator, this object constructor cannot be called as a function.');\n\t}\n\n\tthis._then = [];\n\n\tinvokeResolver(resolver, this);\n}\n\nPromise.prototype = {\n\tconstructor: Promise,\n\n\t_state: PENDING,\n\t_then: null,\n\t_data: undefined,\n\t_handled: false,\n\n\tthen: function (onFulfillment, onRejection) {\n\t\tvar subscriber = {\n\t\t\towner: this,\n\t\t\tthen: new this.constructor(NOOP),\n\t\t\tfulfilled: onFulfillment,\n\t\t\trejected: onRejection\n\t\t};\n\n\t\tif ((onRejection || onFulfillment) && !this._handled) {\n\t\t\tthis._handled = true;\n\t\t\tif (this._state === REJECTED && isNode) {\n\t\t\t\tasyncCall(notifyRejectionHandled, this);\n\t\t\t}\n\t\t}\n\n\t\tif (this._state === FULFILLED || this._state === REJECTED) {\n\t\t\t// already resolved, call callback async\n\t\t\tasyncCall(invokeCallback, subscriber);\n\t\t} else {\n\t\t\t// subscribe\n\t\t\tthis._then.push(subscriber);\n\t\t}\n\n\t\treturn subscriber.then;\n\t},\n\n\tcatch: function (onRejection) {\n\t\treturn this.then(null, onRejection);\n\t}\n};\n\nPromise.all = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.all().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar results = [];\n\t\tvar remaining = 0;\n\n\t\tfunction resolver(index) {\n\t\t\tremaining++;\n\t\t\treturn function (value) {\n\t\t\t\tresults[index] = value;\n\t\t\t\tif (!--remaining) {\n\t\t\t\t\tresolve(results);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolver(i), reject);\n\t\t\t} else {\n\t\t\t\tresults[i] = promise;\n\t\t\t}\n\t\t}\n\n\t\tif (!remaining) {\n\t\t\tresolve(results);\n\t\t}\n\t});\n};\n\nPromise.race = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.race().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolve, reject);\n\t\t\t} else {\n\t\t\t\tresolve(promise);\n\t\t\t}\n\t\t}\n\t});\n};\n\nPromise.resolve = function (value) {\n\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\treturn value;\n\t}\n\n\treturn new Promise(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nPromise.reject = function (reason) {\n\treturn new Promise(function (resolve, reject) {\n\t\treject(reason);\n\t});\n};\n\nmodule.exports = Promise;\n","require('systemjs/dist/s.js');\r\nrequire('systemjs/dist/extras/transform');\r\nrequire('systemjs/dist/extras/named-exports.js');\r\nrequire('systemjs/dist/extras/named-register.js');\r\nrequire('systemjs/dist/extras/amd.js');\r\nconst externals = { \"@appfibre/core\": require('@appfibre/core'), \"@appfibre/webapp\": require('@appfibre/webapp')  };\r\nif (!this.Promise) this.Promise = require('pinkie');\r\n\r\nconst systemJSPrototype = System.constructor.prototype;\r\nconst _jst = new externals[\"@appfibre/core\"].Transformer({ module: 'amd'});\r\n\r\nsystemJSPrototype.jst = function(input, name) {\r\n\treturn _jst.transform(input, name);\r\n}\r\n\r\nconst instantiate = systemJSPrototype.instantiate;\r\nsystemJSPrototype.instantiate = function (url, parent) {\r\n\tif (url.slice(-5) === '.wasm')\r\n\t\treturn instantiate.call(this, url, parent);\r\n\telse if (url.slice(-4) === '.css')\r\n\t{\r\n\t\tvar link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.href = url;\r\n\t\tdocument.head.appendChild(link);\r\n\t\treturn [[], function () { return {\"execute\": undefined }}];\r\n\t}\r\n\r\n\r\n\tconst loader = this;\r\n\tif (url[0] === '@') {\r\n\t\tif (externals[url])\r\n\t\t\treturn [[], function (_export) {\r\n\t\t\t\t_export('default', externals[url]);\r\n\t\t\t\tconst k = Object.keys(externals[url]);\r\n\t\t\t\tfor (let i in k) _export(k[i], externals[url][k[i]]);\r\n\t\t\t\treturn { execute (z) {}};\r\n\t\t\t}];\r\n\t\telse throw new Error(`Requested component (${url}) not embedded into bundle`);\r\n\t}\r\n\r\n\treturn fetch(url)\r\n\t\t.then(function (response) {\r\n\t\t\ttry {\r\n\t\t\t\tswitch (response.contentType) {\r\n\t\t\t\t\tcase \"application/javascript\":\r\n\t\t\t\t\t\t\treturn response.text;\r\n\t\t\t\t\tcase \"application/json\":\r\n\t\t\t\t\t\t\treturn systemJSPrototype.jst(response.text, url).code;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t return \"define(function() { return \\'\" + response.text.replace(/\\'/g, \"\\\\\\'\").replace(/\\\"/g, \"\\\\\\\"\") + \"\\';})\";\r\n\t\t\t\t}\r\n\t\t\t} catch (ex) {\r\n\t\t\t\tconsole.error('Error transforming ' + url + ': ' + ex.description || ex.message, ex.stack || '', [response.text]);\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t}, (reason) => {throw new Error('Fetch error: ' + reason + (parent ? ' loading from  ' + parent : ''));})\r\n\t\t.then((source) => {   \r\n    try{\r\n      (0, eval)(source + '\\n//# sourceURL=' + url);\r\n    } catch (ex) {\r\n      console.error('Error evaluating ' + url + ': ' + ex.description || ex.message, ex.stack || '', [source]);\r\n      throw ex;\r\n    }\r\n    return loader.getRegister();\r\n  }).catch((message) => {console.error('Error instantiating ' + url + ': ' + message.description || message.message, message.stack || \"\"); throw new Error(message);});\r\n};\r\n\r\n// Hookable transform function!\r\n/*function transform (id, source, contentType) {\r\n\tswitch (contentType) {\r\n\r\n\t\tdefault:\r\n\t\t\treturn \"return \" + replace()\r\n\t}\r\n\treturn (id.indexOf('.json')>-1 || id.indexOf('.jst')>-1) ? new externals['@appfibre/webapp'].Transformer({ module: 'amd'}).transform(source, id).code : source;\r\n}*/\r\n\r\nconst resolve = systemJSPrototype.resolve;\r\nsystemJSPrototype.resolve = function (id, parentUrl) {\r\n\tif (id[0] === '@') \r\n\t\treturn id;\r\n\treturn resolve.call(this, id, parentUrl);\r\n};\r\n\r\nfunction fetch (url) {\r\n\treturn new Promise(((resolve, reject) => {\r\n    let rq = new XMLHttpRequest();\r\n    rq.open('GET', url);\r\n    rq.credentials = 'same-origin';\r\n    rq.onload = function() { if (rq.status == 200) resolve({text: rq.responseText, contentType: (rq.getResponseHeader('content-type')||'text/plain').split(';')[0].toLowerCase()}); else reject(rq.status + ':' + rq.statusText)}\r\n    rq.onerror = function() {reject(rq.status + ': ' + rq.statusText);}\r\n    rq.send();\r\n  }));\r\n}"],"names":["hasSelf","self","envGlobal","global","baseUrl","location","href","split","lastSepIndex","lastIndexOf","slice","backslashRegEx","resolveIfNotPlainOrUrl","relUrl","parentUrl","indexOf","replace","length","parentProtocol","pathname","segmented","output","segmentIndex","i","push","pop","join","hasSymbol","Symbol","toStringTag","REGISTRY","SystemJS","systemJSPrototype","prototype","import","id","loader","Promise","resolve","then","load","getOrCreateLoad","C","topLevelLoad","createContext","parentId","url","lastRegister","register","deps","declare","getRegister","_lastRegister","undefined","firstParentUrl","importerSetters","ns","Object","create","defineProperty","value","instantiatePromise","instantiate","registration","Error","_export","name","h","changed","p","declared","importId","meta","e","execute","setters","linkPromise","instantiation","all","map","dep","setter","depId","depLoad","I","n","depLoads","d","catch","err","er","L","E","instantiateAll","loaded","postOrderExec","nullContext","freeze","seen","depLoadPromises","forEach","depLoadPromise","doExec","execPromise","call","System","window","addEventListener","error","systemRegister","reject","script","document","createElement","charset","async","crossOrigin","head","removeChild","src","appendChild","importScripts","resolved","constructor","parent","fetch","credentials","res","ok","status","statusText","text","source","transform","eval","_id","systemPrototype","lastRegisterDeclare","registerDeclare","_context","defaultExport","declaration","registerRegistry","apply","arguments","parentURL","emptyInstantiation","unsupportedRequire","emptyFn","requireExportsModule","createAMDRegister","amdDefineDeps","amdDefineExec","exports","module","depModules","splice","index","idx","default","amdExec","define","concat","Array","amd","__extends","this","extendStatics","b","setPrototypeOf","__proto__","hasOwnProperty","__","BaseComponent","inject","app","_super","props","_this","renderInternal","isArray","services","processor","processElement","c","render","children","UI","Component","Async","state","o","setState","BaseComponent_1","Async_1","clone","z","keys","k","SM","Bind","data","s","visit","childArray","subscribers","bind","setValue","path","Function","getValue","obj","subscribe","a","onChange","v","target","components_1","Data","format","str","toString","Events","callbacks","onWindowMessage","ev","type","publish","eventType","callback","correlationId","unsubscribe","event","subscriptions","response","postMessage","r","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","next","rejected","result","done","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","iterator","op","TypeError","basePath","nodeRequire","run","m","console","log","Loader","_a","init","basepath","systemjs","getOwnPropertyDescriptor","jst","input","transformer","proxy","require$$0","require$$1","moduleName","normalizedParentName","u","rj","x","__esModule","LogLevel","ModuleSystem","__importStar","mod","types","s_xa","Inject","inj","Processor","cache","Proxy","main","createClass","B","class_1","locate","resource","parts","part","__jst","getFunctionName","substr","trim","parse","level","logger","Trace","stack","o2","fullpath","substring","moduleSystem","obj_1","components","toLowerCase","class_2","key","some","Date","now","process","isTemplate","options","baseExecutionPath","JSON","stringify","code","exported","rs","__assign","assign","qs","exec","params","Navigation","current","container","controllers","match","test","click","navigation","topParent","history","pushState","events","nativeEvent","preventDefault","onClick","Container","NavigationContainer","onRedirect","componentWillMount","componentWillUnmount","Transformer","settings","reservedWords","indent","compact","None","namedExports","ES","parsers","parseSettings","offset","loadModule","_process","obj2","val","imports","lines","lt","tab","esc","et","processed","charAt","filter","processExports","validkeys","isDefault","nl","sp","vr","preferConst","processImports","s2","r2","ext","module_name","req","runtimeModule","bundleModule","compositeObject","dangerouslyProcessJavaScript","warn","message","Data_1","Events_1","Loader_1","Processor_1","Navigation_1","Transformer_1","App","info","logLevel","logger_1","title","optionalParameters","services_1","AMD","co","ex","initApp","app_1","transformer_1","loader_1","core_1","browserType","WebUI","processElementInternal","ui","mergeWith","overrideStyles","style","browser","Safari","display","flexDirection","WebkitFlexDirection","flexGrow","WebkitFlexGrow","flexShrink","WebkitFlexShrink","backgroundImage","element","depth","WebApp","context","Unknown","WebUI_1","w","bt","InstallTrigger","FireFox","documentMode","IE","StyleMedia","Edge","HTMLElement","safari","pushNotification","chrome","webstore","runtime","Chrome","navigator","userAgent","Opera","CSS","Blink","getElementById","tagName","fr","contentDocument","body_1","doc","ownerDocument","fullHeight","height","setAttribute","hasChildNodes","innerHTML","WebApp_1","PENDING","SETTLED","FULFILLED","REJECTED","NOOP","isNode","emit","asyncSetTimer","setImmediate","setTimeout","asyncQueue","asyncTimer","asyncFlush","asyncCall","arg","invokeResolver","resolver","promise","resolvePromise","rejectPromise","reason","invokeCallback","subscriber","owner","settled","_state","_data","handleThenable","fulfill","publishFulfillment","publishRejection","_then","_handled","notifyRejectionHandled","onFulfillment","onRejection","promises","results","remaining","race","externals","require$$5","require$$6","require$$7","_jst","link","rel","contentType","description","rq","XMLHttpRequest","open","onload","responseText","getResponseHeader","onerror","send"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;CAAA;;;;;CAIC,aAAY;CACX,MAAMA,OAAO,GAAG,OAAOC,IAAP,KAAgB,WAAhC;CAEA,MAAMC,SAAS,GAAGF,OAAO,GAAGC,IAAH,GAAUE,cAAnC;CAEA,MAAIC,OAAJ;;CACA,MAAI,OAAOC,QAAP,KAAoB,WAAxB,EAAqC;CACnCD,IAAAA,OAAO,GAAGC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,EAA4BA,KAA5B,CAAkC,GAAlC,EAAuC,CAAvC,CAAV;CACA,QAAMC,YAAY,GAAGJ,OAAO,CAACK,WAAR,CAAoB,GAApB,CAArB;CACA,QAAID,YAAY,KAAK,CAAC,CAAtB,EACEJ,OAAO,GAAGA,OAAO,CAACM,KAAR,CAAc,CAAd,EAAiBF,YAAY,GAAG,CAAhC,CAAV;CACH;;CAED,MAAMG,cAAc,GAAG,KAAvB;;CACA,WAASC,sBAAT,CAAiCC,MAAjC,EAAyCC,SAAzC,EAAoD;CAClD,QAAID,MAAM,CAACE,OAAP,CAAe,IAAf,MAAyB,CAAC,CAA9B,EACEF,MAAM,GAAGA,MAAM,CAACG,OAAP,CAAeL,cAAf,EAA+B,GAA/B,CAAT,CAFgD;;CAIlD,QAAIE,MAAM,CAAC,CAAD,CAAN,KAAc,GAAd,IAAqBA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAvC,EAA4C;CAC1C,aAAOC,SAAS,CAACJ,KAAV,CAAgB,CAAhB,EAAmBI,SAAS,CAACC,OAAV,CAAkB,GAAlB,IAAyB,CAA5C,IAAiDF,MAAxD;CACD,KAFD;CAAA,SAIK,IAAIA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAd,KAAsBA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAd,IAAqBA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAd,KAAsBA,MAAM,CAAC,CAAD,CAAN,KAAc,GAAd,IAAqBA,MAAM,CAACI,MAAP,KAAkB,CAAlB,KAAwBJ,MAAM,IAAI,GAAlC,CAA3C,CAArB,IAC3BA,MAAM,CAACI,MAAP,KAAkB,CAAlB,KAAyBJ,MAAM,IAAI,GAAnC,CADK,KAELA,MAAM,CAAC,CAAD,CAAN,KAAc,GAFb,EAEkB;CACrB,YAAMK,cAAc,GAAGJ,SAAS,CAACJ,KAAV,CAAgB,CAAhB,EAAmBI,SAAS,CAACC,OAAV,CAAkB,GAAlB,IAAyB,CAA5C,CAAvB,CADqB;;;;;;CAOrB,YAAII,QAAJ;;CACA,YAAIL,SAAS,CAACI,cAAc,CAACD,MAAf,GAAwB,CAAzB,CAAT,KAAyC,GAA7C,EAAkD;;CAEhD,cAAIC,cAAc,KAAK,OAAvB,EAAgC;CAC9BC,YAAAA,QAAQ,GAAGL,SAAS,CAACJ,KAAV,CAAgBQ,cAAc,CAACD,MAAf,GAAwB,CAAxC,CAAX;CACAE,YAAAA,QAAQ,GAAGA,QAAQ,CAACT,KAAT,CAAeS,QAAQ,CAACJ,OAAT,CAAiB,GAAjB,IAAwB,CAAvC,CAAX;CACD,WAHD,MAIK;CACHI,YAAAA,QAAQ,GAAGL,SAAS,CAACJ,KAAV,CAAgB,CAAhB,CAAX;CACD;CACF,SATD,MAUK;;CAEHS,UAAAA,QAAQ,GAAGL,SAAS,CAACJ,KAAV,CAAgBQ,cAAc,CAACD,MAAf,IAAyBH,SAAS,CAACI,cAAc,CAACD,MAAhB,CAAT,KAAqC,GAA9D,CAAhB,CAAX;CACD;;CAED,YAAIJ,MAAM,CAAC,CAAD,CAAN,KAAc,GAAlB,EACE,OAAOC,SAAS,CAACJ,KAAV,CAAgB,CAAhB,EAAmBI,SAAS,CAACG,MAAV,GAAmBE,QAAQ,CAACF,MAA5B,GAAqC,CAAxD,IAA6DJ,MAApE,CAxBmB;;;;CA6BrB,YAAMO,SAAS,GAAGD,QAAQ,CAACT,KAAT,CAAe,CAAf,EAAkBS,QAAQ,CAACV,WAAT,CAAqB,GAArB,IAA4B,CAA9C,IAAmDI,MAArE;CAEA,YAAMQ,MAAM,GAAG,EAAf;CACA,YAAIC,YAAY,GAAG,CAAC,CAApB;;CACA,aAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACH,MAA9B,EAAsCM,CAAC,EAAvC,EAA2C;;CAEzC,cAAID,YAAY,KAAK,CAAC,CAAtB,EAAyB;CACvB,gBAAIF,SAAS,CAACG,CAAD,CAAT,KAAiB,GAArB,EAA0B;CACxBF,cAAAA,MAAM,CAACG,IAAP,CAAYJ,SAAS,CAACV,KAAV,CAAgBY,YAAhB,EAA8BC,CAAC,GAAG,CAAlC,CAAZ;CACAD,cAAAA,YAAY,GAAG,CAAC,CAAhB;CACD;CACF,WALD;CAAA,eAQK,IAAIF,SAAS,CAACG,CAAD,CAAT,KAAiB,GAArB,EAA0B;;CAE7B,kBAAIH,SAAS,CAACG,CAAC,GAAG,CAAL,CAAT,KAAqB,GAArB,KAA6BH,SAAS,CAACG,CAAC,GAAG,CAAL,CAAT,KAAqB,GAArB,IAA4BA,CAAC,GAAG,CAAJ,KAAUH,SAAS,CAACH,MAA7E,CAAJ,EAA0F;CACxFI,gBAAAA,MAAM,CAACI,GAAP;CACAF,gBAAAA,CAAC,IAAI,CAAL;CACD,eAHD;CAAA,mBAKK,IAAIH,SAAS,CAACG,CAAC,GAAG,CAAL,CAAT,KAAqB,GAArB,IAA4BA,CAAC,GAAG,CAAJ,KAAUH,SAAS,CAACH,MAApD,EAA4D;CAC/DM,kBAAAA,CAAC,IAAI,CAAL;CACD,iBAFI,MAGA;;CAEHD,kBAAAA,YAAY,GAAGC,CAAf;CACD;CACF,aAdI;CAAA,iBAgBA;CACHD,gBAAAA,YAAY,GAAGC,CAAf;CACD;CACF,SA9DoB;;;CAgErB,YAAID,YAAY,KAAK,CAAC,CAAtB,EACED,MAAM,CAACG,IAAP,CAAYJ,SAAS,CAACV,KAAV,CAAgBY,YAAhB,CAAZ;CACF,eAAOR,SAAS,CAACJ,KAAV,CAAgB,CAAhB,EAAmBI,SAAS,CAACG,MAAV,GAAmBE,QAAQ,CAACF,MAA/C,IAAyDI,MAAM,CAACK,IAAP,CAAY,EAAZ,CAAhE;CACD;CACF;;;;;;;;;;;;;;;;;;;CAmBD,MAAMC,SAAS,GAAG,OAAOC,MAAP,KAAkB,WAApC;CACA,MAAMC,WAAW,GAAGF,SAAS,IAAIC,MAAM,CAACC,WAAxC;CACA,MAAMC,QAAQ,GAAGH,SAAS,GAAGC,MAAM,EAAT,GAAc,GAAxC;;CAEA,WAASG,QAAT,GAAqB;CACnB,SAAKD,QAAL,IAAiB,EAAjB;CACD;;CAED,MAAME,iBAAiB,GAAGD,QAAQ,CAACE,SAAnC;;CACAD,EAAAA,iBAAiB,CAACE,MAAlB,GAA2B,UAAUC,EAAV,EAAcrB,SAAd,EAAyB;CAClD,QAAMsB,MAAM,GAAG,IAAf;CACA,WAAOC,OAAO,CAACC,OAAR,CAAgBF,MAAM,CAACE,OAAP,CAAeH,EAAf,EAAmBrB,SAAnB,CAAhB,EACNyB,IADM,CACD,UAAUJ,EAAV,EAAc;CAClB,UAAMK,IAAI,GAAGC,eAAe,CAACL,MAAD,EAASD,EAAT,CAA5B;CACA,aAAOK,IAAI,CAACE,CAAL,IAAUC,YAAY,CAACP,MAAD,EAASI,IAAT,CAA7B;CACD,KAJM,CAAP;CAKD,GAPD,CAxHW;;;CAkIXR,EAAAA,iBAAiB,CAACY,aAAlB,GAAkC,UAAUC,QAAV,EAAoB;CACpD,WAAO;CACLC,MAAAA,GAAG,EAAED;CADA,KAAP;CAGD,GAJD;;CAMA,MAAIE,YAAJ;;CACAf,EAAAA,iBAAiB,CAACgB,QAAlB,GAA6B,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;CACpDH,IAAAA,YAAY,GAAG,CAACE,IAAD,EAAOC,OAAP,CAAf;CACD,GAFD;;;;;;CAOAlB,EAAAA,iBAAiB,CAACmB,WAAlB,GAAgC,YAAY;CAC1C,QAAMC,aAAa,GAAGL,YAAtB;CACAA,IAAAA,YAAY,GAAGM,SAAf;CACA,WAAOD,aAAP;CACD,GAJD;;CAMA,WAASX,eAAT,CAA0BL,MAA1B,EAAkCD,EAAlC,EAAsCmB,cAAtC,EAAsD;CACpD,QAAId,IAAI,GAAGJ,MAAM,CAACN,QAAD,CAAN,CAAiBK,EAAjB,CAAX;CACA,QAAIK,IAAJ,EACE,OAAOA,IAAP;CAEF,QAAMe,eAAe,GAAG,EAAxB;CACA,QAAMC,EAAE,GAAGC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAX;CACA,QAAI7B,WAAJ,EACE4B,MAAM,CAACE,cAAP,CAAsBH,EAAtB,EAA0B3B,WAA1B,EAAuC;CAAE+B,MAAAA,KAAK,EAAE;CAAT,KAAvC;CAEF,QAAIC,kBAAkB,GAAGxB,OAAO,CAACC,OAAR,GACxBC,IADwB,CACnB,YAAY;CAChB,aAAOH,MAAM,CAAC0B,WAAP,CAAmB3B,EAAnB,EAAuBmB,cAAvB,CAAP;CACD,KAHwB,EAIxBf,IAJwB,CAInB,UAAUwB,YAAV,EAAwB;CAC5B,UAAI,CAACA,YAAL,EACE,MAAM,IAAIC,KAAJ,CAAU,YAAY7B,EAAZ,GAAiB,sBAA3B,CAAN;;CACF,eAAS8B,OAAT,CAAkBC,IAAlB,EAAwBN,KAAxB,EAA+B;;CAE7BpB,QAAAA,IAAI,CAAC2B,CAAL,GAAS,IAAT;CACA,YAAIC,OAAO,GAAG,KAAd;;CACA,YAAI,QAAOF,IAAP,MAAgB,QAApB,EAA8B;CAC5B,cAAI,EAAEA,IAAI,IAAIV,EAAV,KAAiBA,EAAE,CAACU,IAAD,CAAF,KAAaN,KAAlC,EAAyC;CACvCJ,YAAAA,EAAE,CAACU,IAAD,CAAF,GAAWN,KAAX;CACAQ,YAAAA,OAAO,GAAG,IAAV;CACD;CACF,SALD,MAMK;CACH,eAAK,IAAIC,CAAT,IAAcH,IAAd,EAAoB;CAClB,gBAAIN,MAAK,GAAGM,IAAI,CAACG,CAAD,CAAhB;;CACA,gBAAI,EAAEA,CAAC,IAAIb,EAAP,KAAcA,EAAE,CAACa,CAAD,CAAF,KAAUT,MAA5B,EAAmC;CACjCJ,cAAAA,EAAE,CAACa,CAAD,CAAF,GAAQT,MAAR;CACAQ,cAAAA,OAAO,GAAG,IAAV;CACD;CACF;CACF;;CACD,YAAIA,OAAJ,EACE,KAAK,IAAI7C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgC,eAAe,CAACtC,MAApC,EAA4CM,CAAC,EAA7C;CACEgC,UAAAA,eAAe,CAAChC,CAAD,CAAf,CAAmBiC,EAAnB;CADF;CAEF,eAAOI,KAAP;CACD;;CACD,UAAMU,QAAQ,GAAGP,YAAY,CAAC,CAAD,CAAZ,CAAgBE,OAAhB,EAAyBF,YAAY,CAAC,CAAD,CAAZ,CAAgB9C,MAAhB,KAA2B,CAA3B,GAA+B;CACvEiB,QAAAA,MAAM,EAAE,iBAAUqC,QAAV,EAAoB;CAC1B,iBAAOnC,MAAM,CAACF,MAAP,CAAcqC,QAAd,EAAwBpC,EAAxB,CAAP;CACD,SAHsE;CAIvEqC,QAAAA,IAAI,EAAEpC,MAAM,CAACQ,aAAP,CAAqBT,EAArB;CAJiE,OAA/B,GAKtCkB,SALa,CAAjB;;CAMAb,MAAAA,IAAI,CAACiC,CAAL,GAASH,QAAQ,CAACI,OAAT,IAAoB,YAAY,EAAzC;;CACA,aAAO,CAACX,YAAY,CAAC,CAAD,CAAb,EAAkBO,QAAQ,CAACK,OAAT,IAAoB,EAAtC,CAAP;CACD,KAvCwB,CAAzB;CAyCA,QAAMC,WAAW,GAAGf,kBAAkB,CACrCtB,IADmB,CACd,UAAUsC,aAAV,EAAyB;CAC7B,aAAOxC,OAAO,CAACyC,GAAR,CAAYD,aAAa,CAAC,CAAD,CAAb,CAAiBE,GAAjB,CAAqB,UAAUC,GAAV,EAAezD,CAAf,EAAkB;CACxD,YAAM0D,MAAM,GAAGJ,aAAa,CAAC,CAAD,CAAb,CAAiBtD,CAAjB,CAAf;CACA,eAAOc,OAAO,CAACC,OAAR,CAAgBF,MAAM,CAACE,OAAP,CAAe0C,GAAf,EAAoB7C,EAApB,CAAhB,EACNI,IADM,CACD,UAAU2C,KAAV,EAAiB;CACrB,cAAMC,OAAO,GAAG1C,eAAe,CAACL,MAAD,EAAS8C,KAAT,EAAgB/C,EAAhB,CAA/B,CADqB;;CAGrB,iBAAOE,OAAO,CAACC,OAAR,CAAgB6C,OAAO,CAACC,CAAxB,EACN7C,IADM,CACD,YAAY;CAChB,gBAAI0C,MAAJ,EAAY;CACVE,cAAAA,OAAO,CAAC5D,CAAR,CAAUC,IAAV,CAAeyD,MAAf,EADU;;;CAIV,kBAAIE,OAAO,CAAChB,CAAR,IAAa,CAACgB,OAAO,CAACC,CAA1B,EACEH,MAAM,CAACE,OAAO,CAACE,CAAT,CAAN;CACH;;CACD,mBAAOF,OAAP;CACD,WAVM,CAAP;CAWD,SAfM,CAAP;CAgBD,OAlBkB,CAAZ,EAmBN5C,IAnBM,CAmBD,UAAU+C,QAAV,EAAoB;CACxB9C,QAAAA,IAAI,CAAC+C,CAAL,GAASD,QAAT;CACD,OArBM,CAAP;CAsBD,KAxBmB,CAApB;CA0BAV,IAAAA,WAAW,CAACY,KAAZ,CAAkB,UAAUC,GAAV,EAAe;CAC/BjD,MAAAA,IAAI,CAACiC,CAAL,GAAS,IAAT;CACAjC,MAAAA,IAAI,CAACkD,EAAL,GAAUD,GAAV;CACD,KAHD,EA7EoD;;CAmFpD,WAAOjD,IAAI,GAAGJ,MAAM,CAACN,QAAD,CAAN,CAAiBK,EAAjB,IAAuB;CACnCA,MAAAA,EAAE,EAAEA,EAD+B;;;CAInCZ,MAAAA,CAAC,EAAEgC,eAJgC;;CAMnC8B,MAAAA,CAAC,EAAE7B,EANgC;;CASnC4B,MAAAA,CAAC,EAAEvB,kBATgC;;CAWnC8B,MAAAA,CAAC,EAAEf,WAXgC;;CAanCT,MAAAA,CAAC,EAAE,KAbgC;;;CAiBnCoB,MAAAA,CAAC,EAAElC,SAjBgC;;;;CAqBnCoB,MAAAA,CAAC,EAAEpB,SArBgC;;;CAyBnCqC,MAAAA,EAAE,EAAErC,SAzB+B;;CA2BnCuC,MAAAA,CAAC,EAAEvC,SA3BgC;;;CAgCnCX,MAAAA,CAAC,EAAEW;CAhCgC,KAArC;CAkCD;;CAED,WAASwC,cAAT,CAAyBzD,MAAzB,EAAiCI,IAAjC,EAAuCsD,MAAvC,EAA+C;CAC7C,QAAI,CAACA,MAAM,CAACtD,IAAI,CAACL,EAAN,CAAX,EAAsB;CACpB2D,MAAAA,MAAM,CAACtD,IAAI,CAACL,EAAN,CAAN,GAAkB,IAAlB,CADoB;;CAGpB,aAAOE,OAAO,CAACC,OAAR,CAAgBE,IAAI,CAACmD,CAArB,EACNpD,IADM,CACD,YAAY;CAChB,eAAOF,OAAO,CAACyC,GAAR,CAAYtC,IAAI,CAAC+C,CAAL,CAAOR,GAAP,CAAW,UAAUC,GAAV,EAAe;CAC3C,iBAAOa,cAAc,CAACzD,MAAD,EAAS4C,GAAT,EAAcc,MAAd,CAArB;CACD,SAFkB,CAAZ,CAAP;CAGD,OALM,CAAP;CAMD;CACF;;CAED,WAASnD,YAAT,CAAuBP,MAAvB,EAA+BI,IAA/B,EAAqC;CACnC,WAAOA,IAAI,CAACE,CAAL,GAASmD,cAAc,CAACzD,MAAD,EAASI,IAAT,EAAe,EAAf,CAAd,CACfD,IADe,CACV,YAAY;CAChB,aAAOwD,aAAa,CAAC3D,MAAD,EAASI,IAAT,EAAe,EAAf,CAApB;CACD,KAHe,EAIfD,IAJe,CAIV,YAAY;CAChB,aAAOC,IAAI,CAAC6C,CAAZ;CACD,KANe,CAAhB;CAOD,GAlSU;;;CAqSX,MAAMW,WAAW,GAAGvC,MAAM,CAACwC,MAAP,CAAcxC,MAAM,CAACC,MAAP,CAAc,IAAd,CAAd,CAApB,CArSW;;;CAySX,WAASqC,aAAT,CAAwB3D,MAAxB,EAAgCI,IAAhC,EAAsC0D,IAAtC,EAA4C;CAC1C,QAAIA,IAAI,CAAC1D,IAAI,CAACL,EAAN,CAAR,EACE;CACF+D,IAAAA,IAAI,CAAC1D,IAAI,CAACL,EAAN,CAAJ,GAAgB,IAAhB;;CAEA,QAAI,CAACK,IAAI,CAACiC,CAAV,EAAa;CACX,UAAIjC,IAAI,CAACkD,EAAT,EACE,MAAMlD,IAAI,CAACkD,EAAX;CACF,UAAIlD,IAAI,CAACoD,CAAT,EACE,OAAOpD,IAAI,CAACoD,CAAZ;CACF;CACD,KAXyC;;;CAc1C,QAAIO,eAAJ;CACA3D,IAAAA,IAAI,CAAC+C,CAAL,CAAOa,OAAP,CAAe,UAAUjB,OAAV,EAAmB;CAChC;CACE,YAAMkB,cAAc,GAAGN,aAAa,CAAC3D,MAAD,EAAS+C,OAAT,EAAkBe,IAAlB,CAApC;CACA,YAAIG,cAAJ,EACE,CAACF,eAAe,GAAGA,eAAe,IAAI,EAAtC,EAA0C3E,IAA1C,CAA+C6E,cAA/C;CACH;CACF,KAND;;CAOA,QAAIF,eAAJ,EAAqB;CACnB,aAAO9D,OAAO,CAACyC,GAAR,CAAYqB,eAAZ,EAA6B5D,IAA7B,CAAkC+D,MAAlC,CAAP;CACD;;CAED,WAAOA,MAAM,EAAb;;CAEA,aAASA,MAAT,GAAmB;CACjB,UAAI;CACF,YAAIC,WAAW,GAAG/D,IAAI,CAACiC,CAAL,CAAO+B,IAAP,CAAYR,WAAZ,CAAlB;;CACA,YAAIO,WAAJ,EAAiB;CACfA,UAAAA,WAAW,GAAGA,WAAW,CAAChE,IAAZ,CAAiB,YAAY;CACvCC,YAAAA,IAAI,CAACE,CAAL,GAASF,IAAI,CAAC6C,CAAd;CACA7C,YAAAA,IAAI,CAACoD,CAAL,GAAS,IAAT;CACD,WAHW,CAAd;CAIA,iBAAOpD,IAAI,CAACoD,CAAL,GAASpD,IAAI,CAACoD,CAAL,IAAUW,WAA1B;CACD,SARC;;;CAUF/D,QAAAA,IAAI,CAACE,CAAL,GAASF,IAAI,CAAC6C,CAAd;CACD,OAXD,CAYA,OAAOI,GAAP,EAAY;CACVjD,QAAAA,IAAI,CAACkD,EAAL,GAAUD,GAAV;CACA,cAAMA,GAAN;CACD,OAfD,SAgBQ;CACNjD,QAAAA,IAAI,CAACmD,CAAL,GAASnD,IAAI,CAAC4C,CAAL,GAAS/B,SAAlB;CACAb,QAAAA,IAAI,CAACiC,CAAL,GAAS,IAAT;CACD;CACF;CACF;;CAEDvE,EAAAA,SAAS,CAACuG,MAAV,GAAmB,IAAI1E,QAAJ,EAAnB;;;;;CAMA,MAAI0D,GAAJ;CACA,MAAI,OAAOiB,MAAP,KAAkB,WAAtB,EACEA,MAAM,CAACC,gBAAP,CAAwB,OAAxB,EAAiC,UAAUlC,CAAV,EAAa;CAC5CgB,IAAAA,GAAG,GAAGhB,CAAC,CAACmC,KAAR;CACD,GAFD;CAIF,MAAMC,cAAc,GAAG7E,iBAAiB,CAACgB,QAAzC;;CACAhB,EAAAA,iBAAiB,CAACgB,QAAlB,GAA6B,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;CACpDuC,IAAAA,GAAG,GAAGpC,SAAN;CACAwD,IAAAA,cAAc,CAACL,IAAf,CAAoB,IAApB,EAA0BvD,IAA1B,EAAgCC,OAAhC;CACD,GAHD;;CAKAlB,EAAAA,iBAAiB,CAAC8B,WAAlB,GAAgC,UAAUhB,GAAV,EAAeQ,cAAf,EAA+B;CAC7D,QAAMlB,MAAM,GAAG,IAAf;CACA,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC5C,UAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;CACAF,MAAAA,MAAM,CAACG,OAAP,GAAiB,OAAjB;CACAH,MAAAA,MAAM,CAACI,KAAP,GAAe,IAAf;CACAJ,MAAAA,MAAM,CAACK,WAAP,GAAqB,WAArB;CACAL,MAAAA,MAAM,CAACJ,gBAAP,CAAwB,OAAxB,EAAiC,YAAY;CAC3CG,QAAAA,MAAM,CAAC,IAAI9C,KAAJ,CAAU,mBAAmBlB,GAAnB,IAA0BQ,cAAc,GAAG,WAAWA,cAAd,GAA+B,EAAvE,CAAV,CAAD,CAAN;CACD,OAFD;CAGAyD,MAAAA,MAAM,CAACJ,gBAAP,CAAwB,MAAxB,EAAgC,YAAY;CAC1CK,QAAAA,QAAQ,CAACK,IAAT,CAAcC,WAAd,CAA0BP,MAA1B,EAD0C;;CAG1C,YAAItB,GAAJ,EAAS;CACPqB,UAAAA,MAAM,CAACrB,GAAD,CAAN;CACA,iBAAOA,GAAG,GAAGpC,SAAb;CACD,SAHD,MAIK;CACHf,UAAAA,OAAO,CAACF,MAAM,CAACe,WAAP,EAAD,CAAP;CACD;CACF,OAVD;CAWA4D,MAAAA,MAAM,CAACQ,GAAP,GAAazE,GAAb;CACAkE,MAAAA,QAAQ,CAACK,IAAT,CAAcG,WAAd,CAA0BT,MAA1B;CACD,KArBM,CAAP;CAsBD,GAxBD;;;;;;CA8BA,MAAI/G,OAAO,IAAI,OAAOyH,aAAP,KAAyB,UAAxC,EACEzF,iBAAiB,CAAC8B,WAAlB,GAAgC,UAAUhB,GAAV,EAAe;CAC7C,QAAMV,MAAM,GAAG,IAAf;CACA,WAAO,IAAIC,OAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC5C,UAAI;CACFW,QAAAA,aAAa,CAAC3E,GAAD,CAAb;CACD,OAFD,CAGA,OAAO2B,CAAP,EAAU;CACRqC,QAAAA,MAAM,CAACrC,CAAD,CAAN;CACD;;CACDnC,MAAAA,OAAO,CAACF,MAAM,CAACe,WAAP,EAAD,CAAP;CACD,KARM,CAAP;CASD,GAXD;;CAaFnB,EAAAA,iBAAiB,CAACM,OAAlB,GAA4B,UAAUH,EAAV,EAAcrB,SAAd,EAAyB;CACnD,QAAM4G,QAAQ,GAAG9G,sBAAsB,CAACuB,EAAD,EAAKrB,SAAS,IAAIV,OAAlB,CAAvC;;CACA,QAAI,CAACsH,QAAL,EAAe;CACb,UAAIvF,EAAE,CAACpB,OAAH,CAAW,GAAX,MAAoB,CAAC,CAAzB,EACE,OAAOsB,OAAO,CAACC,OAAR,CAAgBH,EAAhB,CAAP;CACF,YAAM,IAAI6B,KAAJ,CAAU,qBAAqB7B,EAArB,IAA2BrB,SAAS,GAAG,YAAYA,SAAf,GAA2B,GAA/D,CAAV,CAAN;CACD;;CACD,WAAOuB,OAAO,CAACC,OAAR,CAAgBoF,QAAhB,CAAP;CACD,GARD;CAUD,CAraA,GAAD;;CCJA;;;CAGA,CAAC,YAAY;CACX,MAAM1F,iBAAiB,GAAGyE,MAAM,CAACkB,WAAP,CAAmB1F,SAA7C;CAEA,MAAM6B,WAAW,GAAG9B,iBAAiB,CAAC8B,WAAtC;;CACA9B,EAAAA,iBAAiB,CAAC8B,WAAlB,GAAgC,UAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CACrD,QAAI9E,GAAG,CAACpC,KAAJ,CAAU,CAAC,CAAX,MAAkB,OAAtB,EACE,OAAOoD,WAAW,CAAC0C,IAAZ,CAAiB,IAAjB,EAAuB1D,GAAvB,EAA4B8E,MAA5B,CAAP;CAEF,QAAMxF,MAAM,GAAG,IAAf;CACA,WAAOyF,KAAK,CAAC/E,GAAD,EAAM;CAAEgF,MAAAA,WAAW,EAAE;CAAf,KAAN,CAAL,CACNvF,IADM,CACD,UAAUwF,GAAV,EAAe;CACnB,UAAI,CAACA,GAAG,CAACC,EAAT,EACE,MAAM,IAAIhE,KAAJ,CAAU,kBAAkB+D,GAAG,CAACE,MAAtB,GAA+B,GAA/B,GAAqCF,GAAG,CAACG,UAAzC,IAAuDN,MAAM,GAAG,mBAAmBA,MAAtB,GAA+B,EAA5F,CAAV,CAAN;CACF,aAAOG,GAAG,CAACI,IAAJ,EAAP;CACD,KALM,EAMN5F,IANM,CAMD,UAAU6F,MAAV,EAAkB;CACtB,aAAOhG,MAAM,CAACiG,SAAP,CAAiB7B,IAAjB,CAAsB,IAAtB,EAA4B1D,GAA5B,EAAiCsF,MAAjC,CAAP;CACD,KARM,EASN7F,IATM,CASD,UAAU6F,MAAV,EAAkB;CACtB,OAAC,GAAGE,IAAJ,EAAUF,MAAM,GAAG,kBAAT,GAA8BtF,GAAxC;CACA,aAAOV,MAAM,CAACe,WAAP,EAAP;CACD,KAZM,CAAP;CAaD,GAlBD,CAJW;;;CAyBXnB,EAAAA,iBAAiB,CAACqG,SAAlB,GAA8B,UAAUE,GAAV,EAAeH,MAAf,EAAuB;CACnD,WAAOA,MAAP;CACD,GAFD;CAGD,CA5BD;;CCHA;;;CAGA,CAAC,YAAY;CACX,MAAMI,eAAe,GAAG/B,MAAM,CAACkB,WAAP,CAAmB1F,SAA3C,CADW;;CAIX,MAAIwG,mBAAJ;CACA,MAAM5B,cAAc,GAAG2B,eAAe,CAACxF,QAAvC;;CACAwF,EAAAA,eAAe,CAACxF,QAAhB,GAA2B,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;CAClDuF,IAAAA,mBAAmB,GAAGvF,OAAtB;CACA2D,IAAAA,cAAc,CAACL,IAAf,CAAoB,IAApB,EAA0BvD,IAA1B,EAAgCC,OAAhC;CACD,GAHD;;CAKA,MAAMC,WAAW,GAAGqF,eAAe,CAACrF,WAApC;;CACAqF,EAAAA,eAAe,CAACrF,WAAhB,GAA8B,YAAY;CACxC,QAAMH,QAAQ,GAAGG,WAAW,CAACqD,IAAZ,CAAiB,IAAjB,CAAjB,CADwC;CAGxC;;CACA,QAAI,CAACxD,QAAD,IAAaA,QAAQ,CAAC,CAAD,CAAR,KAAgByF,mBAA7B,IAAoDzF,QAAQ,CAAC,CAAD,CAAR,CAAY/B,MAAZ,KAAuB,CAA/E,EACE,OAAO+B,QAAP,CALsC;CAQxC;;CACA,QAAM0F,eAAe,GAAG1F,QAAQ,CAAC,CAAD,CAAhC;;CACAA,IAAAA,QAAQ,CAAC,CAAD,CAAR,GAAc,UAAUiB,OAAV,EAAmB0E,QAAnB,EAA6B;CACzC;CACA,UAAIC,aAAJ;CACA,UAAMC,WAAW,GAAGH,eAAe,CAAClC,IAAhB,CAAqB,IAArB,EAA2B,UAAUtC,IAAV,EAAgBN,KAAhB,EAAuB;CACpE,YAAIM,IAAI,KAAK,SAAb,EACE0E,aAAa,GAAGhF,KAAhB;;CACFK,QAAAA,OAAO,CAACC,IAAD,EAAON,KAAP,CAAP;CACD,OAJmB,EAIjB+E,QAJiB,CAApB,CAHyC;;CASzC,UAAMjE,OAAO,GAAGmE,WAAW,CAACnE,OAA5B;CACA,UAAIA,OAAJ,EACEmE,WAAW,CAACnE,OAAZ,GAAsB,YAAY;CAChCA,QAAAA,OAAO,CAAC8B,IAAR,CAAa,IAAb,EADgC;CAGhC;;CACA,YAAI,QAAOoC,aAAP,MAAyB,QAA7B,EACE3E,OAAO,CAAC2E,aAAD,CAAP;CACH,OAND;CAOF,aAAOC,WAAP;CACD,KAnBD;;CAoBA,WAAO7F,QAAP;CACD,GA/BD;CAgCD,CA5CD;;CCHA;;;;;;;CAOA,CAAC,YAAY;CACX,MAAMhB,iBAAiB,GAAGyE,MAAM,CAACkB,WAAP,CAAmB1F,SAA7C;CAEA,MAAM0F,WAAW,GAAGlB,MAAM,CAACkB,WAA3B;;CACA,MAAM5F,QAAQ,GAAG,SAAXA,QAAW,GAAY;CAC3B4F,IAAAA,WAAW,CAACnB,IAAZ,CAAiB,IAAjB;CACA,SAAKsC,gBAAL,GAAwBrF,MAAM,CAACC,MAAP,CAAc,IAAd,CAAxB;CACD,GAHD;;CAIA3B,EAAAA,QAAQ,CAACE,SAAT,GAAqBD,iBAArB;CACAyE,EAAAA,MAAM,GAAG,IAAI1E,QAAJ,EAAT;CAEA,MAAMiB,QAAQ,GAAGhB,iBAAiB,CAACgB,QAAnC;;CACAhB,EAAAA,iBAAiB,CAACgB,QAAlB,GAA6B,UAAUkB,IAAV,EAAgBjB,IAAhB,EAAsBC,OAAtB,EAA+B;CAC1D,QAAI,OAAOgB,IAAP,KAAgB,QAApB,EACE,OAAOlB,QAAQ,CAAC+F,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;CAEF,SAAKF,gBAAL,CAAsB5E,IAAtB,IAA8B,CAACjB,IAAD,EAAOC,OAAP,CAA9B,CAJ0D;;CAO1D,WAAOF,QAAQ,CAACwD,IAAT,CAAc,IAAd,EAAoB,EAApB,EAAwB,YAAY;CAAE,aAAO,EAAP;CAAY,KAAlD,CAAP;CACD,GARD;;CAUA,MAAMlE,OAAO,GAAGN,iBAAiB,CAACM,OAAlC;;CACAN,EAAAA,iBAAiB,CAACM,OAAlB,GAA4B,UAAUH,EAAV,EAAc8G,SAAd,EAAyB;CACnD,QAAI9G,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,KAAkBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAAV,IAAiBA,EAAE,CAAC,CAAD,CAAF,KAAU,GAA9D,CAArB,EACE,OAAOG,OAAO,CAACkE,IAAR,CAAa,IAAb,EAAmBrE,EAAnB,EAAuB8G,SAAvB,CAAP;CACF,QAAI9G,EAAE,IAAI,KAAK2G,gBAAf,EACE,OAAO3G,EAAP;CACF,WAAOG,OAAO,CAACkE,IAAR,CAAa,IAAb,EAAmBrE,EAAnB,EAAuB8G,SAAvB,CAAP;CACD,GAND;;CAQA,MAAMnF,WAAW,GAAG9B,iBAAiB,CAAC8B,WAAtC;;CACA9B,EAAAA,iBAAiB,CAAC8B,WAAlB,GAAgC,UAAUhB,GAAV,EAAeQ,cAAf,EAA+B;CAC7D,WAAO,KAAKwF,gBAAL,CAAsBhG,GAAtB,KAA8BgB,WAAW,CAAC0C,IAAZ,CAAiB,IAAjB,EAAuB1D,GAAvB,EAA4BQ,cAA5B,CAArC;CACD,GAFD;CAGD,CAnCD;;CCPA;;;;CAGA,CAAC,UAAUnD,MAAV,EAAkB;CACjB,MAAMqI,eAAe,GAAG/B,MAAM,CAACkB,WAAP,CAAmB1F,SAA3C;CAEA,MAAMiH,kBAAkB,GAAG,CAAC,EAAD,EAAK,YAAY;CAAE,WAAO,EAAP;CAAW,GAA9B,CAA3B;;CAEA,WAASC,kBAAT,GAA+B;CAC7B,UAAM,IAAInF,KAAJ,CAAU,4BAAV,CAAN;CACD;;CAED,WAASoF,OAAT,GAAoB;;CAEpB,MAAMC,oBAAoB,GAAG,CAAC,SAAD,EAAY,SAAZ,EAAuB,QAAvB,CAA7B;;CAEA,WAASC,iBAAT,CAA4BC,aAA5B,EAA2CC,aAA3C,EAA0D;CACxD,QAAMC,OAAO,GAAG,EAAhB;CACA,QAAMC,MAAM,GAAG;CAAED,MAAAA,OAAO,EAAEA;CAAX,KAAf;CACA,QAAME,UAAU,GAAG,EAAnB;CACA,QAAMhF,OAAO,GAAG,EAAhB;CACA,QAAIiF,MAAM,GAAG,CAAb;;CACA,SAAK,IAAIrI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgI,aAAa,CAACtI,MAAlC,EAA0CM,CAAC,EAA3C,EAA+C;CAC7C,UAAMY,EAAE,GAAGoH,aAAa,CAAChI,CAAD,CAAxB;CACA,UAAMsI,KAAK,GAAGlF,OAAO,CAAC1D,MAAtB;;CACA,UAAIkB,EAAE,KAAK,SAAX,EAAsB;CACpBwH,QAAAA,UAAU,CAACpI,CAAD,CAAV,GAAgB4H,kBAAhB;CACAS,QAAAA,MAAM;CACP,OAHD,MAIK,IAAIzH,EAAE,KAAK,QAAX,EAAqB;CACxBwH,QAAAA,UAAU,CAACpI,CAAD,CAAV,GAAgBmI,MAAhB;CACAE,QAAAA,MAAM;CACP,OAHI,MAIA,IAAIzH,EAAE,KAAK,SAAX,EAAsB;CACzBwH,QAAAA,UAAU,CAACpI,CAAD,CAAV,GAAgBkI,OAAhB;CACAG,QAAAA,MAAM;CACP,OAHI,MAIA;CAAA;;CAEH,cAAME,GAAG,GAAGvI,CAAZ;CACAoD,UAAAA,OAAO,CAACnD,IAAR,CAAa,UAAUgC,EAAV,EAAc;CACzBmG,YAAAA,UAAU,CAACG,GAAD,CAAV,GAAkBtG,EAAE,CAACuG,OAArB;CACD,WAFD;CAHG;CAMJ;;CACD,UAAIH,MAAJ,EACEL,aAAa,CAACM,KAAD,CAAb,GAAuB1H,EAAvB;CACH;;CACD,QAAIyH,MAAJ,EACEL,aAAa,CAACtI,MAAd,IAAwB2I,MAAxB;CACF,QAAMI,OAAO,GAAGR,aAAhB;CACA,WAAO,CAACD,aAAD,EAAgB,UAAUtF,OAAV,EAAmB;CACxCA,MAAAA,OAAO,CAAC,SAAD,EAAYwF,OAAZ,CAAP;;CACA,aAAO;CACL9E,QAAAA,OAAO,EAAEA,OADJ;CAELD,QAAAA,OAAO,EAAE,mBAAY;CACnBgF,UAAAA,MAAM,CAACD,OAAP,GAAiBO,OAAO,CAACjB,KAAR,CAAcU,OAAd,EAAuBE,UAAvB,KAAsCD,MAAM,CAACD,OAA9D;CACA,cAAIA,OAAO,KAAKC,MAAM,CAACD,OAAvB,EACExF,OAAO,CAAC,SAAD,EAAYyF,MAAM,CAACD,OAAnB,CAAP;CACH;CANI,OAAP;CAQD,KAVM,CAAP;CAWD,GA1DgB;;;CA6DjB,MAAIhB,mBAAJ;CACA,MAAM5B,cAAc,GAAG2B,eAAe,CAACxF,QAAvC,CA9DiB;;CAgEjB,MAAI6D,cAAc,CAAC5F,MAAf,KAA0B,CAA9B,EAAiC;CAC/BuH,IAAAA,eAAe,CAACxF,QAAhB,GAA2B,UAAUkB,IAAV,EAAgBjB,IAAhB,EAAsBC,OAAtB,EAA+B;CACxD,UAAI,OAAOgB,IAAP,KAAgB,QAApB,EACEuE,mBAAmB,GAAGxF,IAAtB;CACF4D,MAAAA,cAAc,CAACkC,KAAf,CAAqB,IAArB,EAA2BC,SAA3B;CACD,KAJD;CAKD,GAND,MAOK;CACHR,IAAAA,eAAe,CAACxF,QAAhB,GAA2B,UAAUC,IAAV,EAAgBC,OAAhB,EAAyB;CAClDuF,MAAAA,mBAAmB,GAAGvF,OAAtB;CACA2D,MAAAA,cAAc,CAACkC,KAAf,CAAqB,IAArB,EAA2BC,SAA3B;CACD,KAHD;CAID;;CAED,MAAM7F,WAAW,GAAGqF,eAAe,CAACrF,WAApC;;CACAqF,EAAAA,eAAe,CAACrF,WAAhB,GAA8B,YAAY;CACxC,QAAMH,QAAQ,GAAGG,WAAW,CAACqD,IAAZ,CAAiB,IAAjB,CAAjB,CADwC;;CAGxC,QAAIxD,QAAQ,IAAIA,QAAQ,CAAC,CAAD,CAAR,KAAgByF,mBAAhC,EACE,OAAOzF,QAAP,CAJsC;;;CAQxC,QAAI,CAACuG,aAAL,EACE,OAAOvG,QAAQ,IAAIkG,kBAAnB;CAEF,QAAMnF,YAAY,GAAGuF,iBAAiB,CAACC,aAAD,EAAgBC,aAAhB,CAAtC;CACAD,IAAAA,aAAa,GAAG,IAAhB;CACA,WAAOxF,YAAP;CACD,GAdD;;CAeA,MAAIwF,aAAJ,EAAmBC,aAAnB;;CACArJ,EAAAA,MAAM,CAAC8J,MAAP,GAAgB,UAAU/F,IAAV,EAAgBjB,IAAhB,EAAsByB,OAAtB,EAA+B;;CAE7C,QAAI,OAAOR,IAAP,KAAgB,QAApB,EAA8B;CAC5B,UAAIqF,aAAJ,EAAmB;CACjB,YAAI,CAAC9C,MAAM,CAACqC,gBAAZ,EACE,MAAM,IAAI9E,KAAJ,CAAU,sEAAV,CAAN;CACFyC,QAAAA,MAAM,CAACqC,gBAAP,CAAwB5E,IAAxB,IAAgCoF,iBAAiB,CAACrG,IAAD,EAAOyB,OAAP,CAAjD;CACA6E,QAAAA,aAAa,GAAG,EAAhB;CACAC,QAAAA,aAAa,GAAGJ,OAAhB;CACA;CACD,OAPD,MAQK;CACH,YAAI3C,MAAM,CAACqC,gBAAX,EACErC,MAAM,CAACqC,gBAAP,CAAwB5E,IAAxB,IAAgCoF,iBAAiB,CAAC,GAAGY,MAAH,CAAUjH,IAAV,CAAD,EAAkByB,OAAlB,CAAjD;CACFR,QAAAA,IAAI,GAAGjB,IAAP;CACAA,QAAAA,IAAI,GAAGyB,OAAP;CACD;CACF,KAjB4C;;;CAmB7C,QAAIR,IAAI,YAAYiG,KAApB,EAA2B;CACzBZ,MAAAA,aAAa,GAAGrF,IAAhB;CACAsF,MAAAA,aAAa,GAAGvG,IAAhB;CACD,KAHD;CAAA,SAKK,IAAI,QAAOiB,IAAP,MAAgB,QAApB,EAA8B;CACjCqF,QAAAA,aAAa,GAAG,EAAhB;;CACAC,QAAAA,aAAa,GAAG,yBAAY;CAAE,iBAAOtF,IAAP;CAAa,SAA3C;CACD,OAHI;CAAA,WAKA,IAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;CACnCqF,UAAAA,aAAa,GAAGF,oBAAhB;CACAG,UAAAA,aAAa,GAAGtF,IAAhB;CACD;CACF,GAjCD;;CAkCA/D,EAAAA,MAAM,CAAC8J,MAAP,CAAcG,GAAd,GAAoB,EAApB;CACD,CAlID,EAkIG,OAAOnK,IAAP,KAAgB,WAAhB,GAA8BA,IAA9B,GAAqCE,cAlIxC;;;ACHA;CACA,MAAIkK,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaAnB,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAIoB,aAAa,GAAG,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;CACrC;;CAAsB,gBAAUC,MAAV,EAAkB;CACpCX,QAAAA,SAAS,CAACQ,aAAD,EAAgBG,MAAhB,CAAT;;CACA,iBAASH,aAAT,CAAuBI,KAAvB,EAA8B;CAC1B,cAAIC,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkBuE,GAAlB,KAA0B,IAAtC;;CACAG,UAAAA,KAAK,CAACD,KAAN,GAAcA,KAAd;CACA,iBAAOC,KAAP;CACH;;CACDL,QAAAA,aAAa,CAAC5I,SAAd,CAAwBkJ,cAAxB,GAAyC,UAAU1G,CAAV,EAAaoF,KAAb,EAAoB;CACzD,cAAIqB,KAAK,GAAG,IAAZ,CADyD;;;CAGzD,cAAIf,KAAK,CAACiB,OAAN,CAAc3G,CAAd,CAAJ,EAAsB;;;;;CAIlB,gBAAI,OAAOA,CAAC,CAAC,CAAD,CAAR,KAAgB,QAAhB,IAA4B,OAAOA,CAAC,CAAC,CAAD,CAAR,KAAgB,UAA5C,IAA0DpC,OAAO,CAACC,OAAR,CAAgBmC,CAAC,CAAC,CAAD,CAAjB,MAA0BA,CAAC,CAAC,CAAD,CAAzF,EACI,OAAOsG,GAAG,CAACM,QAAJ,CAAaC,SAAb,CAAuBC,cAAvB,CAAsC9G,CAAtC,EAAyCoF,KAAzC,CAAP,CADJ,KAEK;CACD,qBAAOpF,CAAC,CAACM,GAAF,CAAM,UAAUyG,CAAV,EAAa1B,GAAb,EAAkB;CAAE,oBAAIK,KAAK,CAACiB,OAAN,CAAcI,CAAd,CAAJ,EAAsB;CACnD,sBAAI,CAACA,CAAC,CAAC,CAAD,CAAN,EACIA,CAAC,CAAC,CAAD,CAAD,GAAO,EAAP;CACJA,kBAAAA,CAAC,CAAC,CAAD,CAAD,CAAK,KAAL,IAAcA,CAAC,CAAC,CAAD,CAAD,CAAK,KAAL,KAAe1B,GAA7B;CACH;;CAAC,uBAAOoB,KAAK,CAACC,cAAN,CAAqBK,CAArB,EAAwB1B,GAAxB,CAAP;CAAsC,eAJjC,CAAP;CAKH;CACJ,WAhBwD;;;;;CAmBzD,iBAAO,CAACrF,CAAD,IAAM,OAAOA,CAAP,KAAa,QAAnB,GAA8BA,CAA9B,GAAkCsG,GAAG,CAACM,QAAJ,CAAaC,SAAb,CAAuBC,cAAvB,CAAsC9G,CAAtC,EAAyCoF,KAAzC,CAAzC;CACH,SApBD;;CAqBAgB,QAAAA,aAAa,CAAC5I,SAAd,CAAwBwJ,MAAxB,GAAiC,UAAUhH,CAAV,EAAa;CAC1C,iBAAO,KAAK0G,cAAL,CAAoB1G,CAAC,IAAI,KAAKwG,KAAL,CAAWS,QAApC,CAAP;CACH,SAFD;;CAGA,eAAOb,aAAP;CACH,OAhCqB,CAgCpBE,GAAG,CAACM,QAAJ,CAAaM,EAAb,CAAgBC,SAhCI;CAAtB;CAiCH,GAlCD;;CAmCAnC,EAAAA,qBAAA,GAAwBoB,aAAxB;;;;;;AClDA;CACA,MAAIR,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaAnB,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAIoC,KAAK,GAAG,SAASf,MAAT,CAAgBC,GAAhB,EAAqB;CAC7B;;CAAsB,gBAAUC,MAAV,EAAkB;CACpCX,QAAAA,SAAS,CAACwB,KAAD,EAAQb,MAAR,CAAT;;CACA,iBAASa,KAAT,CAAeZ,KAAf,EAAsB;CAClB,cAAIC,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkByE,KAAlB,KAA4B,IAAxC;;CACAC,UAAAA,KAAK,CAACY,KAAN,GAAc,EAAd,CAFkB;;CAIlB,cAAI3B,KAAK,CAACiB,OAAN,CAAcH,KAAK,CAACS,QAApB,CAAJ,EACIrJ,OAAO,CAACyC,GAAR,CAAYmG,KAAK,CAACS,QAAlB,EAA4BnJ,IAA5B,CAAiC,UAAUwJ,CAAV,EAAa;CAAE,mBAAOb,KAAK,CAACc,QAAN,CAAe;CAAEpI,cAAAA,KAAK,EAAEmI;CAAT,aAAf,CAAP;CAAsC,WAAtF,EADJ;CAGI1J,YAAAA,OAAO,CAACC,OAAR,CAAgB2I,KAAK,CAACS,QAAtB,EAAgCnJ,IAAhC,CAAqC,UAAUwJ,CAAV,EAAa;CAAE,qBAAOb,KAAK,CAACc,QAAN,CAAe;CAAEpI,gBAAAA,KAAK,EAAEmI;CAAT,eAAf,CAAP;CAAsC,aAA1F;CACJ,iBAAOb,KAAP;CACH;;CACDW,QAAAA,KAAK,CAAC5J,SAAN,CAAgBwJ,MAAhB,GAAyB,YAAY;CACjC,iBAAO,CAAC,CAAC,KAAKK,KAAL,CAAWlI,KAAb,GAAqBoH,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,CAAwBjF,IAAxB,CAA6B,IAA7B,EAAmC,KAAKsF,KAAL,CAAWlI,KAA9C,CAArB,GAA4E,IAAnF;CACH,SAFD;;CAGA,eAAOiI,KAAP;CACH,OAhBqB,CAgBpBd,GAAG,CAACM,QAAJ,CAAaM,EAAb,CAAgBC,SAhBI;CAAtB;CAiBH,GAlBD;;CAmBAnC,EAAAA,aAAA,GAAgBoC,KAAhB;;;;;;AClCA;CACApC,EAAAA,kBAAA,GAAqB,IAArB;CAEAA,EAAAA,qBAAA,GAAwBwC,eAAe,CAACpB,aAAxC;CAEApB,EAAAA,aAAA,GAAgByC,OAAO,CAACL,KAAxB;;;;;;;ACLA;CACA,MAAIxB,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaAnB,EAAAA,kBAAA,GAAqB,IAArB;;CAEA,WAAS0C,KAAT,CAAeJ,CAAf,EAAkB;CACd,QAAI5B,KAAK,CAACiB,OAAN,CAAcW,CAAd,CAAJ,EACI,OAAOA,CAAC,CAAChH,GAAF,CAAM,UAAUgH,CAAV,EAAa;CAAE,aAAOI,KAAK,CAACJ,CAAD,CAAZ;CAAkB,KAAvC,CAAP,CADJ,KAEK,IAAI,QAAOA,CAAP,MAAa,QAAjB,EAA2B;CAC5B,UAAIK,CAAC,GAAG3I,MAAM,CAACC,MAAP,CAAcqI,CAAd,CAAR;CACAtI,MAAAA,MAAM,CAAC4I,IAAP,CAAYN,CAAZ,EAAe3F,OAAf,CAAuB,UAAUkG,CAAV,EAAa;CAAE,eAAOF,CAAC,CAACE,CAAD,CAAD,GAAOP,CAAC,CAACO,CAAD,CAAf;CAAqB,OAA3D;CACA,aAAOF,CAAP;CACH,KAJI,MAMD,OAAOL,CAAP;CACP;;CACD,MAAIQ,EAAE,GAAG,SAASzB,MAAT,CAAgBC,GAAhB,EAAqB;CAC1B;;CAAsB,gBAAUC,MAAV,EAAkB;CACpCX,QAAAA,SAAS,CAACmC,IAAD,EAAOxB,MAAP,CAAT;;CACA,iBAASwB,IAAT,CAAcvB,KAAd,EAAqB;CACjB,cAAIC,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkBuE,GAAlB,KAA0B,IAAtC;;CACAG,UAAAA,KAAK,CAACY,KAAN,GAAc;CAAEW,YAAAA,IAAI,EAAEN,KAAK,CAAClB,KAAK,CAACwB,IAAP;CAAb,WAAd;CACA,cAAIC,CAAC,GAAG,EAAR;;CACAxB,UAAAA,KAAK,CAACyB,KAAN,CAAYnG,IAAZ,CAAiB0E,KAAjB,EAAwBD,KAAK,CAAC2B,UAA9B,EAA0CF,CAA1C;;CACAxB,UAAAA,KAAK,CAACY,KAAN,CAAYe,WAAZ,GAA0BH,CAA1B;CACAxB,UAAAA,KAAK,CAACO,MAAN,GAAeP,KAAK,CAACO,MAAN,CAAaqB,IAAb,CAAkB5B,KAAlB,CAAf;CACA,iBAAOA,KAAP;CACH;;CACDsB,QAAAA,IAAI,CAACvK,SAAL,CAAe8K,QAAf,GAA0B,UAAUC,IAAV,EAAgBpJ,KAAhB,EAAuB;CAC7C,eAAKkI,KAAL,CAAWe,WAAX,CAAuBG,IAAvB,EAA6B5G,OAA7B,CAAqC,UAAUsG,CAAV,EAAa;CAAE,gBAAIA,CAAC,CAAC9I,KAAF,IAAWA,KAAf,EAChD8I,CAAC,CAAC9I,KAAF,GAAUA,KAAV;CAAkB,WADtB;CAEA,eAAKoI,QAAL,CAAc;CAAES,YAAAA,IAAI,EAAG,IAAIQ,QAAJ,CAAa,MAAb,EAAqB,MAArB,EAA6B,OAA7B,EAAsC,UAAUD,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,GAAkB,EAAlB,GAAuB,GAAjC,IAAwCA,IAAxC,GAA+C,wBAArF,CAAD,CAAiH,KAAKlB,KAAL,CAAWW,IAA5H,EAAkIO,IAAlI,EAAwIpJ,KAAxI;CAAR,WAAd;CACH,SAJD;;CAKA4I,QAAAA,IAAI,CAACvK,SAAL,CAAeiL,QAAf,GAA0B,UAAUF,IAAV,EAAgBG,GAAhB,EAAqB;CAC3C,iBAAQ,IAAIF,QAAJ,CAAa,MAAb,EAAqB,MAArB,EAA6B,iBAAiBD,IAAI,CAAC,CAAD,CAAJ,KAAY,GAAZ,GAAkB,EAAlB,GAAuB,GAAxC,IAA+CA,IAA5E,CAAD,CAAoF,KAAKlB,KAAL,CAAWW,IAA/F,EAAqGO,IAArG,CAAP;CACH,SAFD;;CAGAR,QAAAA,IAAI,CAACvK,SAAL,CAAemL,SAAf,GAA2B,UAAUC,CAAV,EAAaX,CAAb,EAAgB;CACvC,cAAIxB,KAAK,GAAG,IAAZ;;CACA,cAAI8B,IAAI,GAAGK,CAAC,CAAC,MAAD,CAAZ;;CACAA,UAAAA,CAAC,CAACC,QAAF,GAAa,UAAUC,CAAV,EAAa;CAAE,mBAAOrC,KAAK,CAAC6B,QAAN,CAAevG,IAAf,CAAoB0E,KAApB,EAA2B8B,IAA3B,EAAiCO,CAAC,CAACC,MAAF,CAAS5J,KAA1C,CAAP;CAA0D,WAAtF;;CACAyJ,UAAAA,CAAC,CAACzJ,KAAF,GAAU,KAAKsJ,QAAL,CAAc1G,IAAd,CAAmB,IAAnB,EAAyBwG,IAAzB,CAAV;CACA,cAAIN,CAAC,CAACM,IAAD,CAAD,KAAY3J,SAAhB,EACIqJ,CAAC,CAACM,IAAD,CAAD,GAAU,EAAV;CACJN,UAAAA,CAAC,CAACM,IAAD,CAAD,CAAQxL,IAAR,CAAa6L,CAAb;CACH,SARD;;CASAb,QAAAA,IAAI,CAACvK,SAAL,CAAe0K,KAAf,GAAuB,UAAUQ,GAAV,EAAeT,CAAf,EAAkB;CACrC,cAAIxB,KAAK,GAAG,IAAZ;;CACA,cAAIf,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EAAwB;CACpBA,YAAAA,GAAG,CAAC/G,OAAJ,CAAY,UAAU3B,CAAV,EAAa;CACrB,kBAAI0F,KAAK,CAACiB,OAAN,CAAc3G,CAAd,KAAoBA,CAAC,CAAC,CAAD,CAAD,IAAQ,WAAhC,EAA6C;CACzC,oBAAIA,CAAC,CAAC,CAAD,CAAD,IAAQ,QAAOA,CAAC,CAAC,CAAD,CAAR,MAAgB,QAAxB,IAAoCA,CAAC,CAAC,CAAD,CAAD,CAAK,MAAL,CAAxC,EACIyG,KAAK,CAACkC,SAAN,CAAgB3I,CAAC,CAAC,CAAD,CAAjB,EAAsBiI,CAAtB;CACJ,oBAAIjI,CAAC,CAAC,CAAD,CAAD,IAAQ0F,KAAK,CAACiB,OAAN,CAAc3G,CAAC,CAAC,CAAD,CAAf,CAAZ,EACIyG,KAAK,CAACyB,KAAN,CAAYlI,CAAC,CAAC,CAAD,CAAb,EAAkBiI,CAAlB;CACP;CACJ,aAPD;CAQH;CACJ,SAZD;;CAaAF,QAAAA,IAAI,CAACvK,SAAL,CAAewJ,MAAf,GAAwB,UAAUhH,CAAV,EAAa;CACjC,iBAAOuG,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,CAAwBjF,IAAxB,CAA6B,IAA7B,EAAmC,CAAC,CAAC/B,CAAF,GAAMA,CAAN,GAAU,KAAKwG,KAAL,CAAW2B,UAAxD,CAAP;CACH,SAFD;;CAGA,eAAOJ,IAAP;CACH,OA7CqB,CA6CpBiB,UAAY,CAAC5C,aAAb,CAA2BE,GAA3B,CA7CoB;CAAtB;CA8CH,GA/CD;;CAgDA,MAAI2C,IAAI,GAAG;CACPZ,IAAAA,IAAI,EAAE,SAASzE,SAAT,CAAmBgF,CAAnB,EAAsB7B,CAAtB,EAAyB;CAC3B,aAAO,CAACe,EAAD,EAAK;CAAEE,QAAAA,IAAI,EAAEY,CAAR;CAAWT,QAAAA,UAAU,EAAEpB;CAAvB,OAAL,CAAP,CAD2B;CAG9B,KAJM;CAKPmC,IAAAA,MAAM,EAAE,SAAStF,SAAT,CAAmBuF,GAAnB,EAAwB;CAC5B,UAAIlB,CAAC,GAAGkB,GAAG,CAACC,QAAJ,MAAkB,EAA1B;CACA,aAAOnB,CAAP;CACH;CARM,GAAX;CAUAjD,EAAAA,YAAA,GAAeiE,IAAf;;;;;;ACrFA;CACAjE,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAIqE,MAAM;;CAAkB,cAAY;CACpC,aAASA,MAAT,CAAgB/C,GAAhB,EAAqB;CACjB,WAAKgD,SAAL,GAAiB,EAAjB;CACArH,MAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKqH,eAAL,CAAqBlB,IAArB,CAA0B,IAA1B,CAAnC;CACH;;CACDgB,IAAAA,MAAM,CAAC7L,SAAP,CAAiB+L,eAAjB,GAAmC,UAAUC,EAAV,EAAc;CAC7C,UAAI,QAAOA,EAAE,CAACxB,IAAV,MAAmB,QAAnB,IAA+B,OAAOwB,EAAE,CAACxB,IAAH,CAAQyB,IAAf,KAAwB,QAA3D,EACI,KAAKC,OAAL,CAAaF,EAAE,CAACxB,IAAhB;CACP,KAHD;;CAIAqB,IAAAA,MAAM,CAAC7L,SAAP,CAAiBmL,SAAjB,GAA6B,UAAUgB,SAAV,EAAqBC,QAArB,EAA+B;;CAExD,UAAI,CAAC,KAAKN,SAAL,CAAeK,SAAS,CAACF,IAAzB,CAAL,EACI,KAAKH,SAAL,CAAeK,SAAS,CAACF,IAAzB,IAAiC,EAAjC;CACJ,WAAKH,SAAL,CAAeK,SAAS,CAACF,IAAzB,EAA+B1M,IAA/B,CAAoC;CAAE0M,QAAAA,IAAI,EAAEE,SAAR;CAAmBE,QAAAA,aAAa,EAAEF,SAAS,CAACE,aAA5C;CAA2DD,QAAAA,QAAQ,EAAEA;CAArE,OAApC;CACH,KALD;;CAMAP,IAAAA,MAAM,CAAC7L,SAAP,CAAiBsM,WAAjB,GAA+B,UAAUH,SAAV,EAAqBC,QAArB,EAA+B;;CAE1D,UAAIN,SAAJ;;CACA,UAAIA,SAAS,GAAG,KAAKA,SAAL,CAAeK,SAAS,CAACF,IAAzB,CAAhB,EAAgD;CAC5C,aAAK,IAAI3M,CAAC,GAAGwM,SAAS,CAAC9M,MAAV,GAAmB,CAAhC,EAAmCM,CAAC,IAAI,CAAxC,EAA2CA,CAAC,EAA5C;CACI,cAAIwM,SAAS,CAACxM,CAAD,CAAT,CAAa8M,QAAb,KAA0BA,QAA9B,EACIN,SAAS,CAACnE,MAAV,CAAiBrI,CAAjB,EAAoB,CAApB;CAFR;CAGH;CACJ,KARD;;CASAuM,IAAAA,MAAM,CAAC7L,SAAP,CAAiBkM,OAAjB,GAA2B,UAAUK,KAAV,EAAiBhB,MAAjB,EAAyB;CAChD,UAAIiB,aAAa,GAAG,KAAKV,SAAL,CAAeS,KAAK,CAACN,IAArB,CAApB;CACA,UAAIQ,QAAQ,GAAG,EAAf;CACA,UAAIlB,MAAJ,EACIA,MAAM,CAACmB,WAAP,CAAmBH,KAAnB,EAA0BnO,QAAQ,CAACC,IAAnC,EADJ,KAGI,KAAK,IAAIoM,CAAT,IAAc+B,aAAd;CACI,YAAIA,aAAa,CAAC/B,CAAD,CAAb,CAAiB4B,aAAjB,KAAmCjL,SAAnC,IAAgDoL,aAAa,CAAC/B,CAAD,CAAb,CAAiB4B,aAAjB,IAAkCE,KAAK,CAACF,aAA5F,EACI,IAAIG,aAAa,CAAC/B,CAAD,CAAb,CAAiB2B,QAArB,EAA+B;CAC3B,cAAIO,CAAC,GAAGH,aAAa,CAAC/B,CAAD,CAAb,CAAiB2B,QAAjB,CAA0BG,KAA1B,CAAR;CACA,cAAI,CAAC,CAACI,CAAN,EACIF,QAAQ,CAAClN,IAAT,CAAcoN,CAAd;CACP;CANT;AAOJ,CACA,aAAOF,QAAP;CACH,KAfD;;CAgBA,WAAOZ,MAAP;CACH,GAzC2B,EAA5B;;CA0CArE,EAAAA,cAAA,GAAiBqE,MAAjB;;;;;;AC5CA;CACA,MAAIe,SAAS,GAAIvE,cAAAA,IAAQA,cAAAA,CAAKuE,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;CACrF,WAAO,KAAKD,CAAC,KAAKA,CAAC,GAAG3M,OAAT,CAAN,EAAyB,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CACvD,eAASoI,SAAT,CAAmBtL,KAAnB,EAA0B;CAAE,YAAI;CAAEuL,UAAAA,IAAI,CAACF,SAAS,CAACG,IAAV,CAAexL,KAAf,CAAD,CAAJ;CAA8B,SAApC,CAAqC,OAAOa,CAAP,EAAU;CAAEqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CAAY;CAAE;;CAC3F,eAAS4K,QAAT,CAAkBzL,KAAlB,EAAyB;CAAE,YAAI;CAAEuL,UAAAA,IAAI,CAACF,SAAS,CAAC,OAAD,CAAT,CAAmBrL,KAAnB,CAAD,CAAJ;CAAkC,SAAxC,CAAyC,OAAOa,CAAP,EAAU;CAAEqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CAAY;CAAE;;CAC9F,eAAS0K,IAAT,CAAcG,MAAd,EAAsB;CAAEA,QAAAA,MAAM,CAACC,IAAP,GAAcjN,OAAO,CAACgN,MAAM,CAAC1L,KAAR,CAArB,GAAsC,IAAIoL,CAAJ,CAAM,UAAU1M,OAAV,EAAmB;CAAEA,UAAAA,OAAO,CAACgN,MAAM,CAAC1L,KAAR,CAAP;CAAwB,SAAnD,EAAqDrB,IAArD,CAA0D2M,SAA1D,EAAqEG,QAArE,CAAtC;CAAuH;;CAC/IF,MAAAA,IAAI,CAAC,CAACF,SAAS,GAAGA,SAAS,CAAClG,KAAV,CAAgB+F,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDK,IAAzD,EAAD,CAAJ;CACH,KALM,CAAP;CAMH,GAPD;;CAQA,MAAII,WAAW,GAAIlF,cAAAA,IAAQA,cAAAA,CAAKkF,WAAd,IAA8B,UAAUV,OAAV,EAAmBW,IAAnB,EAAyB;CACrE,QAAIC,CAAC,GAAG;CAAEC,MAAAA,KAAK,EAAE,CAAT;CAAYC,MAAAA,IAAI,EAAE,gBAAW;CAAE,YAAIC,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP;CAAY,eAAOA,CAAC,CAAC,CAAD,CAAR;CAAc,OAAvE;CAAyEC,MAAAA,IAAI,EAAE,EAA/E;CAAmFC,MAAAA,GAAG,EAAE;CAAxF,KAAR;CAAA,QAAsGC,CAAtG;CAAA,QAAyGC,CAAzG;CAAA,QAA4GJ,CAA5G;CAAA,QAA+GK,CAA/G;CACA,WAAOA,CAAC,GAAG;CAAEd,MAAAA,IAAI,EAAEe,IAAI,CAAC,CAAD,CAAZ;CAAiB,eAASA,IAAI,CAAC,CAAD,CAA9B;CAAmC,gBAAUA,IAAI,CAAC,CAAD;CAAjD,KAAJ,EAA4D,OAAOvO,MAAP,KAAkB,UAAlB,KAAiCsO,CAAC,CAACtO,MAAM,CAACwO,QAAR,CAAD,GAAqB,YAAW;CAAE,aAAO,IAAP;CAAc,KAAjF,CAA5D,EAAgJF,CAAvJ;;CACA,aAASC,IAAT,CAAc9K,CAAd,EAAiB;CAAE,aAAO,UAAUkI,CAAV,EAAa;CAAE,eAAO4B,IAAI,CAAC,CAAC9J,CAAD,EAAIkI,CAAJ,CAAD,CAAX;CAAsB,OAA5C;CAA+C;;CAClE,aAAS4B,IAAT,CAAckB,EAAd,EAAkB;CACd,UAAIL,CAAJ,EAAO,MAAM,IAAIM,SAAJ,CAAc,iCAAd,CAAN;;CACP,aAAOZ,CAAP;CAAU,YAAI;CACV,cAAIM,CAAC,GAAG,CAAJ,EAAOC,CAAC,KAAKJ,CAAC,GAAGQ,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYJ,CAAC,CAAC,QAAD,CAAb,GAA0BI,EAAE,CAAC,CAAD,CAAF,GAAQJ,CAAC,CAAC,OAAD,CAAD,KAAe,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAD,CAAN,KAAqBJ,CAAC,CAACrJ,IAAF,CAAOyJ,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAACb,IAAjG,CAAD,IAA2G,CAAC,CAACS,CAAC,GAAGA,CAAC,CAACrJ,IAAF,CAAOyJ,CAAP,EAAUI,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBd,IAA9I,EAAoJ,OAAOM,CAAP;CACpJ,cAAII,CAAC,GAAG,CAAJ,EAAOJ,CAAX,EAAcQ,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYR,CAAC,CAACjM,KAAd,CAAL;;CACd,kBAAQyM,EAAE,CAAC,CAAD,CAAV;CACI,iBAAK,CAAL;CAAQ,iBAAK,CAAL;CAAQR,cAAAA,CAAC,GAAGQ,EAAJ;CAAQ;;CACxB,iBAAK,CAAL;CAAQX,cAAAA,CAAC,CAACC,KAAF;CAAW,qBAAO;CAAE/L,gBAAAA,KAAK,EAAEyM,EAAE,CAAC,CAAD,CAAX;CAAgBd,gBAAAA,IAAI,EAAE;CAAtB,eAAP;;CACnB,iBAAK,CAAL;CAAQG,cAAAA,CAAC,CAACC,KAAF;CAAWM,cAAAA,CAAC,GAAGI,EAAE,CAAC,CAAD,CAAN;CAAWA,cAAAA,EAAE,GAAG,CAAC,CAAD,CAAL;CAAU;;CACxC,iBAAK,CAAL;CAAQA,cAAAA,EAAE,GAAGX,CAAC,CAACK,GAAF,CAAMtO,GAAN,EAAL;;CAAkBiO,cAAAA,CAAC,CAACI,IAAF,CAAOrO,GAAP;;CAAc;;CACxC;CACI,kBAAI,EAAEoO,CAAC,GAAGH,CAAC,CAACI,IAAN,EAAYD,CAAC,GAAGA,CAAC,CAAC5O,MAAF,GAAW,CAAX,IAAgB4O,CAAC,CAACA,CAAC,CAAC5O,MAAF,GAAW,CAAZ,CAAnC,MAAuDoP,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;CAAEX,gBAAAA,CAAC,GAAG,CAAJ;CAAO;CAAW;;CAC5G,kBAAIW,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACR,CAAD,IAAOQ,EAAE,CAAC,CAAD,CAAF,GAAQR,CAAC,CAAC,CAAD,CAAT,IAAgBQ,EAAE,CAAC,CAAD,CAAF,GAAQR,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUU,EAAE,CAAC,CAAD,CAAZ;CAAiB;CAAQ;;CACtF,kBAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeX,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAA9B,EAAmC;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;CAAgBA,gBAAAA,CAAC,GAAGQ,EAAJ;CAAQ;CAAQ;;CACrE,kBAAIR,CAAC,IAAIH,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAApB,EAAyB;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;;CAAgBH,gBAAAA,CAAC,CAACK,GAAF,CAAMvO,IAAN,CAAW6O,EAAX;;CAAgB;CAAQ;;CACnE,kBAAIR,CAAC,CAAC,CAAD,CAAL,EAAUH,CAAC,CAACK,GAAF,CAAMtO,GAAN;;CACViO,cAAAA,CAAC,CAACI,IAAF,CAAOrO,GAAP;;CAAc;CAXtB;;CAaA4O,UAAAA,EAAE,GAAGZ,IAAI,CAACjJ,IAAL,CAAUsI,OAAV,EAAmBY,CAAnB,CAAL;CACH,SAjBS,CAiBR,OAAOjL,CAAP,EAAU;CAAE4L,UAAAA,EAAE,GAAG,CAAC,CAAD,EAAI5L,CAAJ,CAAL;CAAawL,UAAAA,CAAC,GAAG,CAAJ;CAAQ,SAjBzB,SAiBkC;CAAED,UAAAA,CAAC,GAAGH,CAAC,GAAG,CAAR;CAAY;CAjB1D;;CAkBA,UAAIQ,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;CAAa,aAAO;CAAEzM,QAAAA,KAAK,EAAEyM,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;CAAiCd,QAAAA,IAAI,EAAE;CAAvC,OAAP;CAC/B;CACJ,GA1BD;;CA2BA,MAAIrE,KAAK,GAAGZ,cAAZ;CACAb,EAAAA,kBAAA,GAAqB,IAArB;CACA,MAAI8G,QAAQ,GAAG,EAAf;;CACA,WAASC,WAAT,CAAqB1N,GAArB,EAA0B;CACtB,WAAO,IAAImK,QAAJ,CAAa,KAAb,EAAoB,QAApB,EAA8B,oUAA9B,EAAoWnK,GAApW,EAAyWyN,QAAzW,CAAP;CACH;;CACD,WAASE,GAAT,CAAarI,MAAb,EAAqBtF,GAArB,EAA0ByN,QAA1B,EAAoC;CAChC,QAAIG,CAAC,GAAG;CAAEjH,MAAAA,OAAO,EAAE;CAAX,KAAR;;CACA,QAAI;CACA,UAAIwD,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC7E,MAAM,GAAG,uBAAT,GAAmCtF,GAArE,EAA0E0N,WAA1E,EAAuFE,CAAvF;CACH,KAFD,CAGA,OAAOV,CAAP,EAAU;CACNW,MAAAA,OAAO,CAACC,GAAR,CAAY,0CAA0C9N,GAA1C,IAAiDsF,MAA7D;CACA,YAAM4H,CAAN;CACH;;CACD,WAAOU,CAAC,CAACjH,OAAT;CACH;;CACD,MAAIoH,MAAM,GAAG;CACT/M,IAAAA,WAAW,EAAE,qBAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CAAE,aAAOiH,SAAS,CAAC3D,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;CACtF,YAAInD,GAAJ;CACA,eAAOyH,WAAW,CAAC,IAAD,EAAO,UAAUsB,EAAV,EAAc;CACnC,kBAAQA,EAAE,CAACnB,KAAX;CACI,iBAAK,CAAL;CAAQ,qBAAO,CAAC;;CAAD,gBAAc9H,KAAK,CAAC/E,GAAD,EAAM;CAAEgF,gBAAAA,WAAW,EAAE;CAAf,eAAN,CAAnB,CAAP;;CACR,iBAAK,CAAL;CACIC,cAAAA,GAAG,GAAG+I,EAAE,CAAClB,IAAH,EAAN;CACA,kBAAI,CAAC7H,GAAG,CAACC,EAAT,EACI,MAAM,IAAIhE,KAAJ,CAAU,kBAAkB+D,GAAG,CAACE,MAAtB,GAA+B,GAA/B,GAAqCF,GAAG,CAACG,UAAzC,IAAuDN,MAAM,GAAG,oBAAoBA,MAAvB,GAAgC,EAA7F,CAAV,CAAN;CACJ,qBAAO,CAAC;;CAAD,gBAAeG,GAAG,CAACI,IAAJ,EAAf,CAAP;CANR;CAQH,SATiB,CAAlB;CAUH,OAZqD,CAAhB;CAYjC,KAbI;CAcT,cAAU,iBAAUC,MAAV,EAAkBtF,GAAlB,EAAuB;CAAE,aAAO+L,SAAS,CAAC3D,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;CACnF,YAAI7J,MAAJ;CACA,eAAOmO,WAAW,CAAC,IAAD,EAAO,UAAUsB,EAAV,EAAc;CACnC,cAAI;CACAzP,YAAAA,MAAM,GAAGoP,GAAG,CAACrI,MAAD,EAAStF,GAAT,EAAcyN,QAAd,CAAZ;CACA,mBAAO,CAAC;;CAAD,cAAelP,MAAf,CAAP;CACH,WAHD,CAIA,OAAOoD,CAAP,EAAU;CACNkM,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAA4B9N,GAA5B,GAAkC,IAA9C;CACA,kBAAO2B,CAAP;CACH;;CACD,iBAAO,CAAC;;CAAD,WAAP;CACH,SAViB,CAAlB;CAWH,OAbkD,CAAhB;CAa9B,KA3BI;CA4BTsM,IAAAA,IAAI,EAAE,cAAUR,QAAV,EAAoB;CAAE,aAAO,KAAK,EAAZ;CAAiB;CA5BpC,GAAb;CA8BA9G,EAAAA,OAAO,CAAC,SAAD,CAAP,GAAqBoH,MAArB;;;;;ACnFA;CACA,MAAIhC,SAAS,GAAIvE,cAAAA,IAAQA,cAAAA,CAAKuE,SAAd,IAA4B,UAAUC,OAAV,EAAmBC,UAAnB,EAA+BC,CAA/B,EAAkCC,SAAlC,EAA6C;CACrF,WAAO,KAAKD,CAAC,KAAKA,CAAC,GAAG3M,OAAT,CAAN,EAAyB,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CACvD,eAASoI,SAAT,CAAmBtL,KAAnB,EAA0B;CAAE,YAAI;CAAEuL,UAAAA,IAAI,CAACF,SAAS,CAACG,IAAV,CAAexL,KAAf,CAAD,CAAJ;CAA8B,SAApC,CAAqC,OAAOa,CAAP,EAAU;CAAEqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CAAY;CAAE;;CAC3F,eAAS4K,QAAT,CAAkBzL,KAAlB,EAAyB;CAAE,YAAI;CAAEuL,UAAAA,IAAI,CAACF,SAAS,CAAC,OAAD,CAAT,CAAmBrL,KAAnB,CAAD,CAAJ;CAAkC,SAAxC,CAAyC,OAAOa,CAAP,EAAU;CAAEqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CAAY;CAAE;;CAC9F,eAAS0K,IAAT,CAAcG,MAAd,EAAsB;CAAEA,QAAAA,MAAM,CAACC,IAAP,GAAcjN,OAAO,CAACgN,MAAM,CAAC1L,KAAR,CAArB,GAAsC,IAAIoL,CAAJ,CAAM,UAAU1M,OAAV,EAAmB;CAAEA,UAAAA,OAAO,CAACgN,MAAM,CAAC1L,KAAR,CAAP;CAAwB,SAAnD,EAAqDrB,IAArD,CAA0D2M,SAA1D,EAAqEG,QAArE,CAAtC;CAAuH;;CAC/IF,MAAAA,IAAI,CAAC,CAACF,SAAS,GAAGA,SAAS,CAAClG,KAAV,CAAgB+F,OAAhB,EAAyBC,UAAU,IAAI,EAAvC,CAAb,EAAyDK,IAAzD,EAAD,CAAJ;CACH,KALM,CAAP;CAMH,GAPD;;CAQA,MAAII,WAAW,GAAIlF,cAAAA,IAAQA,cAAAA,CAAKkF,WAAd,IAA8B,UAAUV,OAAV,EAAmBW,IAAnB,EAAyB;CACrE,QAAIC,CAAC,GAAG;CAAEC,MAAAA,KAAK,EAAE,CAAT;CAAYC,MAAAA,IAAI,EAAE,gBAAW;CAAE,YAAIC,CAAC,CAAC,CAAD,CAAD,GAAO,CAAX,EAAc,MAAMA,CAAC,CAAC,CAAD,CAAP;CAAY,eAAOA,CAAC,CAAC,CAAD,CAAR;CAAc,OAAvE;CAAyEC,MAAAA,IAAI,EAAE,EAA/E;CAAmFC,MAAAA,GAAG,EAAE;CAAxF,KAAR;CAAA,QAAsGC,CAAtG;CAAA,QAAyGC,CAAzG;CAAA,QAA4GJ,CAA5G;CAAA,QAA+GK,CAA/G;CACA,WAAOA,CAAC,GAAG;CAAEd,MAAAA,IAAI,EAAEe,IAAI,CAAC,CAAD,CAAZ;CAAiB,eAASA,IAAI,CAAC,CAAD,CAA9B;CAAmC,gBAAUA,IAAI,CAAC,CAAD;CAAjD,KAAJ,EAA4D,OAAOvO,MAAP,KAAkB,UAAlB,KAAiCsO,CAAC,CAACtO,MAAM,CAACwO,QAAR,CAAD,GAAqB,YAAW;CAAE,aAAO,IAAP;CAAc,KAAjF,CAA5D,EAAgJF,CAAvJ;;CACA,aAASC,IAAT,CAAc9K,CAAd,EAAiB;CAAE,aAAO,UAAUkI,CAAV,EAAa;CAAE,eAAO4B,IAAI,CAAC,CAAC9J,CAAD,EAAIkI,CAAJ,CAAD,CAAX;CAAsB,OAA5C;CAA+C;;CAClE,aAAS4B,IAAT,CAAckB,EAAd,EAAkB;CACd,UAAIL,CAAJ,EAAO,MAAM,IAAIM,SAAJ,CAAc,iCAAd,CAAN;;CACP,aAAOZ,CAAP;CAAU,YAAI;CACV,cAAIM,CAAC,GAAG,CAAJ,EAAOC,CAAC,KAAKJ,CAAC,GAAGQ,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAR,GAAYJ,CAAC,CAAC,QAAD,CAAb,GAA0BI,EAAE,CAAC,CAAD,CAAF,GAAQJ,CAAC,CAAC,OAAD,CAAD,KAAe,CAACJ,CAAC,GAAGI,CAAC,CAAC,QAAD,CAAN,KAAqBJ,CAAC,CAACrJ,IAAF,CAAOyJ,CAAP,CAArB,EAAgC,CAA/C,CAAR,GAA4DA,CAAC,CAACb,IAAjG,CAAD,IAA2G,CAAC,CAACS,CAAC,GAAGA,CAAC,CAACrJ,IAAF,CAAOyJ,CAAP,EAAUI,EAAE,CAAC,CAAD,CAAZ,CAAL,EAAuBd,IAA9I,EAAoJ,OAAOM,CAAP;CACpJ,cAAII,CAAC,GAAG,CAAJ,EAAOJ,CAAX,EAAcQ,EAAE,GAAG,CAACA,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAT,EAAYR,CAAC,CAACjM,KAAd,CAAL;;CACd,kBAAQyM,EAAE,CAAC,CAAD,CAAV;CACI,iBAAK,CAAL;CAAQ,iBAAK,CAAL;CAAQR,cAAAA,CAAC,GAAGQ,EAAJ;CAAQ;;CACxB,iBAAK,CAAL;CAAQX,cAAAA,CAAC,CAACC,KAAF;CAAW,qBAAO;CAAE/L,gBAAAA,KAAK,EAAEyM,EAAE,CAAC,CAAD,CAAX;CAAgBd,gBAAAA,IAAI,EAAE;CAAtB,eAAP;;CACnB,iBAAK,CAAL;CAAQG,cAAAA,CAAC,CAACC,KAAF;CAAWM,cAAAA,CAAC,GAAGI,EAAE,CAAC,CAAD,CAAN;CAAWA,cAAAA,EAAE,GAAG,CAAC,CAAD,CAAL;CAAU;;CACxC,iBAAK,CAAL;CAAQA,cAAAA,EAAE,GAAGX,CAAC,CAACK,GAAF,CAAMtO,GAAN,EAAL;;CAAkBiO,cAAAA,CAAC,CAACI,IAAF,CAAOrO,GAAP;;CAAc;;CACxC;CACI,kBAAI,EAAEoO,CAAC,GAAGH,CAAC,CAACI,IAAN,EAAYD,CAAC,GAAGA,CAAC,CAAC5O,MAAF,GAAW,CAAX,IAAgB4O,CAAC,CAACA,CAAC,CAAC5O,MAAF,GAAW,CAAZ,CAAnC,MAAuDoP,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAhF,CAAJ,EAAwF;CAAEX,gBAAAA,CAAC,GAAG,CAAJ;CAAO;CAAW;;CAC5G,kBAAIW,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,KAAgB,CAACR,CAAD,IAAOQ,EAAE,CAAC,CAAD,CAAF,GAAQR,CAAC,CAAC,CAAD,CAAT,IAAgBQ,EAAE,CAAC,CAAD,CAAF,GAAQR,CAAC,CAAC,CAAD,CAAhD,CAAJ,EAA2D;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUU,EAAE,CAAC,CAAD,CAAZ;CAAiB;CAAQ;;CACtF,kBAAIA,EAAE,CAAC,CAAD,CAAF,KAAU,CAAV,IAAeX,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAA9B,EAAmC;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;CAAgBA,gBAAAA,CAAC,GAAGQ,EAAJ;CAAQ;CAAQ;;CACrE,kBAAIR,CAAC,IAAIH,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAApB,EAAyB;CAAEH,gBAAAA,CAAC,CAACC,KAAF,GAAUE,CAAC,CAAC,CAAD,CAAX;;CAAgBH,gBAAAA,CAAC,CAACK,GAAF,CAAMvO,IAAN,CAAW6O,EAAX;;CAAgB;CAAQ;;CACnE,kBAAIR,CAAC,CAAC,CAAD,CAAL,EAAUH,CAAC,CAACK,GAAF,CAAMtO,GAAN;;CACViO,cAAAA,CAAC,CAACI,IAAF,CAAOrO,GAAP;;CAAc;CAXtB;;CAaA4O,UAAAA,EAAE,GAAGZ,IAAI,CAACjJ,IAAL,CAAUsI,OAAV,EAAmBY,CAAnB,CAAL;CACH,SAjBS,CAiBR,OAAOjL,CAAP,EAAU;CAAE4L,UAAAA,EAAE,GAAG,CAAC,CAAD,EAAI5L,CAAJ,CAAL;CAAawL,UAAAA,CAAC,GAAG,CAAJ;CAAQ,SAjBzB,SAiBkC;CAAED,UAAAA,CAAC,GAAGH,CAAC,GAAG,CAAR;CAAY;CAjB1D;;CAkBA,UAAIQ,EAAE,CAAC,CAAD,CAAF,GAAQ,CAAZ,EAAe,MAAMA,EAAE,CAAC,CAAD,CAAR;CAAa,aAAO;CAAEzM,QAAAA,KAAK,EAAEyM,EAAE,CAAC,CAAD,CAAF,GAAQA,EAAE,CAAC,CAAD,CAAV,GAAgB,KAAK,CAA9B;CAAiCd,QAAAA,IAAI,EAAE;CAAvC,OAAP;CAC/B;CACJ,GA1BD;;CA2BA,MAAIrE,KAAK,GAAGZ,cAAZ;CACAb,EAAAA,kBAAA,GAAqB,IAArB;CACA,MAAIuH,QAAJ;;CACA,WAASR,WAAT,CAAqB1N,GAArB,EAA0B;CACtB,WAAO,IAAImK,QAAJ,CAAa,KAAb,EAAoB,QAApB,EAA8B,oUAA9B,EAAoWnK,GAApW,EAAyWkO,QAAQ,IAAI,EAArX,CAAP;CACH;;CACD,WAASP,GAAT,CAAarI,MAAb,EAAqBtF,GAArB,EAA0B;CACtB,QAAI4N,CAAC,GAAG;CAAEjH,MAAAA,OAAO,EAAE;CAAX,KAAR;;CACA,QAAI;CACA,UAAIwD,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC7E,MAAM,GAAG,uBAAT,GAAmCtF,GAArE,EAA0E0N,WAA1E,EAAuFE,CAAvF;CACH,KAFD,CAGA,OAAOV,CAAP,EAAU;CACNW,MAAAA,OAAO,CAACC,GAAR,CAAY,wCAAwC9N,GAAG,IAAIsF,MAA/C,IAAyD,GAArE,EAA0E4H,CAA1E;CACA,YAAMA,CAAN;CACH;;CACD,WAAOU,CAAC,CAACjH,OAAT;CACH;;CACD,MAAIoH,MAAM,GAAG;CACT/M,IAAAA,WAAW,EAAE,qBAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CAAE,aAAOiH,SAAS,CAAC3D,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;CACtF,YAAInD,GAAJ;CACA,eAAOyH,WAAW,CAAC,IAAD,EAAO,UAAUsB,EAAV,EAAc;CACnC,kBAAQA,EAAE,CAACnB,KAAX;CACI,iBAAK,CAAL;CAAQ,qBAAO,CAAC;;CAAD,gBAAc9H,KAAK,CAAC/E,GAAD,EAAM;CAAEgF,gBAAAA,WAAW,EAAE;CAAf,eAAN,CAAnB,CAAP;;CACR,iBAAK,CAAL;CACIC,cAAAA,GAAG,GAAG+I,EAAE,CAAClB,IAAH,EAAN;CACA,kBAAI,CAAC7H,GAAG,CAACC,EAAT,EACI,MAAM,IAAIhE,KAAJ,CAAU,kBAAkB+D,GAAG,CAACE,MAAtB,GAA+B,GAA/B,GAAqCF,GAAG,CAACG,UAAzC,IAAuDN,MAAM,GAAG,oBAAoBA,MAAvB,GAAgC,EAA7F,CAAV,CAAN;CACJ,qBAAO,CAAC;;CAAD,gBAAeG,GAAG,CAACI,IAAJ,EAAf,CAAP;CANR;CAQH,SATiB,CAAlB;CAUH,OAZqD,CAAhB;CAYjC,KAbI;CAcT,cAAU,iBAAUC,MAAV,EAAkBtF,GAAlB,EAAuB;CAAE,aAAO+L,SAAS,CAAC3D,KAAD,EAAQ,KAAK,CAAb,EAAgB,KAAK,CAArB,EAAwB,YAAY;CACnF,YAAI7J,MAAJ;CACA,eAAOmO,WAAW,CAAC,IAAD,EAAO,UAAUsB,EAAV,EAAc;CACnC,cAAI;CACAzP,YAAAA,MAAM,GAAGoP,GAAG,CAACrI,MAAD,EAAStF,GAAT,CAAZ;CACA,mBAAO,CAAC;;CAAD,cAAezB,MAAf,CAAP;CACH,WAHD,CAIA,OAAOoD,CAAP,EAAU;CACNkM,YAAAA,OAAO,CAACC,GAAR,CAAY,6BAA6B9N,GAA7B,GAAmC,KAAnC,GAA2C2B,CAAvD;CACA,kBAAOA,CAAP;CACH;;CACD,iBAAO,CAAC;;CAAD,WAAP;CACH,SAViB,CAAlB;CAWH,OAbkD,CAAhB;CAa9B,KA3BI;CA4BTsM,IAAAA,IAAI,EAAE,cAAUR,QAAV,EAAoB;CACtBS,MAAAA,QAAQ,GAAGT,QAAX;CACH;CA9BQ,GAAb;CAgCA9G,EAAAA,OAAO,CAAC,SAAD,CAAP,GAAqBoH,MAArB;;;;;ACrFA;CACApH,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAIoH,MAAM;;CAAkB,cAAY;CACpC,aAASA,MAAT,CAAgB9F,GAAhB,EAAqB;CACjB,UAAIG,KAAK,GAAG,IAAZ;;CACA,WAAKH,GAAL,GAAWA,GAAX;;CACA,UAAI,QAAOrE,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;CAC5B,YAAIuK,QAAQ,GAAGxN,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,QAAxC,CAAf;;CACA,YAAIuK,QAAJ,EAAc;CACVA,UAAAA,QAAQ,CAACrN,KAAT,CAAe+D,WAAf,CAA2B1F,SAA3B,CAAqCkP,GAArC,GAA2C,UAAUC,KAAV,EAAiBlN,IAAjB,EAAuB;CAAE,mBAAOgH,KAAK,CAACH,GAAN,CAAUM,QAAV,CAAmBgG,WAAnB,CAA+BhJ,SAA/B,CAAyC+I,KAAzC,EAAgDlN,IAAhD,CAAP;CAA+D,WAAnI;;CACA,eAAKoN,KAAL,GAAa;CAAE,sBAAUL,QAAQ,CAACrN,KAAT,CAAe,QAAf,EAAyBkJ,IAAzB,CAA8BmE,QAAQ,CAACrN,KAAvC,CAAZ;CAA2DE,YAAAA,WAAW,EAAEmN,QAAQ,CAACrN,KAAT,CAAeE,WAAf,CAA2BgJ,IAA3B,CAAgCmE,QAAQ,CAACrN,KAAzC,CAAxE;CAAyHmN,YAAAA,IAAI,EAAE,cAAUR,QAAV,EAAoB;CAAE,qBAAO,KAAK,EAAZ;CAAiB;CAAtK,WAAb;CACH,SAHD,MAKI,KAAKe,KAAL,GAAaC,MAA4B,CAAC,SAAD,CAAzC;CACP;;CACD,UAAI,KAAK,OAAL,KAAiB,IAArB,EACI,KAAKD,KAAL,GAAaE,QAA2B,CAAC,SAAD,CAAxC;CACP;;CACDX,IAAAA,MAAM,CAAC5O,SAAP,CAAiB,QAAjB,IAA6B,UAAUwP,UAAV,EAAsBC,oBAAtB,EAA4C;CACrE,UAAIxG,KAAK,GAAG,IAAZ;;CACA,UAAIyG,CAAC,GAAGF,UAAU,CAAC1Q,OAAX,CAAmB,GAAnB,IAA0B,CAAC,CAA3B,GAA+B0Q,UAAU,CAAC/Q,KAAX,CAAiB,CAAjB,EAAoB+Q,UAAU,CAAC1Q,OAAX,CAAmB,GAAnB,CAApB,CAA/B,GAA8E0Q,UAAtF;CACA,UAAIjH,CAAC,GAAGmH,CAAC,CAAC1Q,MAAF,GAAW,CAAX,GAAewQ,UAAU,CAACxQ,MAA1B,GAAmCwQ,UAAU,CAAC/Q,KAAX,CAAiBiR,CAAC,CAAC1Q,MAAF,GAAW,CAA5B,EAA+BV,KAA/B,CAAqC,GAArC,CAAnC,GAA+E,EAAvF;CACA,aAAO,IAAI8B,OAAJ,CAAY,UAAUuM,CAAV,EAAagD,EAAb,EAAiB;CAAE,eAAO1G,KAAK,CAACoG,KAAN,CAAY,QAAZ,EAAsBK,CAAtB,EAAyBD,oBAAzB,EAA+CnP,IAA/C,CAAoD,UAAUsP,CAAV,EAAa;CAC1G,cAAIA,CAAC,CAAC,SAAD,CAAL,EACIA,CAAC,GAAGA,CAAC,CAAC,SAAD,CAAL;;CACJ,eAAK,IAAItQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiJ,CAAC,CAACvJ,MAAtB,EAA8BM,CAAC,EAA/B;CACI,gBAAI,CAACsQ,CAAC,GAAGA,CAAC,CAACrH,CAAC,CAACjJ,CAAD,CAAF,CAAN,MAAkB8B,SAAtB,EAAiC;CAC7B;CACAuO,cAAAA,EAAE,CAAC,gCAAgCpH,CAAC,CAACjJ,CAAD,CAAjC,GAAuC,MAAvC,GAAgDkQ,UAAjD,CAAF;CACH;CAJL;CAMA7C,UAAAA,CAAC,CAAC;CAAE,uBAAWiD,CAAb;CAAgBC,YAAAA,UAAU,EAAEL;CAA5B,WAAD,CAAD;CACH,SAV4C,EAU1CG,EAV0C,CAAP;CAU7B,OAVF,CAAP;CAWH,KAfD;;CAgBAf,IAAAA,MAAM,CAAC5O,SAAP,CAAiB6B,WAAjB,GAA+B,UAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CAClD,aAAO,KAAK0J,KAAL,CAAWxN,WAAX,CAAuBhB,GAAvB,EAA4B8E,MAA5B,CAAP;CACH,KAFD;;CAGAiJ,IAAAA,MAAM,CAAC5O,SAAP,CAAiB8O,IAAjB,GAAwB,UAAUR,QAAV,EAAoB;CACxC9M,MAAAA,MAAM,CAACE,cAAP,CAAsB,KAAK2N,KAAL,CAAW,QAAX,CAAtB,EAA4C,KAA5C,EAAmD,KAAKvG,GAAL,CAASM,QAAT,CAAkBgG,WAAlB,CAA8BhJ,SAAjF;CACH,KAFD;;CAGA,WAAOwI,MAAP;CACH,GAvC2B,EAA5B;;CAwCApH,EAAAA,cAAA,GAAiBoH,MAAjB;;;;;;AC1CA;CACApH,EAAAA,kBAAA,GAAqB,IAArB;CACA,MAAIsI,QAAJ;;CACA,GAAC,UAAUA,QAAV,EAAoB;CACjBA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,MAAD,CAAR,GAAmB,CAApB,CAAR,GAAiC,MAAjC;CACAA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,WAAD,CAAR,GAAwB,CAAzB,CAAR,GAAsC,WAAtC;CACAA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,OAAD,CAAR,GAAoB,CAArB,CAAR,GAAkC,OAAlC;CACAA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,MAAD,CAAR,GAAmB,CAApB,CAAR,GAAiC,MAAjC;CACAA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,MAAD,CAAR,GAAmB,CAApB,CAAR,GAAiC,MAAjC;CACAA,IAAAA,QAAQ,CAACA,QAAQ,CAAC,OAAD,CAAR,GAAoB,CAArB,CAAR,GAAkC,OAAlC;CACH,GAPD,EAOGA,QAAQ,GAAGtI,OAAO,CAACsI,QAAR,KAAqBtI,gBAAA,GAAmB,EAAxC,CAPd;;CAQA,MAAIuI,YAAJ;;CACA,GAAC,UAAUA,YAAV,EAAwB;CACrBA,IAAAA,YAAY,CAAC,MAAD,CAAZ,GAAuB,MAAvB;CACAA,IAAAA,YAAY,CAAC,UAAD,CAAZ,GAA2B,UAA3B;CACAA,IAAAA,YAAY,CAAC,KAAD,CAAZ,GAAsB,KAAtB;CACAA,IAAAA,YAAY,CAAC,KAAD,CAAZ,GAAsB,KAAtB;CACAA,IAAAA,YAAY,CAAC,IAAD,CAAZ,GAAqB,IAArB;CACH,GAND,EAMGA,YAAY,GAAGvI,OAAO,CAACuI,YAAR,KAAyBvI,oBAAA,GAAuB,EAAhD,CANlB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZA;CACA,MAAIY,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaA,MAAIqH,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CAEA,MAAI0I,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA,WAASa,IAAT,CAAc/E,CAAd,EAAiB7C,CAAjB,EAAoB;CAAE,WAAO/G,MAAM,CAACxB,SAAP,CAAiB0I,cAAjB,CAAgCnE,IAAhC,CAAqC6G,CAArC,EAAwC7C,CAAxC,CAAP;CAAoD;;CAC1E,WAAS2B,KAAT,CAAekB,CAAf,EAAkB7C,CAAlB,EAAqB;CAAE,SAAK,IAAIgB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGxC,SAAS,CAAC/H,MAA9B,EAAsCuK,CAAC,EAAvC,EAA2C;CAC9D,UAAIjG,CAAC,GAAGyD,SAAS,CAACwC,CAAD,CAAjB;CACA,UAAIjG,CAAJ,EACI,KAAK,IAAId,CAAT,IAAcc,CAAd;CACI6M,QAAAA,IAAI,CAAC7M,CAAD,EAAId,CAAJ,CAAJ,KAAe4I,CAAC,CAAC5I,CAAD,CAAD,GAAOc,CAAC,CAACd,CAAD,CAAvB;CADJ;CAEP;;CAAC,WAAO4I,CAAP;CAAW;;CACb,WAASgF,MAAT,CAAgBtH,GAAhB,EAAqBuG,KAArB,EAA4B;CACxB,QAAIgB,GAAG,GAAGnG,KAAK,CAACpB,GAAD,CAAf;CACAuH,IAAAA,GAAG,CAACjH,QAAJ,CAAaM,EAAb,CAAgBC,SAAhB,GAA4B0F,KAAK,IAAI7D,UAAY,CAAC5C,aAAb,CAA2BE,GAA3B;;CAArC;;;;;;;;;CAQA,WAAOuH,GAAP;CACH;;CACD,MAAIC,SAAS;;CAAkB,cAAY;CACvC,aAASA,SAAT,CAAmBxH,GAAnB,EAAwB;CACpB,WAAKyH,KAAL,GAAa/O,MAAM,EAAnB;CACA,WAAKyK,IAAL,GAAY,WAAZ;CACA,WAAKnD,GAAL,GAAWA,GAAX;;CACA,WAAKyH,KAAL,CAAW,MAAX,IAAqB,SAAS1H,MAAT,CAAgBC,GAAhB,EAAqB;CACtC;;CAAsB,oBAAUC,MAAV,EAAkB;CACpCX,YAAAA,SAAS,CAACoI,KAAD,EAAQzH,MAAR,CAAT,CADoC;;;CAGpC,qBAASyH,KAAT,CAAexH,KAAf,EAAsB;CAClB,qBAAOD,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkBuE,GAAlB,KAA0B,IAAjC,CADkB;CAGrB;;CACD0H,YAAAA,KAAK,CAACxQ,SAAN,CAAgBwJ,MAAhB,GAAyB,YAAY;CACjC,qBAAOT,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,CAAwBjF,IAAxB,CAA6B,IAA7B,EAAmC,KAAKyE,KAAL,CAAWyH,IAA9C,CAAP;CACH,aAFD;;CAGA,mBAAOD,KAAP;CACH,WAXqB,CAWpB1H,GAAG,CAACM,QAAJ,CAAaM,EAAb,CAAgBC,SAXI;CAAtB;CAYH,OAbD;CAcH;;CACD2G,IAAAA,SAAS,CAACtQ,SAAV,CAAoB4J,KAApB,GAA4B,YAAY;CACpC,WAAK1E,KAAL,GAAa,KAAKA,KAAL,IAAcsG,UAAY,CAAC5B,KAAb,CAAmB,KAAKd,GAAxB,CAA3B;CACA,aAAO,KAAK5D,KAAZ;CACH,KAHD;;CAIAoL,IAAAA,SAAS,CAACtQ,SAAV,CAAoB0Q,WAApB,GAAkC,UAAUC,CAAV,EAAarN,CAAb,EAAgB;CAC9C;;CAAsB,kBAAUyF,MAAV,EAAkB;CACpCX,UAAAA,SAAS,CAACwI,OAAD,EAAU7H,MAAV,CAAT;;CACA,mBAAS6H,OAAT,GAAmB;CACf,gBAAI3H,KAAK,GAAG,IAAZ;;CACA,gBAAIV,CAAC,GAAGU,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkBwC,SAAlB,KAAgC,IAAhD;;CACA,gBAAIzH,CAAC,GAAG,OAAOgE,CAAP,KAAa,UAAb,GAA0BA,CAAC,CAACiB,IAAF,CAAOgE,CAAP,EAAUA,CAAV,CAA1B,GAAyCjF,CAAjD;CACA,gBAAIiF,CAAC,KAAKnH,SAAV,EACI,KAAK,IAAIgB,CAAT,IAAcmG,CAAC,CAACE,SAAhB;CACI,kBAAI,CAACnJ,CAAC,CAAC8C,CAAD,CAAN,EACI9C,CAAC,CAAC8C,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAFR;CAGJ,gBAAI9C,CAAC,CAAC,aAAD,CAAL,EACIA,CAAC,CAACoG,WAAF,CAAcoB,KAAd,CAAoBxH,CAApB,EAAuByH,SAAvB;CACJ,mBAAOzH,CAAP;CACH;;CACD,iBAAOsR,OAAP;CACH,SAfqB,CAepBD,CAfoB;CAAtB;CAgBH,KAjBD;;CAkBAL,IAAAA,SAAS,CAACtQ,SAAV,CAAoB6Q,MAApB,GAA6B,UAAUC,QAAV,EAAoB/F,IAApB,EAA0B;CACnD,UAAIgG,KAAK,GAAGhG,IAAI,CAACzM,KAAL,CAAW,GAAX,CAAZ;CACA,UAAI4Q,GAAG,GAAG,KAAV;CACA,UAAIhE,GAAG,GAAG4F,QAAV;;CACA,WAAK,IAAIE,IAAI,GAAG,CAAhB,EAAmBA,IAAI,GAAGD,KAAK,CAAC/R,MAAhC,EAAwCgS,IAAI,EAA5C;CACI,YAAI9F,GAAG,CAAC6F,KAAK,CAACC,IAAD,CAAN,CAAH,KAAqB5P,SAAzB,EAAoC;CAChC,cAAI4P,IAAI,IAAIjG,IAAI,CAAC/L,MAAL,GAAc,CAA1B,EACIkQ,GAAG,GAAGhE,GAAG,CAAC+F,KAAV;CACJ/F,UAAAA,GAAG,GAAGA,GAAG,CAACH,IAAI,CAACiG,IAAD,CAAL,CAAT;CACH,SAJD,MAMI9F,GAAG,GAAG,IAAN;CAPR;;CAQA,aAAOA,GAAP;CACH,KAbD;;CAcAoF,IAAAA,SAAS,CAACtQ,SAAV,CAAoBkR,eAApB,GAAsC,UAAUhG,GAAV,EAAe;CACjD,UAAIA,GAAG,CAACjJ,IAAR,EACI,OAAOiJ,GAAG,CAACjJ,IAAX;CACJ,UAAIA,IAAI,GAAGiJ,GAAG,CAACU,QAAJ,EAAX;CACA,UAAI3J,IAAI,CAACnD,OAAL,CAAa,GAAb,IAAoB,CAAC,CAAzB,EACImD,IAAI,GAAGA,IAAI,CAACkP,MAAL,CAAY,CAAZ,EAAelP,IAAI,CAACnD,OAAL,CAAa,GAAb,CAAf,CAAP;CACJ,UAAImD,IAAI,CAACnD,OAAL,CAAa,UAAb,IAA2B,CAAC,CAAhC,EACImD,IAAI,GAAGA,IAAI,CAACkP,MAAL,CAAYlP,IAAI,CAACnD,OAAL,CAAa,UAAb,IAA2B,WAAWE,MAAlD,CAAP;CACJ,aAAOiD,IAAI,CAACmP,IAAL,EAAP;CACH,KATD;;CAUAd,IAAAA,SAAS,CAACtQ,SAAV,CAAoBqR,KAApB,GAA4B,UAAUnG,GAAV,EAAeoG,KAAf,EAAsBvG,IAAtB,EAA4BnD,KAA5B,EAAmC;CAC3D,WAAKkB,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,OAAK,CAACJ,QAAN,CAAe0B,KAAvD,EAA8D,iBAA9D,EAAiFtG,GAAjF;CACA,UAAI7B,SAAS,GAAG,IAAhB;CACA,aAAO,IAAIjJ,OAAJ,CAAY,UAAUuM,CAAV,EAAaoB,CAAb,EAAgB;CAC/B,YAAI,CAAC7C,GAAL,EACI,OAAOyB,CAAC,CAACzB,GAAD,CAAR;CACJ,YAAI,QAAOA,GAAP,MAAe,QAAf,IAA2B,CAAChD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAA5B,IAAkDA,GAAG,CAAC,SAAD,CAAzD,EACIA,GAAG,GAAG7B,SAAS,CAACyF,IAAV,CAAe5D,GAAf,CAAN;;CACJ,YAAIhD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EAAwB;CACpB,cAAI,QAAOA,GAAG,CAAC,CAAD,CAAV,MAAkB,QAAlB,IAA8BA,GAAG,CAAC,CAAD,CAAH,CAAO,SAAP,CAAlC,EACIA,GAAG,CAAC,CAAD,CAAH,GAAS7B,SAAS,CAACyF,IAAV,CAAe5D,GAAG,CAAC,CAAD,CAAlB,CAAT;CACJ,cAAI,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,QAAtB,EACIA,GAAG,CAAC,CAAD,CAAH,GAAS7B,SAAS,CAAChJ,OAAV,CAAkB6K,GAAG,CAAC,CAAD,CAArB,CAAT;CACJ,cAAI,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,UAAlB,IAAgC7B,SAAS,CAAC6H,eAAV,CAA0BhG,GAAG,CAAC,CAAD,CAA7B,MAAsC,WAA1E,EACI7B,SAAS,CAACgI,KAAV,CAAgBnG,GAAG,CAAC,CAAD,CAAH,CAAOpE,KAAP,CAAauC,SAAS,CAACP,GAAvB,EAA4BoC,GAAG,CAACzM,KAAJ,CAAU,CAAV,CAA5B,CAAhB,EAA2D6S,KAA3D,EAAkEvG,IAAI,GAAG,OAAzE,EAAkFnD,KAAlF,EAAyFtH,IAAzF,CAA8FqM,CAA9F,EAAiGoB,CAAjG,EADJ,KAGI3N,OAAO,CAACyC,GAAR,CAAYqI,GAAG,CAACpI,GAAJ,CAAQ,UAAUwI,CAAV,EAAahM,CAAb,EAAgB;CAAE,mBAAO+J,SAAS,CAACgI,KAAV,CAAgB/F,CAAhB,EAAmBgG,KAAK,GAAG,CAA3B,EAA8BvG,IAAI,GAAG,GAAP,GAAazL,CAAb,GAAiB,GAA/C,EAAoDA,CAApD,CAAP;CAAgE,WAA1F,CAAZ,EAAyGgB,IAAzG,CAA8G,UAAUwJ,CAAV,EAAa;CAAE,gBAAI;CAC7H6C,cAAAA,CAAC,CAACtD,SAAS,CAACP,GAAV,CAAcM,QAAd,CAAuBM,EAAvB,CAA0BJ,cAA1B,CAAyCQ,CAAzC,EAA4CwH,KAA5C,EAAmD1J,KAAnD,CAAD,CAAD;CACH,aAF4H,CAG7H,OAAOpF,CAAP,EAAU;CACN6G,cAAAA,SAAS,CAACP,GAAV,CAAcM,QAAd,CAAuBmI,MAAvB,CAA8B5C,GAA9B,CAAkCuB,OAAK,CAACJ,QAAN,CAAe/N,KAAjD,EAAwD,sBAAsBS,CAAC,CAACiP,KAAhF,EAAuF,CAAC3H,CAAD,CAAvF;CACAiE,cAAAA,CAAC,CAACvL,CAAD,CAAD;CACH;CAAE,WANH,EAMKuL,CANL;CAOP,SAfD,MAgBK,IAAI,OAAO7C,GAAP,KAAe,UAAf,IAA6B7B,SAAS,CAAC6H,eAAV,CAA0BhG,GAA1B,MAAmC,QAApE,EACD9K,OAAO,CAACC,OAAR,CAAiB6K,GAAD,CAAMkF,MAAM,CAAC/G,SAAS,CAACP,GAAX,CAAZ,CAAhB,EAA8CxI,IAA9C,CAAmD,UAAUwJ,CAAV,EAAa;CAAE,iBAAOT,SAAS,CAACgI,KAAV,CAAgBvH,CAAhB,EAAmBwH,KAAnB,EAA0BvG,IAA1B,EAAgCnD,KAAhC,EAAuCtH,IAAvC,CAA4CqM,CAA5C,EAA+CoB,CAA/C,CAAP;CAA2D,SAA7H,EAA+HA,CAA/H,EADC,KAEA,IAAI,OAAO7C,GAAP,KAAe,UAAf,IAA6B7B,SAAS,CAAC6H,eAAV,CAA0BhG,GAA1B,MAAmC,WAApE,EACD,IAAI;CACAyB,UAAAA,CAAC,CAACtD,SAAS,CAACqH,WAAV,CAAsBlF,UAAY,CAAC5C,aAAb,CAA2BS,SAAS,CAACP,GAArC,CAAtB,EAAiEoC,GAAjE,CAAD,CAAD;CACH,SAFD,CAGA,OAAO1I,CAAP,EAAU;CACN6G,UAAAA,SAAS,CAACP,GAAV,CAAcM,QAAd,CAAuBmI,MAAvB,CAA8B5C,GAA9B,CAAkCuB,OAAK,CAACJ,QAAN,CAAe/N,KAAjD,EAAwD,sBAAsBS,CAAC,CAACiP,KAAhF,EAAuFvG,GAAvF;CACA6C,UAAAA,CAAC,CAACvL,CAAD,CAAD;CACH,SAPA,MAQA,IAAIpC,OAAO,CAACC,OAAR,CAAgB6K,GAAhB,MAAyBA,GAA7B,EAAkC;CACnC9K,UAAAA,OAAO,CAACC,OAAR,CAAgB6K,GAAhB,EAAqB5K,IAArB,CAA0B,UAAUwJ,CAAV,EAAa;CAAE,mBAAOT,SAAS,CAACgI,KAAV,CAAgBvH,CAAhB,EAAmBwH,KAAnB,EAA0BvG,IAA1B,EAAgCnD,KAAhC,EAAuCtH,IAAvC,CAA4C,UAAUoR,EAAV,EAAc;CAAE,qBAAO/E,CAAC,CAAC+E,EAAD,CAAR;CAAe,aAA3E,EAA6E3D,CAA7E,CAAP;CAAyF,WAAlI,EAAoIA,CAApI;CACH,SAFI,MAGA,IAAI7C,GAAJ,EAAS;CACV,cAAI;CACAyB,YAAAA,CAAC,CAACtD,SAAS,CAACP,GAAV,CAAcM,QAAd,CAAuBM,EAAvB,CAA0BJ,cAA1B,CAAyC4B,GAAzC,EAA8CoG,KAA9C,EAAqD1J,KAArD,CAAD,CAAD;CACH,WAFD,CAGA,OAAOpF,CAAP,EAAU;CACN6G,YAAAA,SAAS,CAACP,GAAV,CAAcM,QAAd,CAAuBmI,MAAvB,CAA8B5C,GAA9B,CAAkCuB,OAAK,CAACJ,QAAN,CAAe/N,KAAjD,EAAwD,sBAAsBS,CAAC,CAACiP,KAAhF,EAAuFvG,GAAvF;CACA6C,YAAAA,CAAC,CAACvL,CAAD,CAAD;CACH;CACJ,SARI,MAUDmK,CAAC,CAACzB,GAAD,CAAD;CACP,OA7CM,CAAP;CA8CH,KAjDD;;CAkDAoF,IAAAA,SAAS,CAACtQ,SAAV,CAAoBK,OAApB,GAA8B,UAAUsR,QAAV,EAAoB;CAC9C,UAAI1I,KAAK,GAAG,IAAZ;;CACA,WAAKH,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,OAAK,CAACJ,QAAN,CAAe0B,KAAvD,EAA8D,mBAA9D,EAAmF,CAACG,QAAD,CAAnF;CACA,UAAI,KAAKpB,KAAL,CAAWoB,QAAX,CAAJ,EACI,OAAO,KAAKpB,KAAL,CAAWoB,QAAX,CAAP;;CACJ,UAAIA,QAAQ,CAACC,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,KAA4B,GAAhC,EAAqC;CACjC,YAAIb,KAAK,GAAGY,QAAQ,CAACC,SAAT,CAAmB,CAAnB,EAAsBD,QAAQ,CAAC3S,MAA/B,EAAuCV,KAAvC,CAA6C,GAA7C,CAAZ;CACA,YAAI4M,GAAG,GAAG,KAAKpC,GAAL,CAASM,QAAT,CAAkByI,YAAlB,CAA+BhQ,WAA/B,CAA2CkP,KAAK,CAAC,CAAD,CAAhD,EAAqD,IAArD,CAAV;CACA,YAAIA,KAAK,CAAC/R,MAAN,IAAgB,CAApB,EACI,OAAOkM,GAAP;CACJ,eAAOA,GAAG,CAAC5K,IAAJ,CAAS,UAAUsP,CAAV,EAAa;CAAE,iBAAO3G,KAAK,CAAC4H,MAAN,CAAajB,CAAb,EAAgBmB,KAAK,CAACtS,KAAN,CAAY,CAAZ,EAAesS,KAAK,CAAC/R,MAArB,EAA6BS,IAA7B,CAAkC,GAAlC,CAAhB,CAAP;CAAiE,SAAzF,CAAP;CACH,OAND,MAOK;CACD,YAAIsL,IAAI,GAAG4G,QAAQ,GAAGA,QAAQ,CAACrT,KAAT,CAAe,GAAf,CAAH,GAAyB,CAAC,EAAD,CAA5C;CACA,YAAIwT,KAAK,GAAG,KAAKhJ,GAAL,CAASiJ,UAAT,IAAuBvQ,MAAnC;;CACA,aAAK,IAAIwP,IAAI,GAAG,CAAhB,EAAmBA,IAAI,GAAGjG,IAAI,CAAC/L,MAA/B,EAAuCgS,IAAI,EAA3C,EAA+C;CAC3C,cAAI,OAAOc,KAAP,KAAiB,UAAjB,IAA+B,KAAKZ,eAAL,CAAqBY,KAArB,MAAgC,QAAnE,EACIA,KAAK,GAAGA,KAAK,CAAC1B,MAAM,CAAC,KAAKtH,GAAN,EAAW0C,UAAY,CAAC5C,aAAb,CAA2B,KAAKE,GAAhC,CAAX,CAAP,CAAb;;CACJ,cAAIgJ,KAAK,CAAC/G,IAAI,CAACiG,IAAD,CAAL,CAAL,KAAsB5P,SAA1B,EAAqC;CACjC0Q,YAAAA,KAAK,GAAGA,KAAK,CAAC/G,IAAI,CAACiG,IAAD,CAAL,CAAb;CACA,gBAAI,OAAOc,KAAP,KAAiB,UAAjB,IAA+B,KAAKZ,eAAL,CAAqBY,KAArB,KAA+B,QAAlE,EACIA,KAAK,GAAGA,KAAK,CAAC1B,MAAM,CAAC,KAAKtH,GAAN,EAAW0C,UAAY,CAAC5C,aAAb,CAA2B,KAAKE,GAAhC,CAAX,CAAP,CAAb;CACP,WAJD,MAKK,IAAIiC,IAAI,CAAC/L,MAAL,IAAe,CAAf,IAAoB+L,IAAI,CAAC,CAAD,CAAJ,CAAQ/L,MAAR,GAAiB,CAArC,IAA0C+L,IAAI,CAAC,CAAD,CAAJ,CAAQiH,WAAR,MAAyBjH,IAAI,CAAC,CAAD,CAA3E,EACD+G,KAAK,GAAG/G,IAAI,CAACiG,IAAD,CAAZ,CADC,KAEA;CACD,gBAAIW,QAAQ,KAAK,WAAjB,EACI,OAAO,SAASvL,SAAT,CAAmB8E,GAAnB,EAAwB;CAAE,qBAAO,CAAC,KAAD,EAAQ;CAAE,yBAAS;CAAE,2BAAS;CAAX;CAAX,eAAR,EAAyCA,GAAG,CAAC,CAAD,CAAH,CAAOuG,KAAP,GAAevG,GAAG,CAAC,CAAD,CAAH,CAAOuG,KAAtB,GAA8BvG,GAAG,CAAC,CAAD,CAA1E,CAAP;CAAwF,aAAzH,CADJ,KAEK;CACD,mBAAKpC,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,OAAK,CAACJ,QAAN,CAAe/N,KAAvD,EAA8D,wCAAwC4P,QAAQ,IAAI,WAApD,IAAmE,GAAjI;CACA;;CAAsB,0BAAU5I,MAAV,EAAkB;CACpCX,kBAAAA,SAAS,CAAC6J,OAAD,EAAUlJ,MAAV,CAAT;;CACA,2BAASkJ,OAAT,GAAmB;CACf,2BAAOlJ,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACjC,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAnB,IAAoD,IAA3D;CACH;;CACDkL,kBAAAA,OAAO,CAACjS,SAAR,CAAkBwJ,MAAlB,GAA2B,YAAY;CAAE,2BAAOT,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,GAA0BT,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,CAAwBjF,IAAxB,CAA6B,IAA7B,EAAmC,CAAC,MAAD,EAAS;CAAE,+BAAS;CAAE,iCAAS;CAAX;CAAX,qBAAT,EAA0C,CAACoN,QAAQ,IAAI,WAAb,IAA4B,aAAtE,CAAnC,CAA1B,GAAqJ,CAACA,QAAQ,IAAI,WAAb,IAA4B,aAAxL;CAAwM,mBAAjP;;CACA,yBAAOM,OAAP;CACH,iBAPqB,CAOpB,KAAKnJ,GAAL,CAASM,QAAT,CAAkBM,EAAlB,CAAqBC,SAPD;CAAtB;CAQH;CACJ;CACJ,SA5BA;;;CA8BD,eAAO,KAAK4G,KAAL,CAAWoB,QAAX,IAAuBG,KAA9B;CACH;CACJ,KA5CD;;CA6CAxB,IAAAA,SAAS,CAACtQ,SAAV,CAAoB8O,IAApB,GAA2B,UAAU5D,GAAV,EAAe;CACtC,aAAOA,GAAG,CAAC,SAAD,CAAV;CACH,KAFD;;CAGAoF,IAAAA,SAAS,CAACtQ,SAAV,CAAoBsJ,cAApB,GAAqC,UAAU4B,GAAV,EAAetD,KAAf,EAAsB;CACvD,UAAIqB,KAAK,GAAG,IAAZ;;CACA,UAAI,CAACiC,GAAL,EACI,OAAOA,GAAP;CACJ,UAAI,QAAOA,GAAP,MAAe,QAAf,IAA2B,CAAChD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAA5B,IAAkDA,GAAG,CAAC,SAAD,CAAzD,EACIA,GAAG,GAAG,KAAK4D,IAAL,CAAU5D,GAAV,CAAN;;CACJ,UAAIhD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EAAwB;CACpB,YAAI,QAAOA,GAAG,CAAC,CAAD,CAAV,MAAkB,QAAlB,IAA8BA,GAAG,CAAC,CAAD,CAAH,CAAO,SAAP,CAAlC;CAEIA,UAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,KAAK4D,IAAL,CAAU5D,GAAG,CAAC,CAAD,CAAb,CAAT;;CACJ,YAAI,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,QAAtB,EAAgC;CAC5BA,UAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,KAAK7K,OAAL,CAAa6K,GAAG,CAAC,CAAD,CAAhB,CAAT;CACH;;CACD,YAAI,OAAOA,GAAG,CAAC,CAAD,CAAV,KAAkB,UAAtB,EAAkC;CAC9B,cAAIjJ,IAAI,GAAG,KAAKiP,eAAL,CAAqBhG,GAAG,CAAC,CAAD,CAAxB,CAAX;;CACA,kBAAQjJ,IAAR;CACI,iBAAK,WAAL;CACI,kBAAIiQ,GAAG,GAAGtK,KAAV;CACA,kBAAIsD,GAAG,CAAC,CAAD,CAAH,IAAUA,GAAG,CAAC,CAAD,CAAH,CAAOgH,GAArB,EACIA,GAAG,GAAGhH,GAAG,CAAC,CAAD,CAAH,CAAOgH,GAAb;CACJ,qBAAO,KAAK5I,cAAL,CAAoB4B,GAAG,CAAC,CAAD,CAAH,CAAOpE,KAAP,CAAa,KAAKgC,GAAlB,EAAuBoC,GAAG,CAACzM,KAAJ,CAAU,CAAV,CAAvB,CAApB,EAA0DyT,GAA1D,CAAP;;CACJ,iBAAK,QAAL;CACIhH,cAAAA,GAAG,CAAC,CAAD,CAAH,GAAUA,GAAG,CAAC,CAAD,CAAJ,CAASkF,MAAM,CAAC,KAAKtH,GAAN,CAAf,CAAT;CACA,qBAAO,KAAKQ,cAAL,CAAoB4B,GAApB,CAAP;;CACJ,iBAAK,WAAL;CACIA,cAAAA,GAAG,CAAC,CAAD,CAAH,GAAS,KAAKwF,WAAL,CAAiBlF,UAAY,CAAC5C,aAAb,CAA2B,KAAKE,GAAhC,CAAjB,EAAuDoC,GAAG,CAAC,CAAD,CAA1D,CAAT;CACA,qBAAO,KAAK5B,cAAL,CAAoB4B,GAApB,CAAP;CAXR;CAaH;CACJ;;CACD,UAAIhD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,KAAsBA,GAAG,CAACiH,IAAJ,CAAS,UAAU5I,CAAV,EAAa;CAAE,eAAOnJ,OAAO,CAACC,OAAR,CAAgBkJ,CAAhB,MAAuBA,CAA9B;CAAkC,OAA1D,CAA1B,EACI,OAAO,KAAKT,GAAL,CAASM,QAAT,CAAkBM,EAAlB,CAAqBJ,cAArB,CAAoC,CAAC,KAAKM,KAAL,EAAD,EAAe;CAAE1J,QAAAA,EAAE,EAAEkS,IAAI,CAACC,GAAL;CAAN,OAAf,EAAmCnH,GAAnC,CAApC,EAA6E,CAA7E,EAAgFA,GAAG,IAAIA,GAAG,CAAC,CAAD,CAAV,IAAiBA,GAAG,CAAC,CAAD,CAAH,CAAOgH,GAAP,KAAe9Q,SAAhC,GAA4C8J,GAAG,CAAC,CAAD,CAAH,CAAOgH,GAAnD,GAAyDtK,KAAzI,CAAP,CADJ,KAEK,IAAI,OAAOsD,GAAP,KAAe,QAAf,IAA2B,CAACA,GAAhC,EACD,OAAOA,GAAP;;;;;;CAKJ,UAAI9K,OAAO,CAACC,OAAR,CAAgB6K,GAAhB,MAAyBA,GAA7B,EACIA,GAAG,GAAG,CAAC,KAAKtB,KAAL,EAAD,EAAe;CAAEhC,QAAAA,KAAK,EAAEA;CAAT,OAAf,EAAiCsD,GAAjC,CAAN;CACJ,UAAIhD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EACI,OAAO,KAAKpC,GAAL,CAASM,QAAT,CAAkBM,EAAlB,CAAqBJ,cAArB,CAAoC,CAAC4B,GAAG,CAAC,CAAD,CAAJ,EAASA,GAAG,CAAC,CAAD,CAAZ,EAAiBhD,KAAK,CAACiB,OAAN,CAAc+B,GAAG,CAAC,CAAD,CAAjB,IAAwBA,GAAG,CAAC,CAAD,CAAH,CAAOpI,GAAP,CAAW,UAAUyG,CAAV,EAAa1B,GAAb,EAAkB;CAAE,eAAO,OAAO0B,CAAP,KAAa,QAAb,GAAwBA,CAAxB,GAA4BN,KAAK,CAACK,cAAN,CAAqBC,CAArB,EAAwB1B,GAAxB,CAAnC;CAAkE,OAAjG,CAAxB,GAA6HqD,GAAG,CAAC,CAAD,CAAjJ,CAApC,EAA2L,CAA3L,EAA8LtD,KAA9L,CAAP,CADJ,KAGI,OAAOsD,GAAP;CACP,KA5CD;;CA6CAoF,IAAAA,SAAS,CAACtQ,SAAV,CAAoBsS,OAApB,GAA8B,UAAUpH,GAAV,EAAe;CACzC,UAAIjC,KAAK,GAAG,IAAZ;;CACA,WAAKH,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,OAAK,CAACJ,QAAN,CAAe0B,KAAvD,EAA8D,mBAA9D,EAAmFtG,GAAnF;;CACA,eAASR,KAAT,CAAeQ,GAAf,EAAoB;CAChB,YAAIhD,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EAAwB;CACpB,eAAK,IAAI5L,CAAT,IAAc4L,GAAd;CACI,gBAAIR,KAAK,CAACQ,GAAG,CAAC5L,CAAD,CAAJ,CAAT,EACI,OAAO,IAAP;CAFR;CAGH,SAJD,MAKK,IAAI,QAAO4L,GAAP,MAAe,QAAf,IAA2BA,GAAG,IAAI,IAAtC,EAA4C;CAC7C,cAAId,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;;CACA,eAAK,IAAI5L,CAAT,IAAc8K,IAAd;CACI,gBAAIA,IAAI,CAAC9K,CAAD,CAAJ,CAAQ6R,MAAR,CAAe,CAAf,EAAkB,CAAlB,KAAwB,GAA5B,EACI,OAAO,IAAP,CADJ,KAEK,IAAIzG,KAAK,CAACQ,GAAG,CAACd,IAAI,CAAC9K,CAAD,CAAL,CAAJ,CAAT,EACD,OAAO,IAAP;CAJR;CAKH;;CACD,eAAO,KAAP;CACH;;CACD,aAAO,IAAIc,OAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC1C,YAAI0N,UAAU,GAAG7H,KAAK,CAACQ,GAAD,CAAtB;;CACA,YAAI;CACA,cAAIqH,UAAJ,EAAgB;CACZtJ,YAAAA,KAAK,CAACH,GAAN,CAAUM,QAAV,CAAmByI,YAAnB,CAAgC/C,IAAhC,CAAqC7F,KAAK,CAACH,GAAN,CAAU0J,OAAV,CAAkBC,iBAAvD;;CACAxJ,YAAAA,KAAK,CAACH,GAAN,CAAUM,QAAV,CAAmByI,YAAnB,CAAgC,QAAhC,EAA0C5I,KAAK,CAACH,GAAN,CAAUM,QAAV,CAAmBgG,WAAnB,CAA+BhJ,SAA/B,CAAyCsM,IAAI,CAACC,SAAL,CAAezH,GAAf,CAAzC,EAA8D0H,IAAxG,EAA8GtS,IAA9G,CAAmH,UAAUuS,QAAV,EAAoB;CACnI,kBAAI;CACA5J,gBAAAA,KAAK,CAACoI,KAAN,CAAYwB,QAAQ,CAAC,SAAD,CAAR,IAAuBA,QAAnC,EAA6C,CAA7C,EAAgD,EAAhD,EAAoDvS,IAApD,CAAyDD,OAAzD,EAAkEwE,MAAlE;CACH,eAFD,CAGA,OAAOrC,CAAP,EAAU;CACNqC,gBAAAA,MAAM,CAACrC,CAAD,CAAN;CACH;CACJ,aAPD,EAOG,UAAUsQ,EAAV,EAAc;CAAE,qBAAOjO,MAAM,CAACiO,EAAD,CAAb;CAAoB,aAPvC;CAQH,WAVD,MAYI7J,KAAK,CAACoI,KAAN,CAAYnG,GAAZ,EAAiB,CAAjB,EAAoB,EAApB,EAAwB5K,IAAxB,CAA6BD,OAA7B,EAAsCwE,MAAtC;CACP,SAdD,CAeA,OAAOrC,CAAP,EAAU;CACNqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CACH;CACJ,OApBM,CAAP;CAqBH,KAxCD;;CAyCA,WAAO8N,SAAP;CACH,GA3P8B,EAA/B;;CA4PA9I,EAAAA,iBAAA,GAAoB8I,SAApB;;;;;;ACvSA;CACA,MAAIlI,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaA,MAAIoK,QAAQ,GAAI1K,cAAAA,IAAQA,cAAAA,CAAK0K,QAAd,IAA2B,YAAY;CAClDA,IAAAA,QAAQ,GAAGvR,MAAM,CAACwR,MAAP,IAAiB,UAASpF,CAAT,EAAY;CACpC,WAAK,IAAInD,CAAJ,EAAOnL,CAAC,GAAG,CAAX,EAAc8D,CAAC,GAAG2D,SAAS,CAAC/H,MAAjC,EAAyCM,CAAC,GAAG8D,CAA7C,EAAgD9D,CAAC,EAAjD,EAAqD;CACjDmL,QAAAA,CAAC,GAAG1D,SAAS,CAACzH,CAAD,CAAb;;CACA,aAAK,IAAI8C,CAAT,IAAcqI,CAAd;CAAiB,cAAIjJ,MAAM,CAACxB,SAAP,CAAiB0I,cAAjB,CAAgCnE,IAAhC,CAAqCkG,CAArC,EAAwCrI,CAAxC,CAAJ,EACbwL,CAAC,CAACxL,CAAD,CAAD,GAAOqI,CAAC,CAACrI,CAAD,CAAR;CADJ;CAEH;;CACD,aAAOwL,CAAP;CACH,KAPD;;CAQA,WAAOmF,QAAQ,CAACjM,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;CACH,GAVD;;CAWA,MAAIiJ,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CAGA,MAAI0I,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA,WAAS+B,KAAT,CAAexQ,GAAf,EAAoB;CAChB,QAAIoS,EAAE,GAAG,yBAAyBC,IAAzB,CAA8BrS,GAA9B,CAAT;CACA,QAAIsS,MAAM,GAAG,EAAb;CACA,QAAIvL,KAAK,GAAG,CAAZ;CACA,QAAIqL,EAAJ,EACIA,EAAE,CAAC,CAAD,CAAF,CAAM3U,KAAN,CAAY,GAAZ,EAAiB6F,OAAjB,CAAyB,UAAU/B,CAAV,EAAa;CAClC,UAAIkJ,CAAC,GAAGlJ,CAAC,CAAC9D,KAAF,CAAQ,GAAR,CAAR;CACA6U,MAAAA,MAAM,CAAC7H,CAAC,CAACtM,MAAF,KAAa,CAAb,GAAiBsM,CAAC,CAAC,CAAD,CAAlB,GAAwB1D,KAAK,EAA9B,CAAN,GAA0C0D,CAAC,CAACA,CAAC,CAACtM,MAAF,GAAW,CAAZ,CAA3C;CACH,KAHD;CAIJ,WAAO;CACH+L,MAAAA,IAAI,EAAEkI,EAAE,IAAIA,EAAE,CAAC,CAAD,CAAR,GAAcA,EAAE,CAAC,CAAD,CAAhB,GAAsB;CADzB,KAAP;CAGH;;CACD,WAAS/I,KAAT,CAAeJ,CAAf,EAAkB;CACd,QAAI5B,KAAK,CAACiB,OAAN,CAAcW,CAAd,CAAJ,EACI,OAAOA,CAAC,CAAChH,GAAF,CAAM,UAAUgH,CAAV,EAAa;CAAE,aAAOI,KAAK,CAACJ,CAAD,CAAZ;CAAkB,KAAvC,CAAP,CADJ,KAEK,IAAI,QAAOA,CAAP,MAAa,QAAjB,EAA2B;CAC5B,UAAIK,CAAC,GAAG3I,MAAM,CAACC,MAAP,CAAcqI,CAAd,CAAR;CACAtI,MAAAA,MAAM,CAAC4I,IAAP,CAAYN,CAAZ,EAAe3F,OAAf,CAAuB,UAAUkG,CAAV,EAAa;CAAE,eAAOF,CAAC,CAACE,CAAD,CAAD,GAAOP,CAAC,CAACO,CAAD,CAAf;CAAqB,OAA3D;CACA,aAAOF,CAAP;CACH,KAJI,MAMD,OAAOL,CAAP;CACP;;CACD,MAAIsJ,UAAU,GAAG;CACbC,IAAAA,OAAO,EAAEhC,KAAK,CAAC,QAAOjT,QAAP,yCAAOA,QAAP,OAAoB,QAApB,GAA+BA,QAAQ,CAACC,IAAxC,GAA+C,EAAhD,CADD;CAEbgC,IAAAA,OAAO,EAAE,SAAS+F,SAAT,CAAmBkN,SAAnB,EAA8B;CACnC,UAAIzS,GAAG,GAAG,OAAOzC,QAAP,KAAoB,WAApB,GAAkC,EAAlC,GAAuCA,QAAQ,CAACC,IAA1D;CACA,UAAI,KAAKkV,WAAL,IAAoB/R,MAAM,CAAC4I,IAAP,CAAY,KAAKmJ,WAAjB,EAA8BvU,MAA9B,KAAyC,CAAjE,EACI,OAAO,KAAKyR,IAAZ;;CACJ,WAAK,IAAIlH,CAAT,IAAc,KAAKgK,WAAnB;CACI,YAAI,CAAC,KAAKA,WAAL,CAAiBhK,CAAjB,EAAoB+J,SAApB,GAAgC,KAAKC,WAAL,CAAiBhK,CAAjB,EAAoB+J,SAApD,GAAgE,EAAjE,MAAyEA,SAAS,IAAI,EAAtF,CAAJ,EAA+F;CAC3F,cAAIE,KAAK,GAAG,KAAKD,WAAL,CAAiBhK,CAAjB,EAAoBiK,KAApB,GAA4B,KAAKD,WAAL,CAAiBhK,CAAjB,EAAoBiK,KAApB,CAA0BC,IAA1B,CAA+B5S,GAA/B,CAA5B,GAAkE,IAA9E;CACA,eAAKuI,QAAL,CAAcmI,MAAd,CAAqB5C,GAArB,CAAyBuB,OAAK,CAACJ,QAAN,CAAe0B,KAAxC,EAA+C,aAAa3Q,GAAb,GAAmB,KAAnB,IAA4B2S,KAAK,GAAG,SAAH,GAAe,eAAhD,IAAmE,gBAAnE,GAAsFjK,CAAtF,GAA0F,IAAzI;;CACA,cAAIiK,KAAJ,EAAW;CACP,gBAAIP,EAAE,GAAG,yBAAyBC,IAAzB,CAA8BrS,GAA9B,CAAT;CACA,gBAAIsS,MAAM,GAAG,EAAb;CACA,gBAAIvL,KAAK,GAAG,CAAZ;CACA,gBAAIqL,EAAJ,EACIA,EAAE,CAAC,CAAD,CAAF,CAAM3U,KAAN,CAAY,GAAZ,EAAiB6F,OAAjB,CAAyB,UAAU/B,CAAV,EAAa;CAClC,kBAAIkJ,CAAC,GAAGlJ,CAAC,CAAC9D,KAAF,CAAQ,GAAR,CAAR;CACA6U,cAAAA,MAAM,CAAC7H,CAAC,CAACtM,MAAF,KAAa,CAAb,GAAiBsM,CAAC,CAAC,CAAD,CAAlB,GAAwB1D,KAAK,EAA9B,CAAN,GAA0C0D,CAAC,CAACA,CAAC,CAACtM,MAAF,GAAW,CAAZ,CAA3C;CACH,aAHD;CAIJ,mBAAO,KAAKuU,WAAL,CAAiBhK,CAAjB,EAAoBlJ,OAApB,CAA4BkE,IAA5B,CAAiC,IAAjC,EAAuC4O,MAAvC,CAAP;CACH;CACJ,SAdD,MAgBI,KAAK/J,QAAL,CAAcmI,MAAd,CAAqB5C,GAArB,CAAyBuB,OAAK,CAACJ,QAAN,CAAe0B,KAAxC,EAA+C,gBAAgB8B,SAAS,IAAI,SAA7B,IAA0C,6BAA1C,GAA0E/J,CAA1E,GAA8E,eAA9E,IAAiG,KAAKgK,WAAL,CAAiBhK,CAAjB,EAAoB+J,SAApB,IAAiC,SAAlI,CAA/C;CAjBR;;CAkBA,aAAO,CAAC,OAAD,EAAU,EAAV,EAAc,0CAA0CzS,GAAxD,CAAP;CACH,KAzBY;CA0BbuK,IAAAA,CAAC,EAAE,SAASvC,MAAT,CAAgBC,GAAhB,EAAqB;CACpB;;CAAsB,kBAAUC,MAAV,EAAkB;CACpCX,UAAAA,SAAS,CAACgD,CAAD,EAAIrC,MAAJ,CAAT;;CACA,mBAASqC,CAAT,GAAa;CACT,mBAAOrC,MAAM,KAAK,IAAX,IAAmBA,MAAM,CAACjC,KAAP,CAAa,IAAb,EAAmBC,SAAnB,CAAnB,IAAoD,IAA3D;CACH;;CACDqE,UAAAA,CAAC,CAACpL,SAAF,CAAY0T,KAAZ,GAAoB,UAAUlR,CAAV,EAAa;CAC7BsG,YAAAA,GAAG,CAACM,QAAJ,CAAauK,UAAb,CAAwBN,OAAxB,GAAkChC,KAAK,CAAC,KAAKrI,KAAL,CAAW3K,IAAZ,CAAvC;CACA,gBAAIuV,SAAS,GAAGjO,MAAhB;;CACA,mBAAOiO,SAAS,CAACjO,MAAV,KAAqBiO,SAA5B;CACIA,cAAAA,SAAS,GAAGA,SAAS,CAACjO,MAAtB;CADJ;;CAEA,gBAAIiO,SAAS,CAACC,OAAV,IAAqBD,SAAS,CAACC,OAAV,CAAkBC,SAA3C,EACIF,SAAS,CAACC,OAAV,CAAkBC,SAAlB,CAA4B,IAA5B,EAAkC,EAAlC,EAAsC,KAAK9K,KAAL,CAAW3K,IAAjD,EADJ,KAGIuV,SAAS,CAACxV,QAAV,CAAmBW,OAAnB,CAA2B,KAAKiK,KAAL,CAAW3K,IAAtC;CACJyK,YAAAA,GAAG,CAACM,QAAJ,CAAa2K,MAAb,CAAoB7H,OAApB,CAA4B;CAAED,cAAAA,IAAI,EAAE,qBAAR;CAA+BI,cAAAA,aAAa,EAAE,KAAKrD,KAAL,CAAWsK,SAAzD;CAAoE9I,cAAAA,IAAI,EAAE,KAAKxB,KAAL,CAAW3K;CAArF,aAA5B;CACA,gBAAImE,CAAC,IAAIA,CAAC,CAACwR,WAAP,IAAsBxR,CAAC,CAACwR,WAAF,CAAcC,cAAxC,EACIzR,CAAC,CAACwR,WAAF,CAAcC,cAAd;CACJ,mBAAO,KAAP;CACH,WAbD;;CAcA7I,UAAAA,CAAC,CAACpL,SAAF,CAAYwJ,MAAZ,GAAqB,YAAY;CAC7B,mBAAOV,GAAG,CAACM,QAAJ,CAAaM,EAAb,CAAgBJ,cAAhB,CAA+B,CAAC,GAAD,EAAMyJ,QAAQ,CAAC,EAAD,EAAK,KAAK/J,KAAV,EAAiB;CAAEkL,cAAAA,OAAO,EAAE,KAAKR,KAAL,CAAW7I,IAAX,CAAgB,IAAhB;CAAX,aAAjB,CAAd,EAAoE,KAAK7B,KAAL,CAAWS,QAA/E,CAA/B,EAAyH,CAAzH,EAA4HrI,SAA5H,CAAP;CACH,WAFD;;CAGA,iBAAOgK,CAAP;CACH,SAvBqB,CAuBpBtC,GAAG,CAACM,QAAJ,CAAaM,EAAb,CAAgBC,SAvBI;CAAtB;CAwBH,KAnDY;CAoDbwK,IAAAA,SAAS,EAAE,SAAS/N,SAAT,CAAmBgF,CAAnB,EAAsB7B,CAAtB,EAAyB;CAChC,UAAIT,GAAG,GAAG,IAAV;CACA,aAAO;;CAAgB,gBAAUC,MAAV,EAAkB;CACjCX,QAAAA,SAAS,CAACgM,mBAAD,EAAsBrL,MAAtB,CAAT;;CACA,iBAASqL,mBAAT,CAA6BpL,KAA7B,EAAoC;CAChC,cAAIC,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkByE,KAAlB,KAA4B,IAAxC;;CACAC,UAAAA,KAAK,CAACY,KAAN,GAAc;CAAEuB,YAAAA,CAAC,EAAEpC,KAAK,CAACoC,CAAX;CAAc7B,YAAAA,CAAC,EAAEP,KAAK,CAACO;CAAvB,WAAd;CACAN,UAAAA,KAAK,CAACoL,UAAN,GAAmBpL,KAAK,CAACoL,UAAN,CAAiBxJ,IAAjB,CAAsB5B,KAAtB,CAAnB;CACA,iBAAOA,KAAP;CACH;;CACDmL,QAAAA,mBAAmB,CAACpU,SAApB,CAA8BqU,UAA9B,GAA2C,UAAU9H,KAAV,EAAiB;CACxD,cAAI/J,CAAC,GAAG0H,KAAK,CAAC,KAAKlB,KAAL,CAAWO,CAAZ,CAAb;CACA,cAAIrB,KAAK,CAACiB,OAAN,CAAc3G,CAAd,CAAJ,EACIA,CAAC,CAAC2B,OAAF,CAAU,UAAUoF,CAAV,EAAajK,CAAb,EAAgB;CAAE,gBAAI4I,KAAK,CAACiB,OAAN,CAAcI,CAAd,CAAJ,EACxBA,CAAC,CAAC,CAAD,CAAD,CAAK2I,GAAL,GAAWE,IAAI,CAACC,GAAL,KAAa/S,CAAxB;CAA4B,WADhC;CAEJ,eAAKyK,QAAL,CAAc;CAAER,YAAAA,CAAC,EAAE/G;CAAL,WAAd;CACH,SAND;;CAOA4R,QAAAA,mBAAmB,CAACpU,SAApB,CAA8BsU,kBAA9B,GAAmD,YAAY;CAC3DxL,UAAAA,GAAG,CAACM,QAAJ,CAAa2K,MAAb,CAAoB5I,SAApB,CAA8B;CAAEc,YAAAA,IAAI,EAAE;CAAR,WAA9B,EAA+D,KAAKoI,UAApE;CACH,SAFD;;CAGAD,QAAAA,mBAAmB,CAACpU,SAApB,CAA8BuU,oBAA9B,GAAqD,YAAY;CAC7DzL,UAAAA,GAAG,CAACM,QAAJ,CAAa2K,MAAb,CAAoBzH,WAApB,CAAgC;CAAEL,YAAAA,IAAI,EAAE;CAAR,WAAhC,EAAiE,KAAKoI,UAAtE;CACH,SAFD;;CAGAD,QAAAA,mBAAmB,CAACpU,SAApB,CAA8BwJ,MAA9B,GAAuC,YAAY;CAC/C,iBAAOT,MAAM,CAAC/I,SAAP,CAAiBwJ,MAAjB,CAAwBjF,IAAxB,CAA6B,IAA7B,EAAmC,KAAKsF,KAAL,CAAWN,CAA9C,CAAP;CACH,SAFD;;CAGA,eAAO6K,mBAAP;CACH,OAzBkB,CAyBjB5I,UAAY,CAAC5C,aAAb,CAA2BE,GAA3B,CAzBiB,CAAhB,EAyBkC;CAAEsC,QAAAA,CAAC,EAAEA,CAAL;CAAQ7B,QAAAA,CAAC,EAAEA;CAAX,OAzBlC,CAAP;CA0BH;CAhFY,GAAjB;CAkFA/B,EAAAA,kBAAA,GAAqB4L,UAArB;;;;;;AC9IA;CACA,MAAIL,QAAQ,GAAI1K,cAAAA,IAAQA,cAAAA,CAAK0K,QAAd,IAA2B,YAAY;CAClDA,IAAAA,QAAQ,GAAGvR,MAAM,CAACwR,MAAP,IAAiB,UAASpF,CAAT,EAAY;CACpC,WAAK,IAAInD,CAAJ,EAAOnL,CAAC,GAAG,CAAX,EAAc8D,CAAC,GAAG2D,SAAS,CAAC/H,MAAjC,EAAyCM,CAAC,GAAG8D,CAA7C,EAAgD9D,CAAC,EAAjD,EAAqD;CACjDmL,QAAAA,CAAC,GAAG1D,SAAS,CAACzH,CAAD,CAAb;;CACA,aAAK,IAAI8C,CAAT,IAAcqI,CAAd;CAAiB,cAAIjJ,MAAM,CAACxB,SAAP,CAAiB0I,cAAjB,CAAgCnE,IAAhC,CAAqCkG,CAArC,EAAwCrI,CAAxC,CAAJ,EACbwL,CAAC,CAACxL,CAAD,CAAD,GAAOqI,CAAC,CAACrI,CAAD,CAAR;CADJ;CAEH;;CACD,aAAOwL,CAAP;CACH,KAPD;;CAQA,WAAOmF,QAAQ,CAACjM,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;CACH,GAVD;;CAWA,MAAIiJ,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAI0I,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA,MAAIkF,WAAW;;CAAkB,cAAY;CACzC,aAASA,WAAT,CAAqBC,QAArB,EAA+B;CAC3B,UAAIxL,KAAK,GAAG,IAAZ;;CACA,WAAKyL,aAAL,GAAqB,CAAC,UAAD,EAAa,KAAb,EAAoB,KAApB,EAA2B,MAA3B,EAAmC,MAAnC,EAA2C,MAA3C,CAArB;CACA,WAAKzI,IAAL,GAAY,aAAZ;CACA,WAAKwI,QAAL,GAAgBA,QAAQ,GAAG1B,QAAQ,CAAC,EAAD,EAAK0B,QAAL,EAAe;CAAEE,QAAAA,MAAM,EAAEF,QAAQ,CAACE,MAAT,IAAmB,IAA7B;CAAmCC,QAAAA,OAAO,EAAEH,QAAQ,CAACG,OAAT,IAAoB,KAAhE;CAAuEnN,QAAAA,MAAM,EAAEgN,QAAQ,CAAChN,MAAT,IAAmByI,OAAK,CAACH,YAAN,CAAmB8E,IAArH;CAA2HC,QAAAA,YAAY,EAAEL,QAAQ,CAACK,YAAT,KAA0B1T,SAA1B,GAAsC,IAAtC,GAA6CqT,QAAQ,CAACK;CAA/L,OAAf,CAAX,GAA2O;CAAErN,QAAAA,MAAM,EAAEyI,OAAK,CAACH,YAAN,CAAmBgF;CAA7B,OAAnQ;CACA,WAAKN,QAAL,CAAcO,OAAd,GAAwB,KAAKP,QAAL,CAAcO,OAAd,IAAyB,EAAjD;;CACA,WAAKP,QAAL,CAAcO,OAAd,CAAsB,UAAtB,IAAoC,KAAKP,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACkM,UAAN,CAAiBlM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,SAAD,CAAH,IAAkBA,GAAG,CAAC,UAAD,CAApC,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE+J,aAAhE,EAA+EC,MAA/E,CAAjB,EAAyGD,aAAzG,EAAwHC,MAAxH,CAAP;CAAyI,OAAxP;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,WAAtB,IAAqC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAO,eAAehK,GAAG,CAAC,WAAD,CAAH,GAAmBA,GAAG,CAAC,WAAD,CAAtB,GAAsC,EAArD,IAA2D,GAA3D,IAAkEA,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,KAAjC,EAAwC,IAAxC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAAnB,GAA0F,EAA5J,IAAkK,YAAlK,GAAiLjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,QAAD,CAAlB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,CAAjL,GAAqP,IAA5P;CAAmQ,OAAhV;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,MAAtB,IAAgC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,MAAD,CAAlB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0C+J,aAA1C,EAAyDC,MAAzD,IAAmE,gBAAnE,GAAsFhK,GAAG,CAAC,WAAD,CAAzF,GAAyG,YAAzG,IAAyHuJ,QAAQ,IAAIA,QAAQ,CAACE,MAArB,GAA8B,IAAIzM,KAAJ,CAAUgN,MAAV,EAAkBzV,IAAlB,CAAuB,GAAvB,CAA9B,GAA4D,EAArL,IAA2LwJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,QAAD,CAAlB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,CAA3L,GAA+P,KAAtQ;CAA8Q,OAAtV;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,SAAD,CAAlB,EAA+B,KAA/B,EAAsC,KAAtC,EAA6C+J,aAA7C,EAA4DC,MAA5D,IAAsE,mBAAtE,GAA4FhK,GAAG,CAAC,WAAD,CAA/F,GAA+G,YAA/G,GAA8HjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,KAAvC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAA9H,GAAqM,KAA5M;CAAoN,OAA/R;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,OAAD,CAAlB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,IAAoE,QAApE,IAAgFhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,KAAjC,EAAwC,IAAxC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAAnB,GAA0F,EAA1K,IAAgL,GAAvL;CAA6L,OAAtQ;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,OAAD,CAAlB,EAA6B,IAA7B,EAAmC,KAAnC,EAA0C+J,aAA1C,EAAyDC,MAAzD,IAAmE,GAAnE,IAA0EhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C+J,aAA7C,EAA4DC,MAA5D,CAAnB,GAAyF,EAAnK,IAAyK,GAAhL;CAAsL,OAA/P;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,MAAtB,IAAgC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAO,SAASjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,MAAD,CAAlB,EAA4B,IAA5B,EAAkC,KAAlC,EAAyC+J,aAAzC,EAAwDC,MAAxD,CAAT,GAA2E,GAA3E,IAAkFhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C+J,aAA7C,EAA4DC,MAA5D,CAAnB,GAAyF,EAA3K,IAAiL,GAAxL;CAA8L,OAAtQ;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,KAAtB,IAA+B,KAAKP,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOhK,GAAG,CAAC,OAAD,CAAH,IAAgBA,GAAG,CAAC,KAAD,CAA1B;CAAoC,OAA5I;;CACA,WAAKuJ,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CACrE,YAAIG,IAAI,GAAG,EAAX;CACA,YAAIjL,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;;CACA,aAAK,IAAIgH,GAAT,IAAgB9H,IAAhB;CACIiL,UAAAA,IAAI,CAACjL,IAAI,CAAC8H,GAAD,CAAJ,IAAa,SAAb,GAAyB,MAAzB,GAAkC9H,IAAI,CAAC8H,GAAD,CAAvC,CAAJ,GAAoDhH,GAAG,CAACd,IAAI,CAAC8H,GAAD,CAAL,CAAvD;CADJ;;CAEA,eAAO,KAAKjJ,KAAK,CAACmM,QAAN,CAAe;CAAE,kBAAQ;CAAE,wBAAY;CAAd,WAAV;CAAqD,uBAAa,CAACC,IAAD;CAAlE,SAAf,EAA2F,IAA3F,EAAiG,IAAjG,EAAuGJ,aAAvG,EAAsHC,MAAtH,CAAZ;CACH,OAND;;CAOA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,GAAtB,IAA6B,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOhK,GAAG,CAAC,GAAD,CAAV;CAAkB,OAAvF;CACH;;CACDsJ,IAAAA,WAAW,CAACxU,SAAZ,CAAsBmV,UAAtB,GAAmC,UAAUG,GAAV,EAAeL,aAAf,EAA8BC,MAA9B,EAAsC;CACrE,UAAIzG,CAAC,GAAG6G,GAAG,CAACxW,OAAJ,CAAY,GAAZ,IAAmB,CAAnB,GAAuBwW,GAAG,CAACnE,MAAJ,CAAW,CAAX,EAAcmE,GAAG,CAACxW,OAAJ,CAAY,GAAZ,CAAd,CAAvB,GAAyDwW,GAAjE;;CACA,UAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;CAChB,eAAO,KAAK,KAAKF,QAAL,CAAc;CAAE,uBAAa,IAAf;CAAqBrO,UAAAA,SAAS,EAAE,QAAhC;CAA0C,oBAAU;CAAE,qBAAS,mBAAmB0H,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,GAAe,GAAf,GAAqB,EAAxC,IAA8CA,CAAC,CAAC0C,MAAF,CAAS,CAAT,CAA9C,GAA4D,IAA5D,IAAoEmE,GAAG,CAACtW,MAAJ,GAAayP,CAAC,CAACzP,MAAf,GAAwBsW,GAAG,CAAC1D,SAAJ,CAAcnD,CAAC,CAACzP,MAAhB,EAAwBD,OAAxB,CAAgC,GAAhC,EAAqC,GAArC,CAAxB,GAAoE,EAAxI,IAA8I;CAAzJ;CAApD,SAAd,EAAoO,KAApO,EAA2O,KAA3O,EAAkPkW,aAAlP,EAAiQC,MAAjQ,CAAZ;CACH;;CACD,UAAI,KAAKT,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,OAAuC9B,OAAK,CAACH,YAAN,CAAmBgF,EAAnB,CAAsB/C,WAAtB,EAA3C,EACIvD,CAAC,GAAG6G,GAAG,CAACxW,OAAJ,CAAY,GAAZ,EAAiB2P,CAAC,CAACzP,MAAF,GAAW,CAA5B,IAAiC,CAAC,CAAlC,GAAsCsW,GAAG,CAACnE,MAAJ,CAAW,CAAX,EAAcmE,GAAG,CAACxW,OAAJ,CAAY,GAAZ,EAAiB2P,CAAC,CAACzP,MAAF,GAAW,CAA5B,IAAiC,CAA/C,CAAtC,GAA0FsW,GAA9F;CACJ,UAAIL,aAAa,CAACM,OAAd,CAAsBzW,OAAtB,CAA8B2P,CAA9B,MAAqC,CAAC,CAA1C,EACIwG,aAAa,CAACM,OAAd,CAAsBhW,IAAtB,CAA2BkP,CAA3B;CACJ,aAAO,MAAMwG,aAAa,CAACM,OAAd,CAAsBzW,OAAtB,CAA8B2P,CAA9B,CAAN,IAA0C6G,GAAG,CAACtW,MAAJ,GAAayP,CAAC,CAACzP,MAAf,GAAwBsW,GAAG,CAAC1D,SAAJ,CAAcnD,CAAC,CAACzP,MAAhB,EAAwBD,OAAxB,CAAgC,GAAhC,EAAqC,GAArC,CAAxB,GAAoE,EAA9G,CAAP;CACH,KAVD;;CAWAyV,IAAAA,WAAW,CAACxU,SAAZ,CAAsB0L,MAAtB,GAA+B,UAAU8J,KAAV,EAAiBP,aAAjB,EAAgCN,MAAhC,EAAwC;CACnE,UAAIc,EAAE,GAAG,KAAKhB,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIc,GAAG,GAAG,KAAKjB,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,KAAKH,QAAL,CAAcE,MAAd,IAAwB,IAA/D;CACA,aAAOc,EAAE,GAAG,IAAIvN,KAAJ,CAAUyM,MAAM,GAAG,CAAnB,EAAsBlV,IAAtB,CAA2BiW,GAA3B,CAAL,GAAuCF,KAAK,CAAC/V,IAAN,CAAW,MAAMgW,EAAN,GAAW,IAAIvN,KAAJ,CAAUyM,MAAM,GAAG,CAAnB,EAAsBlV,IAAtB,CAA2BiW,GAA3B,CAAtB,CAAvC,GAAgGD,EAAhG,GAAqG,IAAIvN,KAAJ,CAAUyM,MAAV,EAAkBlV,IAAlB,CAAuBiW,GAAvB,CAA5G;CACH,KAJD;;CAKAlB,IAAAA,WAAW,CAACxU,SAAZ,CAAsBoV,QAAtB,GAAiC,UAAUlK,GAAV,EAAeyK,GAAf,EAAoBC,EAApB,EAAwBX,aAAxB,EAAuCC,MAAvC,EAA+C;CAC5E,UAAIjM,KAAK,GAAG,IAAZ;;CACA,UAAI7J,MAAJ;CACA,UAAI8L,GAAG,KAAK,IAAZ,EACI9L,MAAM,GAAG,MAAT,CADJ,KAEK,IAAI8I,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EACD9L,MAAM,GAAG,CAACwW,EAAE,GAAG,EAAH,GAAQ,GAAX,IAAkB,KAAKlK,MAAL,CAAYR,GAAG,CAACpI,GAAJ,CAAQ,UAAUN,CAAV,EAAalD,CAAb,EAAgB;CAAE,eAAO2J,KAAK,CAACmM,QAAN,CAAe5S,CAAf,EAAkBmT,GAAlB,EAAuB,KAAvB,EAA8BV,aAA9B,EAA6CC,MAAM,GAAG,CAAtD,CAAP;CAAkE,OAA5F,CAAZ,EAA2GD,aAA3G,EAA0HC,MAA1H,CAAlB,IAAuJU,EAAE,GAAG,EAAH,GAAQ,GAAjK,CAAT,CADC,KAEA,IAAI,QAAO1K,GAAP,MAAe,QAAnB,EAA6B;CAC9B,YAAId,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;CACA,YAAI2K,SAAS,GAAG,KAAhB;;CACA,aAAK,IAAIxL,CAAT,IAAcD,IAAd;CACI,cAAI,CAACyL,SAAD,IAAczL,IAAI,CAACC,CAAD,CAAJ,CAAQrL,MAAR,GAAiB,CAA/B,IAAoCoL,IAAI,CAACC,CAAD,CAAJ,CAAQyL,MAAR,CAAe,CAAf,KAAqB,GAA7D,EAAkE;CAC9D,gBAAI,KAAKrB,QAAL,CAAcO,OAAd,IAAyB,KAAKP,QAAL,CAAcO,OAAd,CAAsB5K,IAAI,CAACC,CAAD,CAA1B,CAA7B,EAA6D;CACzDwL,cAAAA,SAAS,GAAG,IAAZ;CACAzW,cAAAA,MAAM,GAAG,KAAKqV,QAAL,CAAcO,OAAd,CAAsB5K,IAAI,CAACC,CAAD,CAA1B,EAA+Ba,GAA/B,EAAoC+J,aAApC,EAAmDC,MAAnD,KAA8D,EAAvE;CACH,aAHD,MAKI,MAAM,IAAInT,KAAJ,CAAU,6BAA6BqI,IAAI,CAACC,CAAD,CAAJ,CAAQ8G,MAAR,CAAe,CAAf,CAAvC,CAAN;CACP;CARL;;CASA,YAAI,CAAC0E,SAAL,EACIzW,MAAM,GAAG,CAACwW,EAAE,GAAG,EAAH,GAAQ,GAAX,IAAkB,KAAKlK,MAAL,CAAYtB,IAAI,CAAC2L,MAAL,CAAY,UAAU1L,CAAV,EAAa;CAAE,iBAAOA,CAAC,CAACrL,MAAF,GAAW,CAAX,IAAgBqL,CAAC,CAAC8G,MAAF,CAAS,CAAT,EAAY,CAAZ,KAAkB,IAAzC;CAAgD,SAA3E,EAA6ErO,GAA7E,CAAiF,UAAUuH,CAAV,EAAa/K,CAAb,EAAgB;CAAE,iBAAO,CAAC2J,KAAK,CAACyL,aAAN,CAAoB5V,OAApB,CAA4BuL,CAA5B,IAAiC,CAAC,CAAlC,IAAuC,aAAaoJ,IAAb,CAAkBpJ,CAAlB,CAAvC,GAA8D,OAAOA,CAAP,GAAW,IAAzE,GAAgFA,CAAjF,IAAsF,GAAtF,IAA6FpB,KAAK,CAACwL,QAAN,CAAeG,OAAf,GAAyB,EAAzB,GAA8B,GAA3H,IAAkI3L,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACb,CAAD,CAAlB,EAAuBsL,GAAvB,EAA4B,KAA5B,EAAmCV,aAAnC,EAAkDC,MAAM,GAAG,CAA3D,CAAzI;CAAyM,SAA5S,CAAZ,EAA2TD,aAA3T,EAA0UC,MAA1U,CAAlB,IAAuWU,EAAE,GAAG,EAAH,GAAQ,GAAjX,CAAT;CACP,OAdI,MAeA,IAAI,OAAO1K,GAAP,KAAe,UAAnB;CACD9L,QAAAA,MAAM,GAAG8L,GAAG,CAACU,QAAJ,EAAT,CADC,KAGDxM,MAAM,GAAG,OAAO8L,GAAP,KAAe,QAAf,IAA2ByK,GAA3B,GAAiCjD,IAAI,CAACC,SAAL,CAAezH,GAAf,CAAjC,GAAuDA,GAAhE;CACJ,aAAO9L,MAAP;CACH,KA3BD;;CA4BAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBgW,cAAtB,GAAuC,UAAU5W,MAAV,EAAkB8L,GAAlB,EAAuB;CAC1D,UAAIjC,KAAK,GAAG,IAAZ;;CACA,UAAImB,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;CACA,UAAI+K,SAAS,GAAG7L,IAAI,CAAC2L,MAAL,CAAY,UAAU1L,CAAV,EAAa;CAAE,eAAOA,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAApB,IAAyBuL,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAA7C,IAAkDuL,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAAtE,IAA2EmK,KAAK,CAACyL,aAAN,CAAoB5V,OAApB,CAA4BuL,CAA5B,MAAmC,CAAC,CAAtH;CAA0H,OAArJ,CAAhB;CACA,UAAI6L,SAAS,GAAG9L,IAAI,CAACpL,MAAL,KAAgB,CAAhB,IAAqBoL,IAAI,CAAC,CAAD,CAAJ,KAAY,SAAjD;CACA,UAAI+L,EAAE,GAAG,KAAK1B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIwB,EAAE,GAAG,KAAK3B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,GAAtC;CACA,UAAIyB,EAAE,GAAG,KAAK5B,QAAL,CAAc6B,WAAd,GAA4B,OAA5B,GAAsC,KAA/C;;CACA,cAAQ,KAAK7B,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,EAAR;CACI,aAAK,KAAL;CACA,aAAK,UAAL;CACA,aAAK,KAAL;;CAEI5S,UAAAA,MAAM,CAACwT,IAAP,IAAexI,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAO,qBAAqBA,GAArB,GAA2B,IAA3B,GAAkCkE,EAAlC,GAAuC,GAAvC,GAA6CA,EAA7C,GAAkDnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAlD,GAAqG,GAA5G;CAAkH,WAA5I,EAA8IK,IAA9I,CAAmJ0W,EAAnJ,CAAf;CACA,cAAI,CAACD,SAAL,EACI9W,MAAM,CAACwT,IAAP,IAAeuD,EAAE,GAAG,2BAAL,GAAmCC,EAAnC,GAAwC,GAAxC,GAA8CA,EAA9C,GAAmD,GAAnD,GAAyDA,EAAzD,GAA8DhM,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAOA,GAAG,GAAG,IAAN,GAAajJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAApB;CAAuE,WAAjG,EAAmGK,IAAnG,CAAwG0W,EAAxG,CAA9D,GAA4K,KAA3L;CACJ;;CACJ,aAAK,IAAL;CACI,cAAID,SAAJ,EACI9W,MAAM,CAACwT,IAAP,IAAe,mBAAmBwD,EAAnB,GAAwB,KAAKhB,QAAL,CAAclK,GAAG,CAAC,SAAD,CAAjB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C9L,MAA3C,EAAmD,CAAnD,CAAxB,GAAgF,GAA/F,CADJ,KAEK;CACDA,YAAAA,MAAM,CAACwT,IAAP,IAAe,mBAAmBwD,EAAnB,GAAwB,GAAxB,GAA8B,KAAK1K,MAAL,CAAYtB,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,qBAAO+D,SAAS,CAACnX,OAAV,CAAkBoT,GAAlB,MAA2B,CAAC,CAA5B,GAAgC,OAAOA,GAAP,GAAa,MAAb,GAAsBjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,GAAyG8S,GAAG,GAAG,GAAN,GAAYkE,EAAZ,IAAkBnN,KAAK,CAACwL,QAAN,CAAeK,YAAf,GAA8B5C,GAA9B,GAAoCjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,CAAhH;CAA0N,aAApP,CAAZ,EAAmQA,MAAnQ,EAA2Q,CAA3Q,CAA9B,GAA8S,IAA7T;CACA,gBAAI,KAAKqV,QAAL,CAAcK,YAAd,IAA8BmB,SAAS,CAACjX,MAAV,GAAmB,CAArD,EACII,MAAM,CAACwT,IAAP,GAAcqD,SAAS,CAACnT,GAAV,CAAc,UAAUoP,GAAV,EAAe;CAAE,qBAAO,YAAYmE,EAAZ,GAAiB,GAAjB,GAAuBnE,GAAvB,GAA6BkE,EAA7B,GAAkC,GAAlC,GAAwCA,EAAxC,GAA6CnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAA7C,GAAgG,GAAvG;CAA6G,aAA5I,EAA8IK,IAA9I,CAAmJ0W,EAAnJ,KAA0J,MAAMA,EAAE,GAAG/W,MAAM,CAACwT,IAAZ,GAAmBuD,EAAzB,CAA1J,CAAd;CACP;CACD;;CACJ;CACI/W,UAAAA,MAAM,CAACwT,IAAP,IAAe,aAAasD,SAAS,GAAG,KAAKd,QAAL,CAAclK,GAAG,CAAC,SAAD,CAAjB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C9L,MAA3C,EAAmD,CAAnD,CAAH,GAA2D,MAAM,KAAKsM,MAAL,CAAYtB,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAO+D,SAAS,CAACnX,OAAV,CAAkBoT,GAAlB,MAA2B,CAAC,CAA5B,GAAgC,OAAOA,GAAP,GAAa,MAAb,GAAsBjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,GAAyG8S,GAAG,GAAG,GAAN,GAAYkE,EAAZ,GAAiBnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAjI;CAAoL,WAA9M,CAAZ,EAA6NA,MAA7N,EAAqO,CAArO,CAAN,GAAgP,GAAjU,IAAwU,GAAvV;CAnBR;CAqBH,KA7BD;;CA8BAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBuW,cAAtB,GAAuC,UAAUnX,MAAV,EAAkB6C,IAAlB,EAAwB;CAC3D,UAAIkU,EAAE,GAAG,KAAK1B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIwB,EAAE,GAAG,KAAK3B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,GAAtC;CACA,UAAIyB,EAAE,GAAG,KAAK5B,QAAL,CAAc6B,WAAd,GAA4B,OAA5B,GAAsC,KAA/C;CACA,UAAI7L,CAAC,GAAG,EAAR;CACA,UAAIkC,CAAC,GAAG,EAAR;CACA,UAAI6J,EAAE,GAAG,EAAT;CACA,UAAIC,EAAE,GAAG,EAAT;CACA,UAAIrX,MAAM,CAACmW,OAAP,CAAevW,MAAf,GAAwB,CAA5B,EACI,KAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAACmW,OAAP,CAAevW,MAAnC,EAA2CM,CAAC,EAA5C,EAAgD;CAC5C,YAAIoX,GAAG,GAAGtX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB,CAAlB,MAAyB,GAAnC;;CACA,YAAIF,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkBR,OAAlB,CAA0B,GAA1B,IAAiC,CAAC,CAAtC,EAAyC;CACrC,cAAI6X,WAAW,GAAGvX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB6R,MAAlB,CAAyB,CAAzB,EAA4B/R,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkBR,OAAlB,CAA0B,GAA1B,CAA5B,CAAlB;CACA,cAAI,CAAC4X,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,MAAgCvV,SAApC,EACI,CAACsV,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,IAA8B,EAA9B;CACJ,WAACD,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,EAA4BvX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB6R,MAAlB,CAAyBwF,WAAW,CAAC3X,MAAZ,GAAqB,CAA9C,CAA5B,IAAgFM,CAAhF;CACH,SALD,MAOI,CAACoX,GAAG,GAAGD,EAAH,GAAQ9J,CAAZ,EAAevN,MAAM,CAACmW,OAAP,CAAejW,CAAf,CAAf,IAAoCA,CAApC;CACP;;CACL,cAAQ,KAAKmV,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,EAAR;CACI,aAAK,KAAL;CACA,aAAK,UAAL;CACA,aAAK,KAAL;CACI,eAAK,IAAI4E,GAAT,IAAgBjK,CAAhB;CACIvN,YAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAY1J,CAAC,CAACiK,GAAD,CAAb,GAAqBR,EAArB,GAA0B,GAA1B,GAAgCA,EAAhC,GAAqC,YAArC,GAAoDQ,GAApD,GAA0D,MAA1D,GAAmET,EAAnE,GAAwE/W,MAAM,CAACwT,IAA7F;CADJ;;CAEA;;CACJ,aAAK,KAAL;CACIxT,UAAAA,MAAM,CAACwT,IAAP,GAAc,aAAapR,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe3N,MAAf,GAAwB,CAAxB,GAA4B,MAAMwC,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,MAAMA,GAAN,GAAY,GAAnB;CAAyB,WAA7D,EAA+DzS,IAA/D,CAAoE,IAApE,CAAN,GAAkF,KAA9G,GAAsH,EAAnI,IAAyI,YAAzI,GAAwJ+B,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,MAAMvF,CAAC,CAACuF,GAAD,CAAd;CAAsB,WAA1D,EAA4DzS,IAA5D,CAAiE,IAAjE,CAAxJ,GAAiO,MAAjO,GAA0OL,MAAM,CAACwT,IAAjP,GAAwP,MAAxP,GAAiQuD,EAA/Q;CACA;;CACJ,aAAK,IAAL;CACI/W,UAAAA,MAAM,CAACwT,IAAP,GAAcpR,MAAM,CAAC4I,IAAP,CAAYK,CAAZ,EAAe3H,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,aAAa1Q,MAAM,CAAC4I,IAAP,CAAYK,CAAC,CAACyH,GAAD,CAAb,EAAoBpP,GAApB,CAAwB,UAAUuH,CAAV,EAAa;CAAE,qBAAOA,CAAC,GAAG,OAAJ,GAAcI,CAAC,CAACyH,GAAD,CAAD,CAAO7H,CAAP,CAArB;CAAiC,aAAxE,EAA0E5K,IAA1E,CAA+E,MAAM2W,EAArF,CAAb,GAAwG,UAAxG,GAAqHlE,GAArH,GAA2H,IAA3H,GAAkIiE,EAAzI;CAA8I,WAAlL,EAAoL1W,IAApL,CAAyL,EAAzL,IAA+L+B,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,kBAAkBvF,CAAC,CAACuF,GAAD,CAAnB,GAA2B,SAA3B,GAAuCA,GAAG,CAACf,MAAJ,CAAWe,GAAG,CAAC,CAAD,CAAH,IAAU,GAAV,GAAgB,CAAhB,GAAoB,CAA/B,CAAvC,GAA2E,IAA3E,GAAkFiE,EAAzF;CAA8F,WAAlI,EAAoI1W,IAApI,CAAyI,EAAzI,CAA/L,GAA8UL,MAAM,CAACwT,IAAnW;CACA;;CACJ;CACI,eAAK,IAAIgE,GAAT,IAAgBjK,CAAhB;CACIvN,YAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAY1J,CAAC,CAACiK,GAAD,CAAb,GAAqBR,EAArB,GAA0B,GAA1B,GAAgCA,EAAhC,GAAqC,YAArC,GAAoDQ,GAApD,GAA0D,MAA1D,GAAmET,EAAnE,GAAwE/W,MAAM,CAACwT,IAA7F;CADJ;;CAdR;;CAiBA,UAAIpR,MAAM,CAAC4I,IAAP,CAAYoM,EAAZ,EAAgBxX,MAAhB,GAAyB,CAAzB,IAA8BwC,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgBzX,MAAhB,GAAyB,CAA3D,EAA8D;;;;CAI1D,gBAAQ,KAAKyV,QAAL,CAAcoC,aAAd,GAA8B,KAAKpC,QAAL,CAAcoC,aAAd,CAA4B7E,WAA5B,EAA9B,GAA0E,MAAlF;CACI,eAAK,KAAL;CACA,eAAK,UAAL;CACA,eAAK,KAAL;;CAEI,iBAAK,IAAI4E,GAAT,IAAgBH,EAAhB;CACIrX,cAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAYI,EAAE,CAACG,GAAD,CAAd,GAAsBR,EAAtB,GAA2B,GAA3B,GAAiCA,EAAjC,GAAsC,YAAtC,GAAqDQ,GAArD,GAA2D,MAA3D,GAAoET,EAApE,GAAyE/W,MAAM,CAACwT,IAA9F;CADJ;;CAEA;;CACJ,eAAK,KAAL;CACIxT,YAAAA,MAAM,CAACwT,IAAP,GAAc,aAAapR,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgBzX,MAAhB,GAAyB,CAAzB,GAA6B,MAAMwC,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,MAAMA,GAAN,GAAY,GAAnB;CAAyB,aAA7D,EAA+DzS,IAA/D,CAAoE,IAApE,CAAN,GAAkF,KAA/G,GAAuH,EAApI,IAA0I,YAA1I,GAAyJ+B,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgB3T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,MAAMuE,EAAE,CAACvE,GAAD,CAAf;CAAuB,aAA5D,EAA8DzS,IAA9D,CAAmE,IAAnE,CAAzJ,GAAoO,MAApO,GAA6OL,MAAM,CAACwT,IAApP,GAA2P,MAA3P,GAAoQuD,EAAlR;CACA;;CACJ,eAAK,IAAL;CACI/W,YAAAA,MAAM,CAACwT,IAAP,GAAcpR,MAAM,CAAC4I,IAAP,CAAYoM,EAAZ,EAAgB1T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,aAAa1Q,MAAM,CAAC4I,IAAP,CAAYoM,EAAE,CAACtE,GAAD,CAAd,EAAqBpP,GAArB,CAAyB,UAAUuH,CAAV,EAAa;CAAE,uBAAOA,CAAC,CAAC8G,MAAF,CAAS,CAAT,IAAc,OAAd,GAAwB1G,CAAC,CAACyH,GAAD,CAAD,CAAO7H,CAAP,CAA/B;CAA2C,eAAnF,EAAqF5K,IAArF,CAA0F,MAAM2W,EAAhG,CAAb,GAAmH,UAAnH,GAAgIlE,GAAG,CAACf,MAAJ,CAAW,CAAX,CAAhI,GAAgJ,IAAhJ,GAAuJgF,EAA9J;CAAmK,aAAxM,EAA0M1W,IAA1M,CAA+M,EAA/M,IAAqN+B,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgB3T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,kBAAkBuE,EAAE,CAACvE,GAAD,CAApB,GAA4B,SAA5B,GAAwCA,GAAG,CAACf,MAAJ,CAAW,CAAX,CAAxC,GAAwD,IAAxD,GAA+DgF,EAAtE;CAA2E,aAAhH,EAAkH1W,IAAlH,CAAuH,EAAvH,CAArN,GAAkVL,MAAM,CAACwT,IAAvW;CACA;;CACJ;CACI,iBAAK,IAAIgE,GAAT,IAAgBH,EAAhB;CACIrX,cAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAYI,EAAE,CAACG,GAAD,CAAd,GAAsBR,EAAtB,GAA2B,GAA3B,GAAiCA,EAAjC,GAAsC,YAAtC,GAAqDQ,GAArD,GAA2D,MAA3D,GAAoET,EAApE,GAAyE/W,MAAM,CAACwT,IAA9F;CADJ;;CAfR;CAkBH;CACJ,KA5DD;;CA6DA4B,IAAAA,WAAW,CAACxU,SAAZ,CAAsB8W,YAAtB,GAAqC,UAAU5L,GAAV,EAAejJ,IAAf,EAAqB;CACtD,UAAI7C,MAAM,GAAG;CAAE6C,QAAAA,IAAI,EAAEA,IAAR;CAAcsT,QAAAA,OAAO,EAAE,EAAvB;CAA2B/N,QAAAA,OAAO,EAAE,EAApC;CAAwCuP,QAAAA,eAAe,EAAE,KAAzD;CAAgEnE,QAAAA,IAAI,EAAE;CAAtE,OAAb;CACA,WAAKoD,cAAL,CAAoB5W,MAApB,EAA4B8L,GAA5B;CACA,WAAKqL,cAAL,CAAoBnX,MAApB,EAA4B6C,IAAI,IAAI,EAApC;CACA,aAAO7C,MAAP;CACH,KALD;;CAMAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBoG,SAAtB,GAAkC,UAAU+I,KAAV,EAAiBlN,IAAjB,EAAuB;CACrD,UAAIiJ,GAAJ;;CACA,UAAI;CACAA,QAAAA,GAAG,GAAG,OAAOiE,KAAP,KAAiB,QAAjB,GAA4BuD,IAAI,CAACrB,KAAL,CAAWlC,KAAX,CAA5B,GAAgDA,KAAtD;CACH,OAFD,CAGA,OAAO3M,CAAP,EAAU;;CAEN,YAAI,KAAKiS,QAAL,CAAcuC,4BAAd,IAA8C,KAAKvC,QAAL,CAAcuC,4BAAd,KAA+C5V,SAAjG,EAA4G;CACxG,cAAI;CACA8J,YAAAA,GAAG,GAAGF,QAAQ,CAAC,aAAamE,KAAb,GAAqB,IAAtB,CAAR,EAAN;CACA,gBAAI,KAAKsF,QAAL,CAAcuC,4BAAd,KAA+C5V,SAAnD,EACIsN,OAAO,CAACuI,IAAR,CAAa,eAAehV,IAAI,IAAI,EAAvB,IAA6B,0BAA7B,GAA0DO,CAAC,CAAC0U,OAA5D,GAAsE,kFAAtE,GAA2J/H,KAAxK;CACP,WAJD,CAKA,OAAOpB,CAAP,EAAU;CACN,kBAAM,IAAIhM,KAAJ,CAAU,wBAAwBE,IAAI,IAAI,EAAhC,IAAsC,kBAAtC,GAA2D8L,CAAC,CAACmJ,OAAvE,CAAN;CACH;CACJ,SATD,MAWI,MAAM,IAAInV,KAAJ,CAAU,gCAAgCE,IAAI,IAAI,EAAxC,IAA8C,IAA9C,GAAqDO,CAAC,CAAC0U,OAAjE,CAAN;CACP;;CACD,UAAI;CACA,eAAO,KAAKJ,YAAL,CAAkB5O,KAAK,CAACiB,OAAN,CAAc+B,GAAd,KAAsB,QAAQA,GAAG,IAAI,EAAf,MAAuB,QAA7C,IAAyD1J,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,EAAiB6K,MAAjB,CAAwB,UAAU1L,CAAV,EAAa;CAAE,iBAAOA,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAf;CAAqB,SAA5D,EAA8DrL,MAA9D,GAAuE,CAAhI,GAAoI;CAAE,qBAAWkM;CAAb,SAApI,GAAyJA,GAA3K,EAAgLjJ,IAAhL,CAAP;CACH,OAFD,CAGA,OAAOO,CAAP,EAAU;CACN,cAAM,IAAIT,KAAJ,CAAU,sCAAsCS,CAAC,CAAC0U,OAAxC,GAAkD,MAAlD,GAA2D1U,CAAC,CAACiP,KAAvE,CAAN;CACH;CACJ,KA1BD;;CA2BA,WAAO+C,WAAP;CACH,GAjMgC,EAAjC;;CAkMAhN,EAAAA,mBAAA,GAAsBgN,WAAtB;;;;;;ACvNA;CACAhN,EAAAA,kBAAA,GAAqB,IAArB;CAEAA,EAAAA,YAAA,GAAe2P,MAAM,CAAC1L,IAAtB;CAEAjE,EAAAA,cAAA,GAAiB4P,QAAQ,CAACvL,MAA1B;CAEArE,EAAAA,cAAA,GAAiB6P,QAAQ,CAACzI,MAA1B;CAEApH,EAAAA,iBAAA,GAAoB8P,WAAW,CAAChH,SAAhC;CAEA9I,EAAAA,kBAAA,GAAqB+P,YAAY,CAACnE,UAAlC;CAEA5L,EAAAA,mBAAA,GAAsBgQ,aAAa,CAAChD,WAApC;;;;;;;;;;;ACbA;CACA,MAAIxE,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CAEA,MAAI0I,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA,MAAImI,GAAG;;CAAkB,cAAY;CACjC,aAASA,GAAT,CAAa3O,GAAb,EAAkB;CACd,UAAIG,KAAK,GAAG,IAAZ;;CACA,UAAI;CACAzH,QAAAA,MAAM,CAAC4I,IAAP,CAAYtB,GAAZ,EAAiB3E,OAAjB,CAAyB,UAAUkG,CAAV,EAAa;CAAE,cAAI/G,CAAC,GAAG9B,MAAM,CAACyN,wBAAP,CAAgCnG,GAAhC,EAAqCuB,CAArC,CAAR;CAAiD,cAAI/G,CAAJ,EACrF9B,MAAM,CAACE,cAAP,CAAsBuH,KAAtB,EAA6BoB,CAA7B,EAAgC/G,CAAhC;CAAqC,SADzC;CAEA,aAAKmN,IAAL,GAAY3H,GAAG,CAAC2H,IAAhB;CACA,aAAK+B,OAAL,GAAe1J,GAAG,CAAC0J,OAAnB;CACA,aAAKkF,IAAL,GAAY5O,GAAG,CAAC4O,IAAhB;CACA,aAAKlF,OAAL,CAAamF,QAAb,GAAwB,KAAKnF,OAAL,CAAamF,QAAb,IAAyBzH,OAAK,CAACJ,QAAN,CAAe/N,KAAhE;CACA,YAAI6V,QAAQ,GAAG9O,GAAG,CAACM,QAAJ,IAAgBN,GAAG,CAACM,QAAJ,CAAamI,MAA7B,GAAuC,QAAOzI,GAAG,CAACM,QAAJ,CAAamI,MAApB,MAA+B,QAA/B,GAA0CzI,GAAG,CAACM,QAAJ,CAAamI,MAAvD,GAAgE,IAAIzI,GAAG,CAACM,QAAJ,CAAamI,MAAjB,CAAwB,IAAxB,CAAvG,GAAwI,IAAvJ;CACA,YAAI9G,CAAC,GAAG3B,GAAG,CAACM,QAAZ,CARA;;CASA,YAAI,CAACqB,CAAC,CAACf,EAAP,EACI,MAAM,IAAI3H,KAAJ,CAAU,aAAV,CAAN;CACJ0I,QAAAA,CAAC,CAAC8G,MAAF,GAAW;CAAE5C,UAAAA,GAAG,EAAE,aAAUgJ,QAAV,EAAoBE,KAApB,EAA2BC,kBAA3B,EAA+C;CACzD,gBAAIH,QAAQ,KAAK1O,KAAK,IAAIA,KAAK,CAACuJ,OAAf,IAA0BvJ,KAAK,CAACuJ,OAAN,CAAcmF,QAAxC,GAAoDzH,OAAK,CAACJ,QAAN,CAAe7G,KAAK,CAACuJ,OAAN,CAAcmF,QAA7B,KAA0C,CAA9F,GAAmG,CAAxG,CAAZ,EACIC,QAAQ,GAAGA,QAAQ,CAACjJ,GAAT,CAAa9D,IAAb,CAAkB5B,KAAlB,EAAyB0O,QAAzB,EAAmCE,KAAnC,EAA0CC,kBAA1C,CAAH,GAAmE,CAAC,UAAUD,KAAV,EAAiBC,kBAAjB,EAAqC,EAAtC,EAA2CpJ,OAAO,CAAC/J,KAAnD,EAA0D+J,OAAO,CAAC/J,KAAlE,EAAyE+J,OAAO,CAACuI,IAAjF,EAAuFvI,OAAO,CAACgJ,IAA/F,EAAqGhJ,OAAO,CAACgJ,IAA7G,EAAmHC,QAAnH,EAA6HE,KAAK,GAAG,MAArI,EAA6IC,kBAAkB,IAAI,CAAC7O,KAAD,CAAnK,CAA3E;CACP;CAHM,SAAX;CAIAwB,QAAAA,CAAC,CAAC2E,WAAF,GAAgB3E,CAAC,CAAC2E,WAAF,GAAiB,QAAO3E,CAAC,CAAC2E,WAAT,MAAyB,QAAzB,GAAoC3E,CAAC,CAAC2E,WAAtC,GAAoD,IAAI3E,CAAC,CAAC2E,WAAN,CAAkB,IAAlB,CAArE,GAAgG,IAAI2I,QAAU,CAACvD,WAAf,CAA2B;CAAE/M,UAAAA,MAAM,EAAEyI,OAAK,CAACH,YAAN,CAAmBiI;CAA7B,SAA3B,CAAhH;CACAvN,QAAAA,CAAC,CAACoH,YAAF,GAAiBpH,CAAC,CAACoH,YAAF,GAAkB,QAAOpH,CAAC,CAACoH,YAAT,MAA0B,QAA1B,GAAqCpH,CAAC,CAACoH,YAAvC,GAAsD,IAAIpH,CAAC,CAACoH,YAAN,CAAmB,IAAnB,CAAxE,GAAoG,IAAIkG,QAAU,CAACnJ,MAAf,CAAsB,IAAtB,CAArH;CACAnE,QAAAA,CAAC,CAACkJ,UAAF,GAAelJ,CAAC,CAACkJ,UAAF,GAAgB,QAAOlJ,CAAC,CAACkJ,UAAT,MAAwB,QAAxB,GAAmClJ,CAAC,CAACkJ,UAArC,GAAkD,IAAIlJ,CAAC,CAACkJ,UAAN,CAAiB,IAAjB,CAAlE,GAA4FoE,QAAU,CAAC3E,UAAtH;CACA3I,QAAAA,CAAC,CAACD,IAAF,GAASC,CAAC,CAACD,IAAF,GAAU,QAAOC,CAAC,CAACD,IAAT,MAAkB,QAAlB,GAA6BC,CAAC,CAACD,IAA/B,GAAsC,IAAIC,CAAC,CAACD,IAAN,CAAW,IAAX,CAAhD,GAAoEuN,QAAU,CAACtM,IAAxF;CACAhB,QAAAA,CAAC,CAACf,EAAF,GAAO,QAAOe,CAAC,CAACf,EAAT,MAAgB,QAAhB,GAA2Be,CAAC,CAACf,EAA7B,GAAkC,IAAIe,CAAC,CAACf,EAAN,CAAS,IAAT,CAAzC;CACAe,QAAAA,CAAC,CAACsJ,MAAF,GAAWtJ,CAAC,CAACsJ,MAAF,GAAY,QAAOtJ,CAAC,CAACsJ,MAAT,MAAoB,QAApB,GAA+BtJ,CAAC,CAACsJ,MAAjC,GAA0C,IAAItJ,CAAC,CAACsJ,MAAN,CAAa,IAAb,CAAtD,GAA4E,IAAIgE,QAAU,CAAClM,MAAf,CAAsB,IAAtB,CAAvF;CACA,aAAKzC,QAAL,GAAgB;CAAEyI,UAAAA,YAAY,EAAEpH,CAAC,CAACoH,YAAlB;CAAgCxI,UAAAA,SAAS,EAAE,IAAI0O,QAAU,CAACzH,SAAf,CAAyB,IAAzB,CAA3C;CAA2ElB,UAAAA,WAAW,EAAE3E,CAAC,CAAC2E,WAA1F;CAAuGmC,UAAAA,MAAM,EAAE9G,CAAC,CAAC8G,MAAjH;CAAyH7H,UAAAA,EAAE,EAAEe,CAAC,CAACf,EAA/H;CAAmIiK,UAAAA,UAAU,EAAElJ,CAAC,CAACkJ,UAAjJ;CAA6JI,UAAAA,MAAM,EAAEtJ,CAAC,CAACsJ;;;CAAvK,SAAhB;CACA,aAAKR,WAAL,GAAmB,EAAnB;CACA,YAAIzK,GAAG,CAACyK,WAAR,EACI,KAAK,IAAIhK,CAAT,IAAcT,GAAG,CAACyK,WAAlB,EAA+B;CAC3B,cAAI0E,EAAE,GAAGnP,GAAG,CAACyK,WAAJ,CAAgBhK,CAAhB,CAAT;CACA,eAAKgK,WAAL,CAAiBhK,CAAjB,IAAsB,QAAO0O,EAAP,MAAc,QAAd,GAAyBA,EAAzB,GAA8B,IAAKA,EAAL,CAAS,IAAT,CAApD;CACH;CACL,aAAKlG,UAAL,GAAkBjJ,GAAG,CAACiJ,UAAtB;CACA,YAAI,QAAO,KAAKA,UAAZ,MAA2B,QAA3B,IAAuC,CAAC,KAAKA,UAAL,CAAgB,YAAhB,CAA5C,EACI,KAAKA,UAAL,CAAgB,YAAhB,IAAgCgG,QAAU,CAAC3E,UAA3C;CACJ,YAAI,QAAO,KAAKrB,UAAZ,MAA2B,QAA3B,IAAuC,CAAC,KAAKA,UAAL,CAAgB,MAAhB,CAA5C,EACI,KAAKA,UAAL,CAAgB,MAAhB,IAA0BgG,QAAU,CAACtM,IAArC;CACP,OAjCD,CAkCA,OAAOyM,EAAP,EAAW;CACPxJ,QAAAA,OAAO,CAAC/J,KAAR,CAAcuT,EAAd;CACA,cAAMA,EAAN;CACH;CACJ;;CACDT,IAAAA,GAAG,CAACzX,SAAJ,CAAcmY,OAAd,GAAwB,YAAY;;CAEhC,WAAK/O,QAAL,CAAcyI,YAAd,CAA2B/C,IAA3B,CAAgC,KAAK0D,OAAL,CAAaC,iBAA7C;CACH,KAHD;;CAIA,WAAOgF,GAAP;CACH,GA/CwB,EAAzB;;CAgDAjQ,EAAAA,WAAA,GAAciQ,GAAd;;;;;;AC3DA;CACA,MAAI1E,QAAQ,GAAI1K,cAAAA,IAAQA,cAAAA,CAAK0K,QAAd,IAA2B,YAAY;CAClDA,IAAAA,QAAQ,GAAGvR,MAAM,CAACwR,MAAP,IAAiB,UAASpF,CAAT,EAAY;CACpC,WAAK,IAAInD,CAAJ,EAAOnL,CAAC,GAAG,CAAX,EAAc8D,CAAC,GAAG2D,SAAS,CAAC/H,MAAjC,EAAyCM,CAAC,GAAG8D,CAA7C,EAAgD9D,CAAC,EAAjD,EAAqD;CACjDmL,QAAAA,CAAC,GAAG1D,SAAS,CAACzH,CAAD,CAAb;;CACA,aAAK,IAAI8C,CAAT,IAAcqI,CAAd;CAAiB,cAAIjJ,MAAM,CAACxB,SAAP,CAAiB0I,cAAjB,CAAgCnE,IAAhC,CAAqCkG,CAArC,EAAwCrI,CAAxC,CAAJ,EACbwL,CAAC,CAACxL,CAAD,CAAD,GAAOqI,CAAC,CAACrI,CAAD,CAAR;CADJ;CAEH;;CACD,aAAOwL,CAAP;CACH,KAPD;;CAQA,WAAOmF,QAAQ,CAACjM,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;CACH,GAVD;;CAWA,MAAIiJ,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAI0I,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA,MAAIkF,WAAW;;CAAkB,cAAY;CACzC,aAASA,WAAT,CAAqBC,QAArB,EAA+B;CAC3B,UAAIxL,KAAK,GAAG,IAAZ;;CACA,WAAKyL,aAAL,GAAqB,CAAC,UAAD,EAAa,KAAb,EAAoB,KAApB,EAA2B,MAA3B,EAAmC,MAAnC,EAA2C,MAA3C,CAArB;CACA,WAAKzI,IAAL,GAAY,aAAZ;CACA,WAAKwI,QAAL,GAAgBA,QAAQ,GAAG1B,QAAQ,CAAC,EAAD,EAAK0B,QAAL,EAAe;CAAEE,QAAAA,MAAM,EAAEF,QAAQ,CAACE,MAAT,IAAmB,IAA7B;CAAmCC,QAAAA,OAAO,EAAEH,QAAQ,CAACG,OAAT,IAAoB,KAAhE;CAAuEnN,QAAAA,MAAM,EAAEgN,QAAQ,CAAChN,MAAT,IAAmByI,OAAK,CAACH,YAAN,CAAmB8E,IAArH;CAA2HC,QAAAA,YAAY,EAAEL,QAAQ,CAACK,YAAT,KAA0B1T,SAA1B,GAAsC,IAAtC,GAA6CqT,QAAQ,CAACK;CAA/L,OAAf,CAAX,GAA2O;CAAErN,QAAAA,MAAM,EAAEyI,OAAK,CAACH,YAAN,CAAmBgF;CAA7B,OAAnQ;CACA,WAAKN,QAAL,CAAcO,OAAd,GAAwB,KAAKP,QAAL,CAAcO,OAAd,IAAyB,EAAjD;;CACA,WAAKP,QAAL,CAAcO,OAAd,CAAsB,UAAtB,IAAoC,KAAKP,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACkM,UAAN,CAAiBlM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,SAAD,CAAH,IAAkBA,GAAG,CAAC,UAAD,CAApC,EAAkD,KAAlD,EAAyD,KAAzD,EAAgE+J,aAAhE,EAA+EC,MAA/E,CAAjB,EAAyGD,aAAzG,EAAwHC,MAAxH,CAAP;CAAyI,OAAxP;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,WAAtB,IAAqC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAO,eAAehK,GAAG,CAAC,WAAD,CAAH,GAAmBA,GAAG,CAAC,WAAD,CAAtB,GAAsC,EAArD,IAA2D,GAA3D,IAAkEA,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,KAAjC,EAAwC,IAAxC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAAnB,GAA0F,EAA5J,IAAkK,YAAlK,GAAiLjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,QAAD,CAAlB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,CAAjL,GAAqP,IAA5P;CAAmQ,OAAhV;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,MAAtB,IAAgC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,MAAD,CAAlB,EAA4B,KAA5B,EAAmC,KAAnC,EAA0C+J,aAA1C,EAAyDC,MAAzD,IAAmE,gBAAnE,GAAsFhK,GAAG,CAAC,WAAD,CAAzF,GAAyG,YAAzG,IAAyHuJ,QAAQ,IAAIA,QAAQ,CAACE,MAArB,GAA8B,IAAIzM,KAAJ,CAAUgN,MAAV,EAAkBzV,IAAlB,CAAuB,GAAvB,CAA9B,GAA4D,EAArL,IAA2LwJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,QAAD,CAAlB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,CAA3L,GAA+P,KAAtQ;CAA8Q,OAAtV;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,SAAD,CAAlB,EAA+B,KAA/B,EAAsC,KAAtC,EAA6C+J,aAA7C,EAA4DC,MAA5D,IAAsE,mBAAtE,GAA4FhK,GAAG,CAAC,WAAD,CAA/F,GAA+G,YAA/G,GAA8HjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,KAAvC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAA9H,GAAqM,KAA5M;CAAoN,OAA/R;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,OAAD,CAAlB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C+J,aAA3C,EAA0DC,MAA1D,IAAoE,QAApE,IAAgFhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,KAAjC,EAAwC,IAAxC,EAA8C+J,aAA9C,EAA6DC,MAA7D,CAAnB,GAA0F,EAA1K,IAAgL,GAAvL;CAA6L,OAAtQ;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,OAAD,CAAlB,EAA6B,IAA7B,EAAmC,KAAnC,EAA0C+J,aAA1C,EAAyDC,MAAzD,IAAmE,GAAnE,IAA0EhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C+J,aAA7C,EAA4DC,MAA5D,CAAnB,GAAyF,EAAnK,IAAyK,GAAhL;CAAsL,OAA/P;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,MAAtB,IAAgC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAO,SAASjM,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,MAAD,CAAlB,EAA4B,IAA5B,EAAkC,KAAlC,EAAyC+J,aAAzC,EAAwDC,MAAxD,CAAT,GAA2E,GAA3E,IAAkFhK,GAAG,CAAC,WAAD,CAAH,GAAmBjC,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAAC,WAAD,CAAlB,EAAiC,IAAjC,EAAuC,IAAvC,EAA6C+J,aAA7C,EAA4DC,MAA5D,CAAnB,GAAyF,EAA3K,IAAiL,GAAxL;CAA8L,OAAtQ;;CACA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,KAAtB,IAA+B,KAAKP,QAAL,CAAcO,OAAd,CAAsB,OAAtB,IAAiC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOhK,GAAG,CAAC,OAAD,CAAH,IAAgBA,GAAG,CAAC,KAAD,CAA1B;CAAoC,OAA5I;;CACA,WAAKuJ,QAAL,CAAcO,OAAd,CAAsB,SAAtB,IAAmC,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CACrE,YAAIG,IAAI,GAAG,EAAX;CACA,YAAIjL,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;;CACA,aAAK,IAAIgH,GAAT,IAAgB9H,IAAhB;CACIiL,UAAAA,IAAI,CAACjL,IAAI,CAAC8H,GAAD,CAAJ,IAAa,SAAb,GAAyB,MAAzB,GAAkC9H,IAAI,CAAC8H,GAAD,CAAvC,CAAJ,GAAoDhH,GAAG,CAACd,IAAI,CAAC8H,GAAD,CAAL,CAAvD;CADJ;;CAEA,eAAO,KAAKjJ,KAAK,CAACmM,QAAN,CAAe;CAAE,kBAAQ;CAAE,wBAAY;CAAd,WAAV;CAAqD,uBAAa,CAACC,IAAD;CAAlE,SAAf,EAA2F,IAA3F,EAAiG,IAAjG,EAAuGJ,aAAvG,EAAsHC,MAAtH,CAAZ;CACH,OAND;;CAOA,WAAKT,QAAL,CAAcO,OAAd,CAAsB,GAAtB,IAA6B,UAAU9J,GAAV,EAAe+J,aAAf,EAA8BC,MAA9B,EAAsC;CAAE,eAAOhK,GAAG,CAAC,GAAD,CAAV;CAAkB,OAAvF;CACH;;CACDsJ,IAAAA,WAAW,CAACxU,SAAZ,CAAsBmV,UAAtB,GAAmC,UAAUG,GAAV,EAAeL,aAAf,EAA8BC,MAA9B,EAAsC;CACrE,UAAIzG,CAAC,GAAG6G,GAAG,CAACxW,OAAJ,CAAY,GAAZ,IAAmB,CAAnB,GAAuBwW,GAAG,CAACnE,MAAJ,CAAW,CAAX,EAAcmE,GAAG,CAACxW,OAAJ,CAAY,GAAZ,CAAd,CAAvB,GAAyDwW,GAAjE;;CACA,UAAIA,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;CAChB,eAAO,KAAK,KAAKF,QAAL,CAAc;CAAE,uBAAa,IAAf;CAAqBrO,UAAAA,SAAS,EAAE,QAAhC;CAA0C,oBAAU;CAAE,qBAAS,mBAAmB0H,CAAC,CAAC,CAAD,CAAD,KAAS,GAAT,GAAe,GAAf,GAAqB,EAAxC,IAA8CA,CAAC,CAAC0C,MAAF,CAAS,CAAT,CAA9C,GAA4D,IAA5D,IAAoEmE,GAAG,CAACtW,MAAJ,GAAayP,CAAC,CAACzP,MAAf,GAAwBsW,GAAG,CAAC1D,SAAJ,CAAcnD,CAAC,CAACzP,MAAhB,EAAwBD,OAAxB,CAAgC,GAAhC,EAAqC,GAArC,CAAxB,GAAoE,EAAxI,IAA8I;CAAzJ;CAApD,SAAd,EAAoO,KAApO,EAA2O,KAA3O,EAAkPkW,aAAlP,EAAiQC,MAAjQ,CAAZ;CACH;;CACD,UAAI,KAAKT,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,OAAuC9B,OAAK,CAACH,YAAN,CAAmBgF,EAAnB,CAAsB/C,WAAtB,EAA3C,EACIvD,CAAC,GAAG6G,GAAG,CAACxW,OAAJ,CAAY,GAAZ,EAAiB2P,CAAC,CAACzP,MAAF,GAAW,CAA5B,IAAiC,CAAC,CAAlC,GAAsCsW,GAAG,CAACnE,MAAJ,CAAW,CAAX,EAAcmE,GAAG,CAACxW,OAAJ,CAAY,GAAZ,EAAiB2P,CAAC,CAACzP,MAAF,GAAW,CAA5B,IAAiC,CAA/C,CAAtC,GAA0FsW,GAA9F;CACJ,UAAIL,aAAa,CAACM,OAAd,CAAsBzW,OAAtB,CAA8B2P,CAA9B,MAAqC,CAAC,CAA1C,EACIwG,aAAa,CAACM,OAAd,CAAsBhW,IAAtB,CAA2BkP,CAA3B;CACJ,aAAO,MAAMwG,aAAa,CAACM,OAAd,CAAsBzW,OAAtB,CAA8B2P,CAA9B,CAAN,IAA0C6G,GAAG,CAACtW,MAAJ,GAAayP,CAAC,CAACzP,MAAf,GAAwBsW,GAAG,CAAC1D,SAAJ,CAAcnD,CAAC,CAACzP,MAAhB,EAAwBD,OAAxB,CAAgC,GAAhC,EAAqC,GAArC,CAAxB,GAAoE,EAA9G,CAAP;CACH,KAVD;;CAWAyV,IAAAA,WAAW,CAACxU,SAAZ,CAAsB0L,MAAtB,GAA+B,UAAU8J,KAAV,EAAiBP,aAAjB,EAAgCN,MAAhC,EAAwC;CACnE,UAAIc,EAAE,GAAG,KAAKhB,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIc,GAAG,GAAG,KAAKjB,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,KAAKH,QAAL,CAAcE,MAAd,IAAwB,IAA/D;CACA,aAAOc,EAAE,GAAG,IAAIvN,KAAJ,CAAUyM,MAAM,GAAG,CAAnB,EAAsBlV,IAAtB,CAA2BiW,GAA3B,CAAL,GAAuCF,KAAK,CAAC/V,IAAN,CAAW,MAAMgW,EAAN,GAAW,IAAIvN,KAAJ,CAAUyM,MAAM,GAAG,CAAnB,EAAsBlV,IAAtB,CAA2BiW,GAA3B,CAAtB,CAAvC,GAAgGD,EAAhG,GAAqG,IAAIvN,KAAJ,CAAUyM,MAAV,EAAkBlV,IAAlB,CAAuBiW,GAAvB,CAA5G;CACH,KAJD;;CAKAlB,IAAAA,WAAW,CAACxU,SAAZ,CAAsBoV,QAAtB,GAAiC,UAAUlK,GAAV,EAAeyK,GAAf,EAAoBC,EAApB,EAAwBX,aAAxB,EAAuCC,MAAvC,EAA+C;CAC5E,UAAIjM,KAAK,GAAG,IAAZ;;CACA,UAAI7J,MAAJ;CACA,UAAI8L,GAAG,KAAK,IAAZ,EACI9L,MAAM,GAAG,MAAT,CADJ,KAEK,IAAI8I,KAAK,CAACiB,OAAN,CAAc+B,GAAd,CAAJ,EACD9L,MAAM,GAAG,CAACwW,EAAE,GAAG,EAAH,GAAQ,GAAX,IAAkB,KAAKlK,MAAL,CAAYR,GAAG,CAACpI,GAAJ,CAAQ,UAAUN,CAAV,EAAalD,CAAb,EAAgB;CAAE,eAAO2J,KAAK,CAACmM,QAAN,CAAe5S,CAAf,EAAkBmT,GAAlB,EAAuB,KAAvB,EAA8BV,aAA9B,EAA6CC,MAAM,GAAG,CAAtD,CAAP;CAAkE,OAA5F,CAAZ,EAA2GD,aAA3G,EAA0HC,MAA1H,CAAlB,IAAuJU,EAAE,GAAG,EAAH,GAAQ,GAAjK,CAAT,CADC,KAEA,IAAI,QAAO1K,GAAP,MAAe,QAAnB,EAA6B;CAC9B,YAAId,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;CACA,YAAI2K,SAAS,GAAG,KAAhB;;CACA,aAAK,IAAIxL,CAAT,IAAcD,IAAd;CACI,cAAI,CAACyL,SAAD,IAAczL,IAAI,CAACC,CAAD,CAAJ,CAAQrL,MAAR,GAAiB,CAA/B,IAAoCoL,IAAI,CAACC,CAAD,CAAJ,CAAQyL,MAAR,CAAe,CAAf,KAAqB,GAA7D,EAAkE;CAC9D,gBAAI,KAAKrB,QAAL,CAAcO,OAAd,IAAyB,KAAKP,QAAL,CAAcO,OAAd,CAAsB5K,IAAI,CAACC,CAAD,CAA1B,CAA7B,EAA6D;CACzDwL,cAAAA,SAAS,GAAG,IAAZ;CACAzW,cAAAA,MAAM,GAAG,KAAKqV,QAAL,CAAcO,OAAd,CAAsB5K,IAAI,CAACC,CAAD,CAA1B,EAA+Ba,GAA/B,EAAoC+J,aAApC,EAAmDC,MAAnD,KAA8D,EAAvE;CACH,aAHD,MAKI,MAAM,IAAInT,KAAJ,CAAU,6BAA6BqI,IAAI,CAACC,CAAD,CAAJ,CAAQ8G,MAAR,CAAe,CAAf,CAAvC,CAAN;CACP;CARL;;CASA,YAAI,CAAC0E,SAAL,EACIzW,MAAM,GAAG,CAACwW,EAAE,GAAG,EAAH,GAAQ,GAAX,IAAkB,KAAKlK,MAAL,CAAYtB,IAAI,CAAC2L,MAAL,CAAY,UAAU1L,CAAV,EAAa;CAAE,iBAAOA,CAAC,CAACrL,MAAF,GAAW,CAAX,IAAgBqL,CAAC,CAAC8G,MAAF,CAAS,CAAT,EAAY,CAAZ,KAAkB,IAAzC;CAAgD,SAA3E,EAA6ErO,GAA7E,CAAiF,UAAUuH,CAAV,EAAa/K,CAAb,EAAgB;CAAE,iBAAO,CAAC2J,KAAK,CAACyL,aAAN,CAAoB5V,OAApB,CAA4BuL,CAA5B,IAAiC,CAAC,CAAlC,IAAuC,aAAaoJ,IAAb,CAAkBpJ,CAAlB,CAAvC,GAA8D,OAAOA,CAAP,GAAW,IAAzE,GAAgFA,CAAjF,IAAsF,GAAtF,IAA6FpB,KAAK,CAACwL,QAAN,CAAeG,OAAf,GAAyB,EAAzB,GAA8B,GAA3H,IAAkI3L,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACb,CAAD,CAAlB,EAAuBsL,GAAvB,EAA4B,KAA5B,EAAmCV,aAAnC,EAAkDC,MAAM,GAAG,CAA3D,CAAzI;CAAyM,SAA5S,CAAZ,EAA2TD,aAA3T,EAA0UC,MAA1U,CAAlB,IAAuWU,EAAE,GAAG,EAAH,GAAQ,GAAjX,CAAT;CACP,OAdI,MAeA,IAAI,OAAO1K,GAAP,KAAe,UAAnB;CACD9L,QAAAA,MAAM,GAAG8L,GAAG,CAACU,QAAJ,EAAT,CADC,KAGDxM,MAAM,GAAG,OAAO8L,GAAP,KAAe,QAAf,IAA2ByK,GAA3B,GAAiCjD,IAAI,CAACC,SAAL,CAAezH,GAAf,CAAjC,GAAuDA,GAAhE;CACJ,aAAO9L,MAAP;CACH,KA3BD;;CA4BAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBgW,cAAtB,GAAuC,UAAU5W,MAAV,EAAkB8L,GAAlB,EAAuB;CAC1D,UAAIjC,KAAK,GAAG,IAAZ;;CACA,UAAImB,IAAI,GAAG5I,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,CAAX;CACA,UAAI+K,SAAS,GAAG7L,IAAI,CAAC2L,MAAL,CAAY,UAAU1L,CAAV,EAAa;CAAE,eAAOA,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAApB,IAAyBuL,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAA7C,IAAkDuL,CAAC,CAACvL,OAAF,CAAU,GAAV,MAAmB,CAAC,CAAtE,IAA2EmK,KAAK,CAACyL,aAAN,CAAoB5V,OAApB,CAA4BuL,CAA5B,MAAmC,CAAC,CAAtH;CAA0H,OAArJ,CAAhB;CACA,UAAI6L,SAAS,GAAG9L,IAAI,CAACpL,MAAL,KAAgB,CAAhB,IAAqBoL,IAAI,CAAC,CAAD,CAAJ,KAAY,SAAjD;CACA,UAAI+L,EAAE,GAAG,KAAK1B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIwB,EAAE,GAAG,KAAK3B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,GAAtC;CACA,UAAIyB,EAAE,GAAG,KAAK5B,QAAL,CAAc6B,WAAd,GAA4B,OAA5B,GAAsC,KAA/C;;CACA,cAAQ,KAAK7B,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,EAAR;CACI,aAAK,KAAL;CACA,aAAK,UAAL;CACA,aAAK,KAAL;;CAEI5S,UAAAA,MAAM,CAACwT,IAAP,IAAexI,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAO,qBAAqBA,GAArB,GAA2B,IAA3B,GAAkCkE,EAAlC,GAAuC,GAAvC,GAA6CA,EAA7C,GAAkDnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAlD,GAAqG,GAA5G;CAAkH,WAA5I,EAA8IK,IAA9I,CAAmJ0W,EAAnJ,CAAf;CACA,cAAI,CAACD,SAAL,EACI9W,MAAM,CAACwT,IAAP,IAAeuD,EAAE,GAAG,2BAAL,GAAmCC,EAAnC,GAAwC,GAAxC,GAA8CA,EAA9C,GAAmD,GAAnD,GAAyDA,EAAzD,GAA8DhM,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAOA,GAAG,GAAG,IAAN,GAAajJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAApB;CAAuE,WAAjG,EAAmGK,IAAnG,CAAwG0W,EAAxG,CAA9D,GAA4K,KAA3L;CACJ;;CACJ,aAAK,IAAL;CACI,cAAID,SAAJ,EACI9W,MAAM,CAACwT,IAAP,IAAe,mBAAmBwD,EAAnB,GAAwB,KAAKhB,QAAL,CAAclK,GAAG,CAAC,SAAD,CAAjB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C9L,MAA3C,EAAmD,CAAnD,CAAxB,GAAgF,GAA/F,CADJ,KAEK;CACDA,YAAAA,MAAM,CAACwT,IAAP,IAAe,mBAAmBwD,EAAnB,GAAwB,GAAxB,GAA8B,KAAK1K,MAAL,CAAYtB,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,qBAAO+D,SAAS,CAACnX,OAAV,CAAkBoT,GAAlB,MAA2B,CAAC,CAA5B,GAAgC,OAAOA,GAAP,GAAa,MAAb,GAAsBjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,GAAyG8S,GAAG,GAAG,GAAN,GAAYkE,EAAZ,IAAkBnN,KAAK,CAACwL,QAAN,CAAeK,YAAf,GAA8B5C,GAA9B,GAAoCjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,CAAhH;CAA0N,aAApP,CAAZ,EAAmQA,MAAnQ,EAA2Q,CAA3Q,CAA9B,GAA8S,IAA7T;CACA,gBAAI,KAAKqV,QAAL,CAAcK,YAAd,IAA8BmB,SAAS,CAACjX,MAAV,GAAmB,CAArD,EACII,MAAM,CAACwT,IAAP,GAAcqD,SAAS,CAACnT,GAAV,CAAc,UAAUoP,GAAV,EAAe;CAAE,qBAAO,YAAYmE,EAAZ,GAAiB,GAAjB,GAAuBnE,GAAvB,GAA6BkE,EAA7B,GAAkC,GAAlC,GAAwCA,EAAxC,GAA6CnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAA7C,GAAgG,GAAvG;CAA6G,aAA5I,EAA8IK,IAA9I,CAAmJ0W,EAAnJ,KAA0J,MAAMA,EAAE,GAAG/W,MAAM,CAACwT,IAAZ,GAAmBuD,EAAzB,CAA1J,CAAd;CACP;CACD;;CACJ;CACI/W,UAAAA,MAAM,CAACwT,IAAP,IAAe,aAAasD,SAAS,GAAG,KAAKd,QAAL,CAAclK,GAAG,CAAC,SAAD,CAAjB,EAA8B,IAA9B,EAAoC,KAApC,EAA2C9L,MAA3C,EAAmD,CAAnD,CAAH,GAA2D,MAAM,KAAKsM,MAAL,CAAYtB,IAAI,CAACtH,GAAL,CAAS,UAAUoP,GAAV,EAAe;CAAE,mBAAO+D,SAAS,CAACnX,OAAV,CAAkBoT,GAAlB,MAA2B,CAAC,CAA5B,GAAgC,OAAOA,GAAP,GAAa,MAAb,GAAsBjJ,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAtD,GAAyG8S,GAAG,GAAG,GAAN,GAAYkE,EAAZ,GAAiBnN,KAAK,CAACmM,QAAN,CAAelK,GAAG,CAACgH,GAAD,CAAlB,EAAyB,IAAzB,EAA+B,KAA/B,EAAsC9S,MAAtC,EAA8C,CAA9C,CAAjI;CAAoL,WAA9M,CAAZ,EAA6NA,MAA7N,EAAqO,CAArO,CAAN,GAAgP,GAAjU,IAAwU,GAAvV;CAnBR;CAqBH,KA7BD;;CA8BAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBuW,cAAtB,GAAuC,UAAUnX,MAAV,EAAkB6C,IAAlB,EAAwB;CAC3D,UAAIkU,EAAE,GAAG,KAAK1B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,IAAtC;CACA,UAAIwB,EAAE,GAAG,KAAK3B,QAAL,CAAcG,OAAd,GAAwB,EAAxB,GAA6B,GAAtC;CACA,UAAIyB,EAAE,GAAG,KAAK5B,QAAL,CAAc6B,WAAd,GAA4B,OAA5B,GAAsC,KAA/C;CACA,UAAI7L,CAAC,GAAG,EAAR;CACA,UAAIkC,CAAC,GAAG,EAAR;CACA,UAAI6J,EAAE,GAAG,EAAT;CACA,UAAIC,EAAE,GAAG,EAAT;CACA,UAAIrX,MAAM,CAACmW,OAAP,CAAevW,MAAf,GAAwB,CAA5B,EACI,KAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,MAAM,CAACmW,OAAP,CAAevW,MAAnC,EAA2CM,CAAC,EAA5C,EAAgD;CAC5C,YAAIoX,GAAG,GAAGtX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB,CAAlB,MAAyB,GAAnC;;CACA,YAAIF,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkBR,OAAlB,CAA0B,GAA1B,IAAiC,CAAC,CAAtC,EAAyC;CACrC,cAAI6X,WAAW,GAAGvX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB6R,MAAlB,CAAyB,CAAzB,EAA4B/R,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkBR,OAAlB,CAA0B,GAA1B,CAA5B,CAAlB;CACA,cAAI,CAAC4X,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,MAAgCvV,SAApC,EACI,CAACsV,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,IAA8B,EAA9B;CACJ,WAACD,GAAG,GAAGF,EAAH,GAAQ/L,CAAZ,EAAekM,WAAf,EAA4BvX,MAAM,CAACmW,OAAP,CAAejW,CAAf,EAAkB6R,MAAlB,CAAyBwF,WAAW,CAAC3X,MAAZ,GAAqB,CAA9C,CAA5B,IAAgFM,CAAhF;CACH,SALD,MAOI,CAACoX,GAAG,GAAGD,EAAH,GAAQ9J,CAAZ,EAAevN,MAAM,CAACmW,OAAP,CAAejW,CAAf,CAAf,IAAoCA,CAApC;CACP;;CACL,cAAQ,KAAKmV,QAAL,CAAchN,MAAd,CAAqBuK,WAArB,EAAR;CACI,aAAK,KAAL;CACA,aAAK,UAAL;CACA,aAAK,KAAL;CACI,eAAK,IAAI4E,GAAT,IAAgBjK,CAAhB;CACIvN,YAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAY1J,CAAC,CAACiK,GAAD,CAAb,GAAqBR,EAArB,GAA0B,GAA1B,GAAgCA,EAAhC,GAAqC,YAArC,GAAoDQ,GAApD,GAA0D,MAA1D,GAAmET,EAAnE,GAAwE/W,MAAM,CAACwT,IAA7F;CADJ;;CAEA;;CACJ,aAAK,KAAL;CACIxT,UAAAA,MAAM,CAACwT,IAAP,GAAc,aAAapR,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe3N,MAAf,GAAwB,CAAxB,GAA4B,MAAMwC,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,MAAMA,GAAN,GAAY,GAAnB;CAAyB,WAA7D,EAA+DzS,IAA/D,CAAoE,IAApE,CAAN,GAAkF,KAA9G,GAAsH,EAAnI,IAAyI,YAAzI,GAAwJ+B,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,MAAMvF,CAAC,CAACuF,GAAD,CAAd;CAAsB,WAA1D,EAA4DzS,IAA5D,CAAiE,IAAjE,CAAxJ,GAAiO,MAAjO,GAA0OL,MAAM,CAACwT,IAAjP,GAAwP,MAAxP,GAAiQuD,EAA/Q;CACA;;CACJ,aAAK,IAAL;CACI/W,UAAAA,MAAM,CAACwT,IAAP,GAAcpR,MAAM,CAAC4I,IAAP,CAAYK,CAAZ,EAAe3H,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,aAAa1Q,MAAM,CAAC4I,IAAP,CAAYK,CAAC,CAACyH,GAAD,CAAb,EAAoBpP,GAApB,CAAwB,UAAUuH,CAAV,EAAa;CAAE,qBAAOA,CAAC,GAAG,OAAJ,GAAcI,CAAC,CAACyH,GAAD,CAAD,CAAO7H,CAAP,CAArB;CAAiC,aAAxE,EAA0E5K,IAA1E,CAA+E,MAAM2W,EAArF,CAAb,GAAwG,UAAxG,GAAqHlE,GAArH,GAA2H,IAA3H,GAAkIiE,EAAzI;CAA8I,WAAlL,EAAoL1W,IAApL,CAAyL,EAAzL,IAA+L+B,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,mBAAO,kBAAkBvF,CAAC,CAACuF,GAAD,CAAnB,GAA2B,SAA3B,GAAuCA,GAAG,CAACf,MAAJ,CAAWe,GAAG,CAAC,CAAD,CAAH,IAAU,GAAV,GAAgB,CAAhB,GAAoB,CAA/B,CAAvC,GAA2E,IAA3E,GAAkFiE,EAAzF;CAA8F,WAAlI,EAAoI1W,IAApI,CAAyI,EAAzI,CAA/L,GAA8UL,MAAM,CAACwT,IAAnW;CACA;;CACJ;CACI,eAAK,IAAIgE,GAAT,IAAgBjK,CAAhB;CACIvN,YAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAY1J,CAAC,CAACiK,GAAD,CAAb,GAAqBR,EAArB,GAA0B,GAA1B,GAAgCA,EAAhC,GAAqC,YAArC,GAAoDQ,GAApD,GAA0D,MAA1D,GAAmET,EAAnE,GAAwE/W,MAAM,CAACwT,IAA7F;CADJ;;CAdR;;CAiBA,UAAIpR,MAAM,CAAC4I,IAAP,CAAYoM,EAAZ,EAAgBxX,MAAhB,GAAyB,CAAzB,IAA8BwC,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgBzX,MAAhB,GAAyB,CAA3D,EAA8D;;;;CAI1D,gBAAQ,KAAKyV,QAAL,CAAcoC,aAAd,GAA8B,KAAKpC,QAAL,CAAcoC,aAAd,CAA4B7E,WAA5B,EAA9B,GAA0E,MAAlF;CACI,eAAK,KAAL;CACA,eAAK,UAAL;CACA,eAAK,KAAL;;CAEI,iBAAK,IAAI4E,GAAT,IAAgBH,EAAhB;CACIrX,cAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAYI,EAAE,CAACG,GAAD,CAAd,GAAsBR,EAAtB,GAA2B,GAA3B,GAAiCA,EAAjC,GAAsC,YAAtC,GAAqDQ,GAArD,GAA2D,MAA3D,GAAoET,EAApE,GAAyE/W,MAAM,CAACwT,IAA9F;CADJ;;CAEA;;CACJ,eAAK,KAAL;CACIxT,YAAAA,MAAM,CAACwT,IAAP,GAAc,aAAapR,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgBzX,MAAhB,GAAyB,CAAzB,GAA6B,MAAMwC,MAAM,CAAC4I,IAAP,CAAYuC,CAAZ,EAAe7J,GAAf,CAAmB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,MAAMA,GAAN,GAAY,GAAnB;CAAyB,aAA7D,EAA+DzS,IAA/D,CAAoE,IAApE,CAAN,GAAkF,KAA/G,GAAuH,EAApI,IAA0I,YAA1I,GAAyJ+B,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgB3T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,MAAMuE,EAAE,CAACvE,GAAD,CAAf;CAAuB,aAA5D,EAA8DzS,IAA9D,CAAmE,IAAnE,CAAzJ,GAAoO,MAApO,GAA6OL,MAAM,CAACwT,IAApP,GAA2P,MAA3P,GAAoQuD,EAAlR;CACA;;CACJ,eAAK,IAAL;CACI/W,YAAAA,MAAM,CAACwT,IAAP,GAAcpR,MAAM,CAAC4I,IAAP,CAAYoM,EAAZ,EAAgB1T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,aAAa1Q,MAAM,CAAC4I,IAAP,CAAYoM,EAAE,CAACtE,GAAD,CAAd,EAAqBpP,GAArB,CAAyB,UAAUuH,CAAV,EAAa;CAAE,uBAAOA,CAAC,CAAC8G,MAAF,CAAS,CAAT,IAAc,OAAd,GAAwB1G,CAAC,CAACyH,GAAD,CAAD,CAAO7H,CAAP,CAA/B;CAA2C,eAAnF,EAAqF5K,IAArF,CAA0F,MAAM2W,EAAhG,CAAb,GAAmH,UAAnH,GAAgIlE,GAAG,CAACf,MAAJ,CAAW,CAAX,CAAhI,GAAgJ,IAAhJ,GAAuJgF,EAA9J;CAAmK,aAAxM,EAA0M1W,IAA1M,CAA+M,EAA/M,IAAqN+B,MAAM,CAAC4I,IAAP,CAAYqM,EAAZ,EAAgB3T,GAAhB,CAAoB,UAAUoP,GAAV,EAAe;CAAE,qBAAO,kBAAkBuE,EAAE,CAACvE,GAAD,CAApB,GAA4B,SAA5B,GAAwCA,GAAG,CAACf,MAAJ,CAAW,CAAX,CAAxC,GAAwD,IAAxD,GAA+DgF,EAAtE;CAA2E,aAAhH,EAAkH1W,IAAlH,CAAuH,EAAvH,CAArN,GAAkVL,MAAM,CAACwT,IAAvW;CACA;;CACJ;CACI,iBAAK,IAAIgE,GAAT,IAAgBH,EAAhB;CACIrX,cAAAA,MAAM,CAACwT,IAAP,GAAcyD,EAAE,GAAG,IAAL,GAAYI,EAAE,CAACG,GAAD,CAAd,GAAsBR,EAAtB,GAA2B,GAA3B,GAAiCA,EAAjC,GAAsC,YAAtC,GAAqDQ,GAArD,GAA2D,MAA3D,GAAoET,EAApE,GAAyE/W,MAAM,CAACwT,IAA9F;CADJ;;CAfR;CAkBH;CACJ,KA5DD;;CA6DA4B,IAAAA,WAAW,CAACxU,SAAZ,CAAsB8W,YAAtB,GAAqC,UAAU5L,GAAV,EAAejJ,IAAf,EAAqB;CACtD,UAAI7C,MAAM,GAAG;CAAE6C,QAAAA,IAAI,EAAEA,IAAR;CAAcsT,QAAAA,OAAO,EAAE,EAAvB;CAA2B/N,QAAAA,OAAO,EAAE,EAApC;CAAwCuP,QAAAA,eAAe,EAAE,KAAzD;CAAgEnE,QAAAA,IAAI,EAAE;CAAtE,OAAb;CACA,WAAKoD,cAAL,CAAoB5W,MAApB,EAA4B8L,GAA5B;CACA,WAAKqL,cAAL,CAAoBnX,MAApB,EAA4B6C,IAAI,IAAI,EAApC;CACA,aAAO7C,MAAP;CACH,KALD;;CAMAoV,IAAAA,WAAW,CAACxU,SAAZ,CAAsBoG,SAAtB,GAAkC,UAAU+I,KAAV,EAAiBlN,IAAjB,EAAuB;CACrD,UAAIiJ,GAAJ;;CACA,UAAI;CACAA,QAAAA,GAAG,GAAG,OAAOiE,KAAP,KAAiB,QAAjB,GAA4BuD,IAAI,CAACrB,KAAL,CAAWlC,KAAX,CAA5B,GAAgDA,KAAtD;CACH,OAFD,CAGA,OAAO3M,CAAP,EAAU;;CAEN,YAAI,KAAKiS,QAAL,CAAcuC,4BAAd,IAA8C,KAAKvC,QAAL,CAAcuC,4BAAd,KAA+C5V,SAAjG,EAA4G;CACxG,cAAI;CACA8J,YAAAA,GAAG,GAAGF,QAAQ,CAAC,aAAamE,KAAb,GAAqB,IAAtB,CAAR,EAAN;CACA,gBAAI,KAAKsF,QAAL,CAAcuC,4BAAd,KAA+C5V,SAAnD,EACIsN,OAAO,CAACuI,IAAR,CAAa,eAAehV,IAAI,IAAI,EAAvB,IAA6B,0BAA7B,GAA0DO,CAAC,CAAC0U,OAA5D,GAAsE,kFAAtE,GAA2J/H,KAAxK;CACP,WAJD,CAKA,OAAOpB,CAAP,EAAU;CACN,kBAAM,IAAIhM,KAAJ,CAAU,wBAAwBE,IAAI,IAAI,EAAhC,IAAsC,kBAAtC,GAA2D8L,CAAC,CAACmJ,OAAvE,CAAN;CACH;CACJ,SATD,MAWI,MAAM,IAAInV,KAAJ,CAAU,gCAAgCE,IAAI,IAAI,EAAxC,IAA8C,IAA9C,GAAqDO,CAAC,CAAC0U,OAAjE,CAAN;CACP;;CACD,UAAI;CACA,eAAO,KAAKJ,YAAL,CAAkB5O,KAAK,CAACiB,OAAN,CAAc+B,GAAd,KAAsB,QAAQA,GAAG,IAAI,EAAf,MAAuB,QAA7C,IAAyD1J,MAAM,CAAC4I,IAAP,CAAYc,GAAZ,EAAiB6K,MAAjB,CAAwB,UAAU1L,CAAV,EAAa;CAAE,iBAAOA,CAAC,CAAC,CAAD,CAAD,IAAQ,GAAf;CAAqB,SAA5D,EAA8DrL,MAA9D,GAAuE,CAAhI,GAAoI;CAAE,qBAAWkM;CAAb,SAApI,GAAyJA,GAA3K,EAAgLjJ,IAAhL,CAAP;CACH,OAFD,CAGA,OAAOO,CAAP,EAAU;CACN,cAAM,IAAIT,KAAJ,CAAU,sCAAsCS,CAAC,CAAC0U,OAAxC,GAAkD,MAAlD,GAA2D1U,CAAC,CAACiP,KAAvE,CAAN;CACH;CACJ,KA1BD;;CA2BA,WAAO+C,WAAP;CACH,GAjMgC,EAAjC;;CAkMAhN,EAAAA,mBAAA,GAAsBgN,WAAtB;;;;;;ACvNA;CACAhN,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAIoH,MAAM;;CAAkB,cAAY;CACpC,aAASA,MAAT,CAAgB9F,GAAhB,EAAqB;CACjB,UAAIG,KAAK,GAAG,IAAZ;;CACA,WAAKH,GAAL,GAAWA,GAAX;;CACA,UAAI,QAAOrE,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;CAC5B,YAAIuK,QAAQ,GAAGxN,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,QAAxC,CAAf;;CACA,YAAIuK,QAAJ,EAAc;CACVA,UAAAA,QAAQ,CAACrN,KAAT,CAAe+D,WAAf,CAA2B1F,SAA3B,CAAqCkP,GAArC,GAA2C,UAAUC,KAAV,EAAiBlN,IAAjB,EAAuB;CAAE,mBAAOgH,KAAK,CAACH,GAAN,CAAUM,QAAV,CAAmBgG,WAAnB,CAA+BhJ,SAA/B,CAAyC+I,KAAzC,EAAgDlN,IAAhD,CAAP;CAA+D,WAAnI;;CACA,eAAKoN,KAAL,GAAa;CAAE,sBAAUL,QAAQ,CAACrN,KAAT,CAAe,QAAf,EAAyBkJ,IAAzB,CAA8BmE,QAAQ,CAACrN,KAAvC,CAAZ;CAA2DE,YAAAA,WAAW,EAAEmN,QAAQ,CAACrN,KAAT,CAAeE,WAAf,CAA2BgJ,IAA3B,CAAgCmE,QAAQ,CAACrN,KAAzC,CAAxE;CAAyHmN,YAAAA,IAAI,EAAE,cAAUR,QAAV,EAAoB;CAAE,qBAAO,KAAK,EAAZ;CAAiB;CAAtK,WAAb;CACH,SAHD,MAKI,KAAKe,KAAL,GAAaC,MAA4B,CAAC,SAAD,CAAzC;CACP;;CACD,UAAI,KAAK,OAAL,KAAiB,IAArB,EACI,KAAKD,KAAL,GAAaE,QAA2B,CAAC,SAAD,CAAxC;CACP;;CACDX,IAAAA,MAAM,CAAC5O,SAAP,CAAiB,QAAjB,IAA6B,UAAUwP,UAAV,EAAsBC,oBAAtB,EAA4C;CACrE,UAAIxG,KAAK,GAAG,IAAZ;;CACA,UAAIyG,CAAC,GAAGF,UAAU,CAAC1Q,OAAX,CAAmB,GAAnB,IAA0B,CAAC,CAA3B,GAA+B0Q,UAAU,CAAC/Q,KAAX,CAAiB,CAAjB,EAAoB+Q,UAAU,CAAC1Q,OAAX,CAAmB,GAAnB,CAApB,CAA/B,GAA8E0Q,UAAtF;CACA,UAAIjH,CAAC,GAAGmH,CAAC,CAAC1Q,MAAF,GAAW,CAAX,GAAewQ,UAAU,CAACxQ,MAA1B,GAAmCwQ,UAAU,CAAC/Q,KAAX,CAAiBiR,CAAC,CAAC1Q,MAAF,GAAW,CAA5B,EAA+BV,KAA/B,CAAqC,GAArC,CAAnC,GAA+E,EAAvF;CACA,aAAO,IAAI8B,OAAJ,CAAY,UAAUuM,CAAV,EAAagD,EAAb,EAAiB;CAAE,eAAO1G,KAAK,CAACoG,KAAN,CAAY,QAAZ,EAAsBK,CAAtB,EAAyBD,oBAAzB,EAA+CnP,IAA/C,CAAoD,UAAUsP,CAAV,EAAa;CAC1G,cAAIA,CAAC,CAAC,SAAD,CAAL,EACIA,CAAC,GAAGA,CAAC,CAAC,SAAD,CAAL;;CACJ,eAAK,IAAItQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiJ,CAAC,CAACvJ,MAAtB,EAA8BM,CAAC,EAA/B;CACI,gBAAI,CAACsQ,CAAC,GAAGA,CAAC,CAACrH,CAAC,CAACjJ,CAAD,CAAF,CAAN,MAAkB8B,SAAtB,EAAiC;CAC7B;CACAuO,cAAAA,EAAE,CAAC,gCAAgCpH,CAAC,CAACjJ,CAAD,CAAjC,GAAuC,MAAvC,GAAgDkQ,UAAjD,CAAF;CACH;CAJL;CAMA7C,UAAAA,CAAC,CAAC;CAAE,uBAAWiD,CAAb;CAAgBC,YAAAA,UAAU,EAAEL;CAA5B,WAAD,CAAD;CACH,SAV4C,EAU1CG,EAV0C,CAAP;CAU7B,OAVF,CAAP;CAWH,KAfD;;CAgBAf,IAAAA,MAAM,CAAC5O,SAAP,CAAiB6B,WAAjB,GAA+B,UAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CAClD,aAAO,KAAK0J,KAAL,CAAWxN,WAAX,CAAuBhB,GAAvB,EAA4B8E,MAA5B,CAAP;CACH,KAFD;;CAGAiJ,IAAAA,MAAM,CAAC5O,SAAP,CAAiB8O,IAAjB,GAAwB,UAAUR,QAAV,EAAoB;CACxC9M,MAAAA,MAAM,CAACE,cAAP,CAAsB,KAAK2N,KAAL,CAAW,QAAX,CAAtB,EAA4C,KAA5C,EAAmD,KAAKvG,GAAL,CAASM,QAAT,CAAkBgG,WAAlB,CAA8BhJ,SAAjF;CACH,KAFD;;CAGA,WAAOwI,MAAP;CACH,GAvC2B,EAA5B;;CAwCApH,EAAAA,cAAA,GAAiBoH,MAAjB;;;;;;AC1CA;CACA,MAAIoB,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;CAEAA,EAAAA,WAAA,GAAc4Q,GAAK,CAACX,GAApB;CAEAjQ,EAAAA,mBAAA,GAAsB6Q,WAAa,CAAC7D,WAApC;CAEAhN,EAAAA,cAAA,GAAiB8Q,QAAQ,CAAC1J,MAA1B;;CACA,MAAIsB,OAAK,GAAGF,YAAY,CAACV,KAAD,CAAxB;;CACA9H,EAAAA,aAAA,GAAgB0I,OAAhB;;;;;;;;;AChBA;CACA1I,EAAAA,kBAAA,GAAqB,IAArB;CAEAA,EAAAA,gBAAA,GAAmB+Q,IAAM,CAACrI,KAAP,CAAaJ,QAAhC;CACAtI,EAAAA,oBAAA,GAAuB+Q,IAAM,CAACrI,KAAP,CAAaH,YAApC;CACA,MAAIyI,WAAJ;;CACA,GAAC,UAAUA,WAAV,EAAuB;CACpBA,IAAAA,WAAW,CAACA,WAAW,CAAC,OAAD,CAAX,GAAuB,CAAxB,CAAX,GAAwC,OAAxC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,SAAD,CAAX,GAAyB,CAA1B,CAAX,GAA0C,SAA1C;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,QAAD,CAAX,GAAwB,CAAzB,CAAX,GAAyC,QAAzC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,IAAD,CAAX,GAAoB,CAArB,CAAX,GAAqC,IAArC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,MAAD,CAAX,GAAsB,CAAvB,CAAX,GAAuC,MAAvC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,QAAD,CAAX,GAAwB,CAAzB,CAAX,GAAyC,QAAzC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,OAAD,CAAX,GAAuB,CAAxB,CAAX,GAAwC,OAAxC;CACAA,IAAAA,WAAW,CAACA,WAAW,CAAC,SAAD,CAAX,GAAyB,CAA1B,CAAX,GAA0C,SAA1C;CACH,GATD,EASGA,WAAW,GAAGhR,OAAO,CAACgR,WAAR,KAAwBhR,mBAAA,GAAsB,EAA9C,CATjB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;CACA,MAAIwI,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CACA,MAAI0I,KAAK,GAAGF,YAAY,CAACV,OAAD,CAAxB;;CACA,MAAImJ,KAAK;;CAAkB,cAAY;CACnC,aAASA,KAAT,CAAe3P,GAAf,EAAoB;CAChB,WAAKmD,IAAL,GAAY,IAAZ;CACA,WAAKnD,GAAL,GAAWA,GAAX;CACA,WAAKA,GAAL,CAAS0J,OAAT,GAAmB,KAAK1J,GAAL,CAAS0J,OAAT,IAAoB,EAAvC;;CACA,UAAI,QAAO/N,MAAP,yCAAOA,MAAP,OAAkB,QAAtB,EAAgC;CAC5B,YAAIyG,GAAG,GAAI1J,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,QAAxC,KAAqDjD,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,OAAxC,CAAhE;;CACA,YAAIyG,GAAJ,EAAS;CACL,eAAKwN,sBAAL,GAA8BxN,GAAG,CAACvJ,KAAJ,CAAUO,CAAV,IAAegJ,GAAG,CAACvJ,KAAJ,CAAUqD,aAAvD;CACA,eAAK2E,SAAL,GAAiBuB,GAAG,CAACvJ,KAAJ,CAAUgI,SAA3B;CACA,eAAKT,cAAL,GAAsBgC,GAAG,CAACvJ,KAAJ,CAAU6H,MAAV,IAAoB,CAAChI,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,UAAxC,KAAuD;CAAE9C,YAAAA,KAAK,EAAE;CAAT,WAAxD,EAAyEA,KAAzE,CAA+E6H,MAAzH;CACH;CACJ;CACJ;;CACDiP,IAAAA,KAAK,CAACzY,SAAN,CAAgBwJ,MAAhB,GAAyB,UAAUmP,EAAV,EAAchT,MAAd,EAAsBiT,SAAtB,EAAiC;CACtD,UAAI,KAAK1P,cAAT,EAAyB;CACrB,aAAKJ,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,KAAK,CAACJ,QAAN,CAAe0B,KAAvD,EAA8D,cAA9D,EAA8E,CAACmH,EAAD,CAA9E;CACA,eAAO,KAAKzP,cAAL,CAAoByP,EAApB,EAAwBhT,MAAxB,EAAgCiT,SAAhC,CAAP;CACH,OAHD,MAKI,KAAK9P,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,KAAK,CAACJ,QAAN,CAAe/N,KAAvD,EAA8D,qKAA9D;CACP,KAPD;;CAQA0W,IAAAA,KAAK,CAACzY,SAAN,CAAgB6Y,cAAhB,GAAiC,UAAUC,KAAV,EAAiB;CAC9C,cAAQ,KAAKhQ,GAAL,CAAS4O,IAAT,CAAcqB,OAAtB;CACI,aAAK7I,KAAK,CAACsI,WAAN,CAAkBQ,MAAvB;CACI,cAAIF,KAAK,CAACG,OAAN,KAAkB,MAAtB,EACIH,KAAK,CAACG,OAAN,GAAgB,cAAhB;CACJ,cAAIH,KAAK,CAACI,aAAV,EACIJ,KAAK,CAACK,mBAAN,GAA4BL,KAAK,CAACI,aAAlC;CACJ,cAAIJ,KAAK,CAACM,QAAV,EACIN,KAAK,CAACO,cAAN,GAAuBP,KAAK,CAACM,QAA7B;CACJ,cAAIN,KAAK,CAACQ,UAAV,EACIR,KAAK,CAACS,gBAAN,GAAyBT,KAAK,CAACQ,UAA/B;CACJ,cAAIR,KAAK,CAACU,eAAN,IAAyB,kBAAkB/F,IAAlB,CAAuBqF,KAAK,CAACU,eAA7B,CAA7B,EACIV,KAAK,CAACU,eAAN,GAAwB,aAAaV,KAAK,CAACU,eAA3C;CACJ,cAAIV,KAAK,CAACU,eAAV,EACI9K,OAAO,CAACC,GAAR,CAAYmK,KAAZ;CACJ;CAdR;CAgBH,KAjBD,CAtBmC;;;CAyCnCL,IAAAA,KAAK,CAACzY,SAAN,CAAgBsJ,cAAhB,GAAiC,UAAUmQ,OAAV,EAAmBC,KAAnB,EAA0B9R,KAA1B,EAAiC;CAC9D,UAAI8R,KAAK,GAAG,CAAR,KAAc,CAAlB,EAAqB;CACjB,YAAI,OAAOD,OAAP,IAAkB,QAAlB,IAA8B,CAACvR,KAAK,CAACiB,OAAN,CAAcsQ,OAAd,CAAnC,EAA2D;CACvD,eAAK3Q,GAAL,CAASM,QAAT,CAAkBmI,MAAlB,CAAyB5C,GAAzB,CAA6BpK,IAA7B,CAAkC,IAAlC,EAAwC2L,KAAK,CAACJ,QAAN,CAAe/N,KAAvD,EAA8D,sDAA9D,EAAsH,CAAC;CAAE0X,YAAAA,OAAO,EAAEA;CAAX,WAAD,CAAtH,EADuD;;CAGvD,iBAAOA,OAAP;CACH,SAJD,MAKK,IAAIvR,KAAK,CAACiB,OAAN,CAAcsQ,OAAd,CAAJ,EAA4B;CAC7B,cAAI7R,KAAK,KAAKxG,SAAd,EAAyB;CACrBqY,YAAAA,OAAO,CAAC,CAAD,CAAP,GAAaA,OAAO,CAAC,CAAD,CAAP,IAAc,EAA3B;CACA,gBAAI,CAACA,OAAO,CAAC,CAAD,CAAP,CAAWvH,GAAhB,EACIuH,OAAO,CAAC,CAAD,CAAP,CAAWvH,GAAX,GAAiBtK,KAAjB;CACP;;CACD,cAAI6R,OAAO,CAAC,CAAD,CAAP,IAAcA,OAAO,CAAC,CAAD,CAAP,CAAWX,KAA7B,EACI,KAAKD,cAAL,CAAoBY,OAAO,CAAC,CAAD,CAAP,CAAWX,KAA/B;CACP,SAdgB;;;CAiBpB,OAlB6D;;;CAoB9D,aAAOY,KAAK,GAAG,CAAR,KAAc,CAAd,IAAmB,CAAC,KAAKhB,sBAAzB,IAAmD,CAACxQ,KAAK,CAACiB,OAAN,CAAcsQ,OAAd,CAApD,GAA6EA,OAA7E,GAAuF,KAAKf,sBAAL,CAA4B5R,KAA5B,CAAkC,IAAlC,EAAwC2S,OAAxC,CAA9F;CACH,KArBD;;CAsBA,WAAOhB,KAAP;CACH,GAhE0B,EAA3B;;CAiEAjR,EAAAA,aAAA,GAAgBiR,KAAhB;;;;;;AC3EA;CACA,MAAIrQ,SAAS,GAAIC,cAAAA,IAAQA,cAAAA,CAAKD,SAAd,IAA6B,YAAY;CACrD,QAAIE,cAAa,GAAG,uBAAUhF,CAAV,EAAaiF,CAAb,EAAgB;CAChCD,MAAAA,cAAa,GAAG9G,MAAM,CAACgH,cAAP,IACX;CAAEC,QAAAA,SAAS,EAAE;CAAb,mBAA6BP,KAA7B,IAAsC,UAAU5E,CAAV,EAAaiF,CAAb,EAAgB;CAAEjF,QAAAA,CAAC,CAACmF,SAAF,GAAcF,CAAd;CAAkB,OAD/D,IAEZ,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CAAE,aAAK,IAAInG,CAAT,IAAcmG,CAAd;CAAiB,cAAIA,CAAC,CAACG,cAAF,CAAiBtG,CAAjB,CAAJ,EAAyBkB,CAAC,CAAClB,CAAD,CAAD,GAAOmG,CAAC,CAACnG,CAAD,CAAR;CAA1C;CAAwD,OAF9E;;CAGA,aAAOkG,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAApB;CACH,KALD;;CAMA,WAAO,UAAUjF,CAAV,EAAaiF,CAAb,EAAgB;CACnBD,MAAAA,cAAa,CAAChF,CAAD,EAAIiF,CAAJ,CAAb;;CACA,eAASI,EAAT,GAAc;CAAE,aAAKjD,WAAL,GAAmBpC,CAAnB;CAAuB;;CACvCA,MAAAA,CAAC,CAACtD,SAAF,GAAcuI,CAAC,KAAK,IAAN,GAAa/G,MAAM,CAACC,MAAP,CAAc8G,CAAd,CAAb,IAAiCI,EAAE,CAAC3I,SAAH,GAAeuI,CAAC,CAACvI,SAAjB,EAA4B,IAAI2I,EAAJ,EAA7D,CAAd;CACH,KAJD;CAKH,GAZ2C,EAA5C;;CAaA,MAAIoK,QAAQ,GAAI1K,cAAAA,IAAQA,cAAAA,CAAK0K,QAAd,IAA2B,YAAY;CAClDA,IAAAA,QAAQ,GAAGvR,MAAM,CAACwR,MAAP,IAAiB,UAASpF,CAAT,EAAY;CACpC,WAAK,IAAInD,CAAJ,EAAOnL,CAAC,GAAG,CAAX,EAAc8D,CAAC,GAAG2D,SAAS,CAAC/H,MAAjC,EAAyCM,CAAC,GAAG8D,CAA7C,EAAgD9D,CAAC,EAAjD,EAAqD;CACjDmL,QAAAA,CAAC,GAAG1D,SAAS,CAACzH,CAAD,CAAb;;CACA,aAAK,IAAI8C,CAAT,IAAcqI,CAAd;CAAiB,cAAIjJ,MAAM,CAACxB,SAAP,CAAiB0I,cAAjB,CAAgCnE,IAAhC,CAAqCkG,CAArC,EAAwCrI,CAAxC,CAAJ,EACbwL,CAAC,CAACxL,CAAD,CAAD,GAAOqI,CAAC,CAACrI,CAAD,CAAR;CADJ;CAEH;;CACD,aAAOwL,CAAP;CACH,KAPD;;CAQA,WAAOmF,QAAQ,CAACjM,KAAT,CAAe,IAAf,EAAqBC,SAArB,CAAP;CACH,GAVD;;CAWA,MAAIiJ,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;;CAGA,MAAI0I,KAAK,GAAGF,YAAY,CAACV,OAAD,CAAxB;;CACA,MAAIqK,MAAM;;CAAkB,YAAU5Q,MAAV,EAAkB;CAC1CX,IAAAA,SAAS,CAACuR,MAAD,EAAS5Q,MAAT,CAAT,CAD0C;;;CAG1C,aAAS4Q,MAAT,CAAgB7Q,GAAhB,EAAqB8Q,OAArB,EAA8B;CAC1B,UAAI9Q,GAAG,KAAK,KAAK,CAAjB,EAAoB;CAAEA,QAAAA,GAAG,GAAG;CAAE2H,UAAAA,IAAI,EAAE;CAAR,SAAN;CAAqB;;CAC3C,UAAIxH,KAAK,GAAG,IAAZ;;CACA,UAAI2E,CAAC,GAAGmF,QAAQ,CAAC,EAAD,EAAKjK,GAAL,EAAU;CAAE4O,QAAAA,IAAI,EAAE3E,QAAQ,CAAC;CAAEgG,UAAAA,OAAO,EAAE7I,KAAK,CAACsI,WAAN,CAAkBqB;CAA7B,SAAD,EAAyC/Q,GAAG,CAAC4O,IAA7C,CAAhB;CAAoEtO,QAAAA,QAAQ,EAAE2J,QAAQ,CAAC;CAAErJ,UAAAA,EAAE,EAAEZ,GAAG,CAACM,QAAJ,IAAgBN,GAAG,CAACM,QAAJ,CAAaM,EAA7B,IAAmCoQ,OAAO,CAACrB;CAAjD,SAAD,EAA2D3P,GAAG,CAACM,QAA/D,CAAtF;CAAgKoJ,QAAAA,OAAO,EAAE1J,GAAG,CAAC0J,OAAJ,IAAe,EAAxL;CAA4Le,QAAAA,WAAW,EAAER,QAAQ,CAAC,EAAD,EAAKjK,GAAG,CAACyK,WAAT,CAAjN;CAAwOxB,QAAAA,UAAU,EAAEgB,QAAQ,CAAC,EAAD,EAAKjK,GAAG,CAACiJ,UAAT;CAA5P,OAAV,CAAhB;;CACA9I,MAAAA,KAAK,GAAGF,MAAM,CAACxE,IAAP,CAAY,IAAZ,EAAkBqJ,CAAlB,KAAwB,IAAhC;;CACA,UAAI,QAAO7I,QAAP,yCAAOA,QAAP,OAAoB,QAAxB,EAAkC;;CAC9B,YAAIgV,CAAC,GAAGtV,MAAR;CACA,YAAIwJ,CAAC,GAAG/P,cAAR;CACA,YAAIoF,CAAC,GAAGyB,QAAR;CACA,YAAIiV,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkBqB,OAA3B;;CACA,YAAIE,CAAC,IAAI9L,CAAL,IAAU3K,CAAd,EAAiB;CACb,cAAI2K,CAAC,CAACgM,cAAF,KAAqB7Y,SAAzB,EACI6H,KAAK,CAACyO,IAAN,CAAWqB,OAAX,GAAqB7I,KAAK,CAACsI,WAAN,CAAkB0B,OAAvC,CADJ,KAEK;;CAAiB,UAAS,CAAC,CAAC5W,CAAC,CAAC6W,YAA9B,EACDH,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkB4B,EAAvB,CADC,KAEA,IAAI,CAAC,CAACL,CAAC,CAACM,UAAR,EACDL,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkB8B,IAAvB,CADC,KAEA,IAAI,eAAe7G,IAAf,CAAoBsG,CAAC,CAACQ,WAAtB,KAAuC,UAAUnY,CAAV,EAAa;CAAE,mBAAOA,CAAC,CAACwJ,QAAF,OAAiB,mCAAxB;CAA8D,WAA9E,CAAgF,CAACmO,CAAC,CAAC,QAAD,CAAF,IAAiB,OAAO9L,CAAC,CAACuM,MAAT,KAAoB,WAApB,IAAmCvM,CAAC,CAACuM,MAAF,CAASC,gBAA7I,CAA1C,EACDT,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkBQ,MAAvB,CADC,KAEA,IAAI,CAAC,CAACe,CAAC,CAACW,MAAJ,KAAe,CAAC,CAACX,CAAC,CAACW,MAAF,CAASC,QAAX,IAAuB,CAAC,CAACZ,CAAC,CAACW,MAAF,CAASE,OAAjD,CAAJ,EACDZ,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkBqC,MAAvB,CADC,KAEA,IAAKrZ,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,KAAxC,KAAkDjD,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,QAAxC,CAAnD,IAAyGjD,MAAM,CAACyN,wBAAP,CAAgCxK,MAAhC,EAAwC,OAAxC,CAAzG,IAA6JqW,SAAS,CAACC,SAAV,CAAoBjc,OAApB,CAA4B,OAA5B,KAAwC,CAAzM,EACDkb,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkBwC,KAAvB;CACJ,cAAI,CAAChB,EAAE,KAAK9J,KAAK,CAACsI,WAAN,CAAkBqC,MAAzB,IAAmCb,EAAE,KAAK9J,KAAK,CAACsI,WAAN,CAAkBwC,KAA7D,KAAuE,CAAC,CAACjB,CAAC,CAACkB,GAA/E,EACIjB,EAAE,GAAG9J,KAAK,CAACsI,WAAN,CAAkB0C,KAAvB;CACP;;CACDjS,QAAAA,KAAK,CAACyO,IAAN,CAAWqB,OAAX,GAAqBiB,EAArB;CACH;;CACD,aAAO/Q,KAAP;CACH;;CACD0Q,IAAAA,MAAM,CAAC3Z,SAAP,CAAiBwO,GAAjB,GAAuB,YAAY;CAC/B,UAAIvF,KAAK,GAAG,IAAZ;;CACA,WAAKG,QAAL,CAAcmI,MAAd,CAAqB5C,GAArB,CAAyBpK,IAAzB,CAA8B,IAA9B,EAAoC2L,KAAK,CAACJ,QAAN,CAAe0B,KAAnD,EAA0D,SAA1D;CACA,UAAIf,IAAI,GAAG,IAAX;CACA,aAAO,IAAIrQ,OAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC1C,YAAI;CACAoE,UAAAA,KAAK,CAACkP,OAAN;;CACA1H,UAAAA,IAAI,GAAGxH,KAAK,CAACG,QAAN,CAAeuK,UAAf,CAA0BtT,OAA1B,CAAkCyG,KAAlC,CAAwCmC,KAAxC,CAAP;CACH,SAHD,CAIA,OAAOzG,CAAP,EAAU;CACNyG,UAAAA,KAAK,CAACG,QAAN,CAAemI,MAAf,CAAsB5C,GAAtB,CAA0BpK,IAA1B,CAA+B0E,KAA/B,EAAsCiH,KAAK,CAACJ,QAAN,CAAe/N,KAArD,EAA4DS,CAA5D;;CACAqC,UAAAA,MAAM,CAACrC,CAAD,CAAN;CACH;;CACDyG,QAAAA,KAAK,CAACO,MAAN,CAAaiH,IAAb,EAAmBnQ,IAAnB,CAAwBD,OAAxB,EAAiC,UAAUmD,GAAV,EAAe;CAAEyF,UAAAA,KAAK,CAACG,QAAN,CAAemI,MAAf,CAAsB5C,GAAtB,CAA0BpK,IAA1B,CAA+B0E,KAA/B,EAAsCiH,KAAK,CAACJ,QAAN,CAAe/N,KAArD,EAA4DyB,GAAG,CAAC0T,OAAhE,EAAyE1T,GAAG,CAACiO,KAA7E;;CAAqF5M,UAAAA,MAAM,CAACrB,GAAD,CAAN;;CAAayF,UAAAA,KAAK,CAACO,MAAN,CAAa,CAAC,KAAD,EAAQ,EAAR,EAAYhG,GAAG,CAACiO,KAAhB,CAAb;CAAuC,SAA3L;CACH,OAVM,CAAP;CAWH,KAfD;;CAgBAkI,IAAAA,MAAM,CAAC3Z,SAAP,CAAiBwJ,MAAjB,GAA0B,UAAUmP,EAAV,EAAc;CACpC,UAAI1P,KAAK,GAAG,IAAZ;;CACA,aAAO,IAAI7I,OAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC1CoE,QAAAA,KAAK,CAACG,QAAN,CAAemI,MAAf,CAAsB5C,GAAtB,CAA0BpK,IAA1B,CAA+B0E,KAA/B,EAAsCiH,KAAK,CAACJ,QAAN,CAAe0B,KAArD,EAA4D,YAA5D,EAA0E,CAAC;CAAEmH,UAAAA,EAAE,EAAEA;CAAN,SAAD,CAA1E;;CACA1P,QAAAA,KAAK,CAACG,QAAN,CAAeC,SAAf,CAAyBiJ,OAAzB,CAAiCqG,EAAjC,EAAqCrY,IAArC,CAA0C,UAAUqB,KAAV,EAAiB;CACvD,cAAI;CACA,gBAAI4J,MAAM,GAAG,IAAb;;CACA,gBAAI,QAAOxG,QAAP,yCAAOA,QAAP,OAAoB,QAAxB,EAAkC;;CAC9B,kBAAI,OAAOkE,KAAK,CAACuJ,OAAN,CAAcjH,MAArB,KAAgC,QAApC,EACIA,MAAM,GAAGxG,QAAQ,CAACoW,cAAT,CAAwBlS,KAAK,CAACuJ,OAAN,CAAcjH,MAAtC,CAAT,CADJ,KAEK,IAAItC,KAAK,CAACuJ,OAAN,CAAcjH,MAAd,IAAwBtC,KAAK,CAACuJ,OAAN,CAAcjH,MAAd,CAAqB6P,OAArB,KAAiC,QAA7D,EAAuE;CACxE,oBAAIC,EAAE,GAAGpS,KAAK,CAACuJ,OAAN,CAAcjH,MAAvB;CACA,oBAAI8P,EAAE,CAACC,eAAP,EACI/P,MAAM,GAAG,CAAC8P,EAAE,CAACC,eAAH,CAAmB9N,IAApB,GAA2B6N,EAAE,CAACC,eAAH,CAAmBtW,aAAnB,CAAiC,MAAjC,CAA3B,GAAsEqW,EAAE,CAACC,eAAH,CAAmB9N,IAAlG;CACP,eAJI,MAKA,IAAI,CAACzI,QAAQ,CAACyI,IAAd,EACDzI,QAAQ,CAACyI,IAAT,GAAgBzI,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAhB;CACJuG,cAAAA,MAAM,GAAGA,MAAM,IAAIxG,QAAQ,CAACyI,IAA5B;;CACA,kBAAIjC,MAAM,CAAC6P,OAAP,KAAmB,MAAvB,EAA+B;CAC3B,oBAAIG,MAAM,GAAGhQ,MAAb;CACA,oBAAIiQ,GAAG,GAAID,MAAM,CAACE,aAAP,GAAuBF,MAAM,CAACE,aAA9B,GAA8C1W,QAAQ,CAACyI,IAAlE;;CACAjC,gBAAAA,MAAM,GAAGiQ,GAAG,CAACL,cAAJ,CAAmB,MAAnB,KAA8B,YAAY;CAC/C,sBAAI7X,CAAC,GAAGiY,MAAM,CAAChW,WAAP,CAAmB,CAACgW,MAAM,CAACE,aAAP,GAAuBF,MAAM,CAACE,aAA9B,GAA8C1W,QAAQ,CAACyI,IAAxD,EAA8DxI,aAA9D,CAA4E,KAA5E,CAAnB,CAAR;;CACA,sBAAI,KAAKwN,OAAL,IAAgB,KAAKA,OAAL,CAAakJ,UAAjC,EAA6C;CACzCH,oBAAAA,MAAM,CAACzC,KAAP,CAAa6C,MAAb,GAAsBJ,MAAM,CAACzC,KAAP,CAAa6C,MAAb,IAAuB,MAA7C;CACArY,oBAAAA,CAAC,CAACwV,KAAF,CAAQ6C,MAAR,GAAiB,MAAjB;CACH;;CACD,yBAAOrY,CAAP;CACH,iBAPsC,CAOrCwD,KAPqC,CAO/BmC,KAP+B,CAAvC;;CAQA,oBAAI,CAACsC,MAAM,CAACrL,EAAZ,EACIqL,MAAM,CAACqQ,YAAP,CAAoB,IAApB,EAA0B,MAA1B;CACP,eAbD,MAcK,IAAI3S,KAAK,CAACuJ,OAAN,CAAcjH,MAAd,IAAwB,IAA5B,EACD,MAAM,IAAIxJ,KAAJ,CAAU,4BAA4BkH,KAAK,CAACuJ,OAAN,CAAcjH,MAAd,GAAuB,eAAvB,GAAyCtC,KAAK,CAACuJ,OAAN,CAAcjH,MAAnF,IAA6F,0BAAvG,CAAN;;CACJ,kBAAItC,KAAK,CAACuJ,OAAN,CAAcqF,KAAlB,EACI9S,QAAQ,CAAC8S,KAAT,GAAiB5O,KAAK,CAACuJ,OAAN,CAAcqF,KAA/B,CA5B0B;;CA8B9B,kBAAItM,MAAM,CAACsQ,aAAP,EAAJ,EACItQ,MAAM,CAACuQ,SAAP,GAAmB,EAAnB;CACP,aAhCD,MAkCI,MAAM,IAAI/Z,KAAJ,CAAU,+EAAV,CAAN;;CACJ1B,YAAAA,OAAO,CAAC4I,KAAK,CAACG,QAAN,CAAeM,EAAf,CAAkBF,MAAlB,CAAyB7H,KAAzB,EAAgC4J,MAAhC,CAAD,CAAP;CACH,WAtCD,CAuCA,OAAO/I,CAAP,EAAU;CACNqC,YAAAA,MAAM,CAACrC,CAAD,CAAN;CACH;CACJ,SA3CD,EA2CG,UAAUmK,CAAV,EAAa;CAAE,iBAAO9H,MAAM,CAAC8H,CAAD,CAAb;CAAmB,SA3CrC;CA4CH,OA9CM,CAAP;CA+CH,KAjDD;;CAkDA,WAAOgN,MAAP;CACH,GApG2B,CAoG1BpB,IAAM,CAACd,GApGmB,CAA5B;;CAqGAjQ,EAAAA,cAAA,GAAiBmS,MAAjB;;;;;;ACzIA;CACA,MAAI3J,YAAY,GAAI3H,cAAAA,IAAQA,cAAAA,CAAK2H,YAAd,IAA+B,UAAUC,GAAV,EAAe;CAC7D,QAAIA,GAAG,IAAIA,GAAG,CAACJ,UAAf,EAA2B,OAAOI,GAAP;CAC3B,QAAI5C,MAAM,GAAG,EAAb;CACA,QAAI4C,GAAG,IAAI,IAAX,EAAiB,KAAK,IAAI5F,CAAT,IAAc4F,GAAd;CAAmB,UAAIzO,MAAM,CAACkH,cAAP,CAAsBnE,IAAtB,CAA2B0L,GAA3B,EAAgC5F,CAAhC,CAAJ,EAAwCgD,MAAM,CAAChD,CAAD,CAAN,GAAY4F,GAAG,CAAC5F,CAAD,CAAf;CAA3D;CACjBgD,IAAAA,MAAM,CAAC,SAAD,CAAN,GAAoB4C,GAApB;CACA,WAAO5C,MAAP;CACH,GAND;;CAOA7F,EAAAA,kBAAA,GAAqB,IAArB;CAEAA,EAAAA,WAAA,GAAc+Q,IAAM,CAACd,GAArB;CACAjQ,EAAAA,cAAA,GAAiB+Q,IAAM,CAAC3J,MAAxB;CACApH,EAAAA,mBAAA,GAAsB+Q,IAAM,CAAC/D,WAA7B;CAEAhN,EAAAA,cAAA,GAAiBuU,QAAQ,CAACpC,MAA1B;;CACA,MAAIzJ,KAAK,GAAGF,YAAY,CAACV,OAAD,CAAxB;;CACA9H,EAAAA,aAAA,GAAgB0I,KAAhB;;;;;;;;;CCdA,IAAI8L,OAAO,GAAG,SAAd;CACA,IAAIC,OAAO,GAAG,SAAd;CACA,IAAIC,SAAS,GAAG,WAAhB;CACA,IAAIC,QAAQ,GAAG,UAAf;;CACA,IAAIC,IAAI,GAAG,SAAPA,IAAO,GAAY,EAAvB;;CACA,IAAIC,MAAM,GAAG,OAAOne,cAAP,KAAkB,WAAlB,IAAiC,OAAOA,cAAAA,CAAOoU,OAAd,KAA0B,WAA3D,IAA0E,OAAOpU,cAAAA,CAAOoU,OAAPpU,CAAeoe,IAAtB,KAA+B,UAAtH;CAEA,IAAIC,aAAa,GAAG,OAAOC,YAAP,KAAwB,WAAxB,GAAsCC,UAAtC,GAAmDD,YAAvE;CACA,IAAIE,UAAU,GAAG,EAAjB;CACA,IAAIC,UAAJ;;CAEA,SAASC,UAAT,GAAsB;;CAErB,OAAK,IAAItd,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGod,UAAU,CAAC1d,MAA/B,EAAuCM,CAAC,EAAxC,EAA4C;CAC3Cod,IAAAA,UAAU,CAACpd,CAAD,CAAV,CAAc,CAAd,EAAiBod,UAAU,CAACpd,CAAD,CAAV,CAAc,CAAd,CAAjB;CACA,GAJoB;;;CAOrBod,EAAAA,UAAU,GAAG,EAAb;CACAC,EAAAA,UAAU,GAAG,KAAb;CACA;;CAED,SAASE,SAAT,CAAmBzQ,QAAnB,EAA6B0Q,GAA7B,EAAkC;CACjCJ,EAAAA,UAAU,CAACnd,IAAX,CAAgB,CAAC6M,QAAD,EAAW0Q,GAAX,CAAhB;;CAEA,MAAI,CAACH,UAAL,EAAiB;CAChBA,IAAAA,UAAU,GAAG,IAAb;CACAJ,IAAAA,aAAa,CAACK,UAAD,EAAa,CAAb,CAAb;CACA;CACD;;CAED,SAASG,cAAT,CAAwBC,QAAxB,EAAkCC,OAAlC,EAA2C;CAC1C,WAASC,cAAT,CAAwBvb,KAAxB,EAA+B;CAC9BtB,IAAAA,OAAO,CAAC4c,OAAD,EAAUtb,KAAV,CAAP;CACA;;CAED,WAASwb,aAAT,CAAuBC,MAAvB,EAA+B;CAC9BvY,IAAAA,MAAM,CAACoY,OAAD,EAAUG,MAAV,CAAN;CACA;;CAED,MAAI;CACHJ,IAAAA,QAAQ,CAACE,cAAD,EAAiBC,aAAjB,CAAR;CACA,GAFD,CAEE,OAAO3a,CAAP,EAAU;CACX2a,IAAAA,aAAa,CAAC3a,CAAD,CAAb;CACA;CACD;;CAED,SAAS6a,cAAT,CAAwBC,UAAxB,EAAoC;CACnC,MAAIC,KAAK,GAAGD,UAAU,CAACC,KAAvB;CACA,MAAIC,OAAO,GAAGD,KAAK,CAACE,MAApB;CACA,MAAI9b,KAAK,GAAG4b,KAAK,CAACG,KAAlB;CACA,MAAItR,QAAQ,GAAGkR,UAAU,CAACE,OAAD,CAAzB;CACA,MAAIP,OAAO,GAAGK,UAAU,CAAChd,IAAzB;;CAEA,MAAI,OAAO8L,QAAP,KAAoB,UAAxB,EAAoC;CACnCoR,IAAAA,OAAO,GAAGtB,SAAV;;CACA,QAAI;CACHva,MAAAA,KAAK,GAAGyK,QAAQ,CAACzK,KAAD,CAAhB;CACA,KAFD,CAEE,OAAOa,CAAP,EAAU;CACXqC,MAAAA,MAAM,CAACoY,OAAD,EAAUza,CAAV,CAAN;CACA;CACD;;CAED,MAAI,CAACmb,cAAc,CAACV,OAAD,EAAUtb,KAAV,CAAnB,EAAqC;CACpC,QAAI6b,OAAO,KAAKtB,SAAhB,EAA2B;CAC1B7b,MAAAA,OAAO,CAAC4c,OAAD,EAAUtb,KAAV,CAAP;CACA;;CAED,QAAI6b,OAAO,KAAKrB,QAAhB,EAA0B;CACzBtX,MAAAA,MAAM,CAACoY,OAAD,EAAUtb,KAAV,CAAN;CACA;CACD;CACD;;CAED,SAASgc,cAAT,CAAwBV,OAAxB,EAAiCtb,KAAjC,EAAwC;CACvC,MAAI8D,QAAJ;;CAEA,MAAI;CACH,QAAIwX,OAAO,KAAKtb,KAAhB,EAAuB;CACtB,YAAM,IAAI0M,SAAJ,CAAc,sDAAd,CAAN;CACA;;CAED,QAAI1M,KAAK,KAAK,OAAOA,KAAP,KAAiB,UAAjB,IAA+B,QAAOA,KAAP,MAAiB,QAArD,CAAT,EAAyE;;CAExE,UAAIrB,IAAI,GAAGqB,KAAK,CAACrB,IAAjB;;CAEA,UAAI,OAAOA,IAAP,KAAgB,UAApB,EAAgC;CAC/BA,QAAAA,IAAI,CAACiE,IAAL,CAAU5C,KAAV,EAAiB,UAAU2T,GAAV,EAAe;CAC/B,cAAI,CAAC7P,QAAL,EAAe;CACdA,YAAAA,QAAQ,GAAG,IAAX;;CAEA,gBAAI9D,KAAK,KAAK2T,GAAd,EAAmB;CAClBsI,cAAAA,OAAO,CAACX,OAAD,EAAU3H,GAAV,CAAP;CACA,aAFD,MAEO;CACNjV,cAAAA,OAAO,CAAC4c,OAAD,EAAU3H,GAAV,CAAP;CACA;CACD;CACD,SAVD,EAUG,UAAU8H,MAAV,EAAkB;CACpB,cAAI,CAAC3X,QAAL,EAAe;CACdA,YAAAA,QAAQ,GAAG,IAAX;CAEAZ,YAAAA,MAAM,CAACoY,OAAD,EAAUG,MAAV,CAAN;CACA;CACD,SAhBD;CAkBA,eAAO,IAAP;CACA;CACD;CACD,GA/BD,CA+BE,OAAO5a,CAAP,EAAU;CACX,QAAI,CAACiD,QAAL,EAAe;CACdZ,MAAAA,MAAM,CAACoY,OAAD,EAAUza,CAAV,CAAN;CACA;;CAED,WAAO,IAAP;CACA;;CAED,SAAO,KAAP;CACA;;CAED,SAASnC,OAAT,CAAiB4c,OAAjB,EAA0Btb,KAA1B,EAAiC;CAChC,MAAIsb,OAAO,KAAKtb,KAAZ,IAAqB,CAACgc,cAAc,CAACV,OAAD,EAAUtb,KAAV,CAAxC,EAA0D;CACzDic,IAAAA,OAAO,CAACX,OAAD,EAAUtb,KAAV,CAAP;CACA;CACD;;CAED,SAASic,OAAT,CAAiBX,OAAjB,EAA0Btb,KAA1B,EAAiC;CAChC,MAAIsb,OAAO,CAACQ,MAAR,KAAmBzB,OAAvB,EAAgC;CAC/BiB,IAAAA,OAAO,CAACQ,MAAR,GAAiBxB,OAAjB;CACAgB,IAAAA,OAAO,CAACS,KAAR,GAAgB/b,KAAhB;CAEAkb,IAAAA,SAAS,CAACgB,kBAAD,EAAqBZ,OAArB,CAAT;CACA;CACD;;CAED,SAASpY,MAAT,CAAgBoY,OAAhB,EAAyBG,MAAzB,EAAiC;CAChC,MAAIH,OAAO,CAACQ,MAAR,KAAmBzB,OAAvB,EAAgC;CAC/BiB,IAAAA,OAAO,CAACQ,MAAR,GAAiBxB,OAAjB;CACAgB,IAAAA,OAAO,CAACS,KAAR,GAAgBN,MAAhB;CAEAP,IAAAA,SAAS,CAACiB,gBAAD,EAAmBb,OAAnB,CAAT;CACA;CACD;;CAED,SAAS/Q,OAAT,CAAiB+Q,OAAjB,EAA0B;CACzBA,EAAAA,OAAO,CAACc,KAAR,GAAgBd,OAAO,CAACc,KAAR,CAAc5Z,OAAd,CAAsBkZ,cAAtB,CAAhB;CACA;;CAED,SAASQ,kBAAT,CAA4BZ,OAA5B,EAAqC;CACpCA,EAAAA,OAAO,CAACQ,MAAR,GAAiBvB,SAAjB;CACAhQ,EAAAA,OAAO,CAAC+Q,OAAD,CAAP;CACA;;CAED,SAASa,gBAAT,CAA0Bb,OAA1B,EAAmC;CAClCA,EAAAA,OAAO,CAACQ,MAAR,GAAiBtB,QAAjB;CACAjQ,EAAAA,OAAO,CAAC+Q,OAAD,CAAP;;CACA,MAAI,CAACA,OAAO,CAACe,QAAT,IAAqB3B,MAAzB,EAAiC;CAChCne,IAAAA,cAAAA,CAAOoU,OAAPpU,CAAeoe,IAAfpe,CAAoB,oBAApBA,EAA0C+e,OAAO,CAACS,KAAlDxf,EAAyD+e,OAAzD/e;CACA;CACD;;CAED,SAAS+f,sBAAT,CAAgChB,OAAhC,EAAyC;CACxC/e,EAAAA,cAAAA,CAAOoU,OAAPpU,CAAeoe,IAAfpe,CAAoB,kBAApBA,EAAwC+e,OAAxC/e;CACA;;;;;;CAKD,SAASkC,SAAT,CAAiB4c,QAAjB,EAA2B;CAC1B,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;CACnC,UAAM,IAAI3O,SAAJ,CAAc,sBAAsB2O,QAAtB,GAAiC,oBAA/C,CAAN;CACA;;CAED,MAAI,gBAAgB5c,SAAhB,KAA4B,KAAhC,EAAuC;CACtC,UAAM,IAAIiO,SAAJ,CAAc,2HAAd,CAAN;CACA;;CAED,OAAK0P,KAAL,GAAa,EAAb;CAEAhB,EAAAA,cAAc,CAACC,QAAD,EAAW,IAAX,CAAd;CACA;;AAED5c,UAAO,CAACJ,SAAR,GAAoB;CACnB0F,EAAAA,WAAW,EAAEtF,SADM;CAGnBqd,EAAAA,MAAM,EAAEzB,OAHW;CAInB+B,EAAAA,KAAK,EAAE,IAJY;CAKnBL,EAAAA,KAAK,EAAEtc,SALY;CAMnB4c,EAAAA,QAAQ,EAAE,KANS;CAQnB1d,EAAAA,IAAI,EAAE,cAAU4d,aAAV,EAAyBC,WAAzB,EAAsC;CAC3C,QAAIb,UAAU,GAAG;CAChBC,MAAAA,KAAK,EAAE,IADS;CAEhBjd,MAAAA,IAAI,EAAE,IAAI,KAAKoF,WAAT,CAAqB0W,IAArB,CAFU;CAGhBnP,MAAAA,SAAS,EAAEiR,aAHK;CAIhB9Q,MAAAA,QAAQ,EAAE+Q;CAJM,KAAjB;;CAOA,QAAI,CAACA,WAAW,IAAID,aAAhB,KAAkC,CAAC,KAAKF,QAA5C,EAAsD;CACrD,WAAKA,QAAL,GAAgB,IAAhB;;CACA,UAAI,KAAKP,MAAL,KAAgBtB,QAAhB,IAA4BE,MAAhC,EAAwC;CACvCQ,QAAAA,SAAS,CAACoB,sBAAD,EAAyB,IAAzB,CAAT;CACA;CACD;;CAED,QAAI,KAAKR,MAAL,KAAgBvB,SAAhB,IAA6B,KAAKuB,MAAL,KAAgBtB,QAAjD,EAA2D;;CAE1DU,MAAAA,SAAS,CAACQ,cAAD,EAAiBC,UAAjB,CAAT;CACA,KAHD,MAGO;;CAEN,WAAKS,KAAL,CAAWxe,IAAX,CAAgB+d,UAAhB;CACA;;CAED,WAAOA,UAAU,CAAChd,IAAlB;CACA,GAhCkB;CAkCnBiD,EAAAA,KAAK,EAAE,gBAAU4a,WAAV,EAAuB;CAC7B,WAAO,KAAK7d,IAAL,CAAU,IAAV,EAAgB6d,WAAhB,CAAP;CACA;CApCkB,CAApB;;AAuCA/d,UAAO,CAACyC,GAAR,GAAc,UAAUub,QAAV,EAAoB;CACjC,MAAI,CAAClW,KAAK,CAACiB,OAAN,CAAciV,QAAd,CAAL,EAA8B;CAC7B,UAAM,IAAI/P,SAAJ,CAAc,0CAAd,CAAN;CACA;;CAED,SAAO,IAAIjO,SAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC7C,QAAIwZ,OAAO,GAAG,EAAd;CACA,QAAIC,SAAS,GAAG,CAAhB;;CAEA,aAAStB,QAAT,CAAkBpV,KAAlB,EAAyB;CACxB0W,MAAAA,SAAS;CACT,aAAO,UAAU3c,KAAV,EAAiB;CACvB0c,QAAAA,OAAO,CAACzW,KAAD,CAAP,GAAiBjG,KAAjB;;CACA,YAAI,IAAG2c,SAAP,EAAkB;CACjBje,UAAAA,OAAO,CAACge,OAAD,CAAP;CACA;CACD,OALD;CAMA;;CAED,SAAK,IAAI/e,CAAC,GAAG,CAAR,EAAW2d,OAAhB,EAAyB3d,CAAC,GAAG8e,QAAQ,CAACpf,MAAtC,EAA8CM,CAAC,EAA/C,EAAmD;CAClD2d,MAAAA,OAAO,GAAGmB,QAAQ,CAAC9e,CAAD,CAAlB;;CAEA,UAAI2d,OAAO,IAAI,OAAOA,OAAO,CAAC3c,IAAf,KAAwB,UAAvC,EAAmD;CAClD2c,QAAAA,OAAO,CAAC3c,IAAR,CAAa0c,QAAQ,CAAC1d,CAAD,CAArB,EAA0BuF,MAA1B;CACA,OAFD,MAEO;CACNwZ,QAAAA,OAAO,CAAC/e,CAAD,CAAP,GAAa2d,OAAb;CACA;CACD;;CAED,QAAI,CAACqB,SAAL,EAAgB;CACfje,MAAAA,OAAO,CAACge,OAAD,CAAP;CACA;CACD,GA3BM,CAAP;CA4BA,CAjCD;;AAmCAje,UAAO,CAACme,IAAR,GAAe,UAAUH,QAAV,EAAoB;CAClC,MAAI,CAAClW,KAAK,CAACiB,OAAN,CAAciV,QAAd,CAAL,EAA8B;CAC7B,UAAM,IAAI/P,SAAJ,CAAc,2CAAd,CAAN;CACA;;CAED,SAAO,IAAIjO,SAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC7C,SAAK,IAAIvF,CAAC,GAAG,CAAR,EAAW2d,OAAhB,EAAyB3d,CAAC,GAAG8e,QAAQ,CAACpf,MAAtC,EAA8CM,CAAC,EAA/C,EAAmD;CAClD2d,MAAAA,OAAO,GAAGmB,QAAQ,CAAC9e,CAAD,CAAlB;;CAEA,UAAI2d,OAAO,IAAI,OAAOA,OAAO,CAAC3c,IAAf,KAAwB,UAAvC,EAAmD;CAClD2c,QAAAA,OAAO,CAAC3c,IAAR,CAAaD,OAAb,EAAsBwE,MAAtB;CACA,OAFD,MAEO;CACNxE,QAAAA,OAAO,CAAC4c,OAAD,CAAP;CACA;CACD;CACD,GAVM,CAAP;CAWA,CAhBD;;AAkBA7c,UAAO,CAACC,OAAR,GAAkB,UAAUsB,KAAV,EAAiB;CAClC,MAAIA,KAAK,IAAI,QAAOA,KAAP,MAAiB,QAA1B,IAAsCA,KAAK,CAAC+D,WAAN,KAAsBtF,SAAhE,EAAyE;CACxE,WAAOuB,KAAP;CACA;;CAED,SAAO,IAAIvB,SAAJ,CAAY,UAAUC,OAAV,EAAmB;CACrCA,IAAAA,OAAO,CAACsB,KAAD,CAAP;CACA,GAFM,CAAP;CAGA,CARD;;AAUAvB,UAAO,CAACyE,MAAR,GAAiB,UAAUuY,MAAV,EAAkB;CAClC,SAAO,IAAIhd,SAAJ,CAAY,UAAUC,OAAV,EAAmBwE,MAAnB,EAA2B;CAC7CA,IAAAA,MAAM,CAACuY,MAAD,CAAN;CACA,GAFM,CAAP;CAGA,CAJD;;CAMA,UAAc,GAAGhd,SAAjB;;CC9RA,IAAMoe,SAAS,GAAG;CAAE,oBAAkBC,IAApB;CAA+C,sBAAoBC;CAAnE,CAAlB;CACA,IAAI,CAACrW,cAAAA,CAAKjI,OAAV,EAAmBiI,cAAAA,CAAKjI,OAALiI,GAAesW,MAAftW;CAEnB,IAAMtI,iBAAiB,GAAGyE,MAAM,CAACkB,WAAP,CAAmB1F,SAA7C;;CACA,IAAM4e,IAAI,GAAG,IAAIJ,SAAS,CAAC,gBAAD,CAAT,CAA4BhK,WAAhC,CAA4C;CAAE/M,EAAAA,MAAM,EAAE;CAAV,CAA5C,CAAb;;CAEA1H,iBAAiB,CAACmP,GAAlB,GAAwB,UAASC,KAAT,EAAgBlN,IAAhB,EAAsB;CAC7C,SAAO2c,IAAI,CAACxY,SAAL,CAAe+I,KAAf,EAAsBlN,IAAtB,CAAP;CACA,CAFD;;CAIA,IAAMJ,WAAW,GAAG9B,iBAAiB,CAAC8B,WAAtC;;CACA9B,iBAAiB,CAAC8B,WAAlB,GAAgC,UAAUhB,GAAV,EAAe8E,MAAf,EAAuB;CACtD,MAAI9E,GAAG,CAACpC,KAAJ,CAAU,CAAC,CAAX,MAAkB,OAAtB,EACC,OAAOoD,WAAW,CAAC0C,IAAZ,CAAiB,IAAjB,EAAuB1D,GAAvB,EAA4B8E,MAA5B,CAAP,CADD,KAEK,IAAI9E,GAAG,CAACpC,KAAJ,CAAU,CAAC,CAAX,MAAkB,MAAtB,EACL;CACC,QAAIogB,IAAI,GAAG9Z,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAX;CACA6Z,IAAAA,IAAI,CAACC,GAAL,GAAW,YAAX;CACAD,IAAAA,IAAI,CAAC5S,IAAL,GAAY,UAAZ;CACA4S,IAAAA,IAAI,CAACxgB,IAAL,GAAYwC,GAAZ;CACAkE,IAAAA,QAAQ,CAACK,IAAT,CAAcG,WAAd,CAA0BsZ,IAA1B;CACA,WAAO,CAAC,EAAD,EAAK,YAAY;CAAE,aAAO;CAAC,mBAAWzd;CAAZ,OAAP;CAA+B,KAAlD,CAAP;CACA;CAGD,MAAMjB,MAAM,GAAG,IAAf;;CACA,MAAIU,GAAG,CAAC,CAAD,CAAH,KAAW,GAAf,EAAoB;CACnB,QAAI2d,SAAS,CAAC3d,GAAD,CAAb,EACC,OAAO,CAAC,EAAD,EAAK,UAAUmB,OAAV,EAAmB;CAC9BA,MAAAA,OAAO,CAAC,SAAD,EAAYwc,SAAS,CAAC3d,GAAD,CAArB,CAAP;;CACA,UAAMwJ,CAAC,GAAG7I,MAAM,CAAC4I,IAAP,CAAYoU,SAAS,CAAC3d,GAAD,CAArB,CAAV;;CACA,WAAK,IAAIvB,CAAT,IAAc+K,CAAd;CAAiBrI,QAAAA,OAAO,CAACqI,CAAC,CAAC/K,CAAD,CAAF,EAAOkf,SAAS,CAAC3d,GAAD,CAAT,CAAewJ,CAAC,CAAC/K,CAAD,CAAhB,CAAP,CAAP;CAAjB;;CACA,aAAO;CAAEmD,QAAAA,OAAF,mBAAW0H,CAAX,EAAc;CAAd,OAAP;CACA,KALM,CAAP,CADD,KAOK,MAAM,IAAIpI,KAAJ,gCAAkClB,GAAlC,gCAAN;CACL;;CAED,SAAO+E,OAAK,CAAC/E,GAAD,CAAL,CACLP,IADK,CACA,UAAUmM,QAAV,EAAoB;CACzB,QAAI;CACH,cAAQA,QAAQ,CAACsS,WAAjB;CACC,aAAK,wBAAL;CACE,iBAAOtS,QAAQ,CAACvG,IAAhB;;CACF,aAAK,kBAAL;CACE,iBAAOnG,iBAAiB,CAACmP,GAAlB,CAAsBzC,QAAQ,CAACvG,IAA/B,EAAqCrF,GAArC,EAA0C+R,IAAjD;;CACF;CACE,iBAAO,kCAAkCnG,QAAQ,CAACvG,IAAT,CAAcnH,OAAd,CAAsB,KAAtB,EAA6B,MAA7B,EAAqCA,OAArC,CAA6C,KAA7C,EAAoD,MAApD,CAAlC,GAAgG,OAAvG;CANH;CAQA,KATD,CASE,OAAOmZ,EAAP,EAAW;CACZxJ,MAAAA,OAAO,CAAC/J,KAAR,CAAc,wBAAwB9D,GAAxB,GAA8B,IAA9B,GAAqCqX,EAAE,CAAC8G,WAAxC,IAAuD9G,EAAE,CAAChB,OAAxE,EAAiFgB,EAAE,CAACzG,KAAH,IAAY,EAA7F,EAAiG,CAAChF,QAAQ,CAACvG,IAAV,CAAjG;CACA,YAAMgS,EAAN;CACA;CACD,GAfK,EAeH,UAACkF,MAAD,EAAY;CAAC,UAAM,IAAIrb,KAAJ,CAAU,kBAAkBqb,MAAlB,IAA4BzX,MAAM,GAAG,oBAAoBA,MAAvB,GAAgC,EAAlE,CAAV,CAAN;CAAwF,GAflG,EAgBLrF,IAhBK,CAgBA,UAAC6F,MAAD,EAAY;CAChB,QAAG;CACD,OAAC,GAAGE,IAAJ,EAAUF,MAAM,GAAG,kBAAT,GAA8BtF,GAAxC;CACD,KAFD,CAEE,OAAOqX,EAAP,EAAW;CACXxJ,MAAAA,OAAO,CAAC/J,KAAR,CAAc,sBAAsB9D,GAAtB,GAA4B,IAA5B,GAAmCqX,EAAE,CAAC8G,WAAtC,IAAqD9G,EAAE,CAAChB,OAAtE,EAA+EgB,EAAE,CAACzG,KAAH,IAAY,EAA3F,EAA+F,CAACtL,MAAD,CAA/F;CACA,YAAM+R,EAAN;CACD;;CACD,WAAO/X,MAAM,CAACe,WAAP,EAAP;CACD,GAxBK,EAwBHqC,KAxBG,CAwBG,UAAC2T,OAAD,EAAa;CAACxI,IAAAA,OAAO,CAAC/J,KAAR,CAAc,yBAAyB9D,GAAzB,GAA+B,IAA/B,GAAsCqW,OAAO,CAAC8H,WAA9C,IAA6D9H,OAAO,CAACA,OAAnF,EAA4FA,OAAO,CAACzF,KAAR,IAAiB,EAA7G;CAAkH,UAAM,IAAI1P,KAAJ,CAAUmV,OAAV,CAAN;CAA0B,GAxB7J,CAAP;CAyBA,CAnDD;;;;;;;;;;;;CA+DA,IAAM7W,SAAO,GAAGN,iBAAiB,CAACM,OAAlC;;CACAN,iBAAiB,CAACM,OAAlB,GAA4B,UAAUH,EAAV,EAAcrB,SAAd,EAAyB;CACpD,MAAIqB,EAAE,CAAC,CAAD,CAAF,KAAU,GAAd,EACC,OAAOA,EAAP;CACD,SAAOG,SAAO,CAACkE,IAAR,CAAa,IAAb,EAAmBrE,EAAnB,EAAuBrB,SAAvB,CAAP;CACA,CAJD;;CAMA,SAAS+G,OAAT,CAAgB/E,GAAhB,EAAqB;CACpB,SAAO,IAAIT,OAAJ,CAAa,UAACC,OAAD,EAAUwE,MAAV,EAAqB;CACtC,QAAIoa,EAAE,GAAG,IAAIC,cAAJ,EAAT;CACAD,IAAAA,EAAE,CAACE,IAAH,CAAQ,KAAR,EAAete,GAAf;CACAoe,IAAAA,EAAE,CAACpZ,WAAH,GAAiB,aAAjB;;CACAoZ,IAAAA,EAAE,CAACG,MAAH,GAAY,YAAW;CAAE,UAAIH,EAAE,CAACjZ,MAAH,IAAa,GAAjB,EAAsB3F,OAAO,CAAC;CAAC6F,QAAAA,IAAI,EAAE+Y,EAAE,CAACI,YAAV;CAAwBN,QAAAA,WAAW,EAAE,CAACE,EAAE,CAACK,iBAAH,CAAqB,cAArB,KAAsC,YAAvC,EAAqDhhB,KAArD,CAA2D,GAA3D,EAAgE,CAAhE,EAAmE0T,WAAnE;CAArC,OAAD,CAAP,CAAtB,KAA4JnN,MAAM,CAACoa,EAAE,CAACjZ,MAAH,GAAY,GAAZ,GAAkBiZ,EAAE,CAAChZ,UAAtB,CAAN;CAAwC,KAA7N;;CACAgZ,IAAAA,EAAE,CAACM,OAAH,GAAa,YAAW;CAAC1a,MAAAA,MAAM,CAACoa,EAAE,CAACjZ,MAAH,GAAY,IAAZ,GAAmBiZ,EAAE,CAAChZ,UAAvB,CAAN;CAA0C,KAAnE;;CACAgZ,IAAAA,EAAE,CAACO,IAAH;CACD,GAPK,CAAP;;;;;;;;;;;"}