{"version":3,"file":"webapp-systemjs.es.js","sources":["../../node_modules/.registry.npmjs.org/systemjs/3.1.6/node_modules/systemjs/dist/s.js","../../node_modules/.registry.npmjs.org/systemjs/3.1.6/node_modules/systemjs/dist/extras/named-exports.js","../../node_modules/.registry.npmjs.org/systemjs/3.1.6/node_modules/systemjs/dist/extras/named-register.js","../../node_modules/.registry.npmjs.org/systemjs/3.1.6/node_modules/systemjs/dist/extras/amd.js","../../node_modules/.registry.npmjs.org/pinkie/2.0.4/node_modules/pinkie/index.js","../types/dist/app/UI.js","../types/dist/app/index.js","../types/dist/webapp/index.js","../types/dist/registry/index.js","../types/dist/index.js","../core/dist/components/BaseComponent.js","../core/dist/components/Async.js","../core/dist/components/index.js","../core/dist/services/Data.js","../core/dist/services/Events.js","../core/dist/services/loaders/Browser.js","../core/dist/services/loaders/NodeJs.js","../core/dist/services/Loader.js","../core/dist/services/Parsers.js","../core/dist/services/Processor.js","../core/dist/services/Navigation.js","../core/dist/services/Transformer.js","../core/dist/services/index.js","../core/dist/app.js","../core/dist/index.js","../webapp/dist/services/WebUI.js","../webapp/dist/WebApp.js","../webapp/dist/services/Parsers.js","../webapp/dist/services/Transformer.js","../webapp/dist/services/index.js","../webapp/dist/index.js","lib/system.js"],"sourcesContent":["/*\n* SJS 3.1.6\n* Minimal SystemJS Build\n*/\n(function () {\n  const hasSelf = typeof self !== 'undefined';\r\n\r\n  const envGlobal = hasSelf ? self : global;\r\n\r\n  let baseUrl;\r\n  if (typeof location !== 'undefined') {\r\n    baseUrl = location.href.split('#')[0].split('?')[0];\r\n    const lastSepIndex = baseUrl.lastIndexOf('/');\r\n    if (lastSepIndex !== -1)\r\n      baseUrl = baseUrl.slice(0, lastSepIndex + 1);\r\n  }\r\n\r\n  const backslashRegEx = /\\\\/g;\r\n  function resolveIfNotPlainOrUrl (relUrl, parentUrl) {\r\n    if (relUrl.indexOf('\\\\') !== -1)\r\n      relUrl = relUrl.replace(backslashRegEx, '/');\r\n    // protocol-relative\r\n    if (relUrl[0] === '/' && relUrl[1] === '/') {\r\n      return parentUrl.slice(0, parentUrl.indexOf(':') + 1) + relUrl;\r\n    }\r\n    // relative-url\r\n    else if (relUrl[0] === '.' && (relUrl[1] === '/' || relUrl[1] === '.' && (relUrl[2] === '/' || relUrl.length === 2 && (relUrl += '/')) ||\r\n        relUrl.length === 1  && (relUrl += '/')) ||\r\n        relUrl[0] === '/') {\r\n      const parentProtocol = parentUrl.slice(0, parentUrl.indexOf(':') + 1);\r\n      // Disabled, but these cases will give inconsistent results for deep backtracking\r\n      //if (parentUrl[parentProtocol.length] !== '/')\r\n      //  throw new Error('Cannot resolve');\r\n      // read pathname from parent URL\r\n      // pathname taken to be part after leading \"/\"\r\n      let pathname;\r\n      if (parentUrl[parentProtocol.length + 1] === '/') {\r\n        // resolving to a :// so we need to read out the auth and host\r\n        if (parentProtocol !== 'file:') {\r\n          pathname = parentUrl.slice(parentProtocol.length + 2);\r\n          pathname = pathname.slice(pathname.indexOf('/') + 1);\r\n        }\r\n        else {\r\n          pathname = parentUrl.slice(8);\r\n        }\r\n      }\r\n      else {\r\n        // resolving to :/ so pathname is the /... part\r\n        pathname = parentUrl.slice(parentProtocol.length + (parentUrl[parentProtocol.length] === '/'));\r\n      }\r\n\r\n      if (relUrl[0] === '/')\r\n        return parentUrl.slice(0, parentUrl.length - pathname.length - 1) + relUrl;\r\n\r\n      // join together and split for removal of .. and . segments\r\n      // looping the string instead of anything fancy for perf reasons\r\n      // '../../../../../z' resolved to 'x/y' is just 'z'\r\n      const segmented = pathname.slice(0, pathname.lastIndexOf('/') + 1) + relUrl;\r\n\r\n      const output = [];\r\n      let segmentIndex = -1;\r\n      for (let i = 0; i < segmented.length; i++) {\r\n        // busy reading a segment - only terminate on '/'\r\n        if (segmentIndex !== -1) {\r\n          if (segmented[i] === '/') {\r\n            output.push(segmented.slice(segmentIndex, i + 1));\r\n            segmentIndex = -1;\r\n          }\r\n        }\r\n\r\n        // new segment - check if it is relative\r\n        else if (segmented[i] === '.') {\r\n          // ../ segment\r\n          if (segmented[i + 1] === '.' && (segmented[i + 2] === '/' || i + 2 === segmented.length)) {\r\n            output.pop();\r\n            i += 2;\r\n          }\r\n          // ./ segment\r\n          else if (segmented[i + 1] === '/' || i + 1 === segmented.length) {\r\n            i += 1;\r\n          }\r\n          else {\r\n            // the start of a new segment as below\r\n            segmentIndex = i;\r\n          }\r\n        }\r\n        // it is the start of a new segment\r\n        else {\r\n          segmentIndex = i;\r\n        }\r\n      }\r\n      // finish reading out the last segment\r\n      if (segmentIndex !== -1)\r\n        output.push(segmented.slice(segmentIndex));\r\n      return parentUrl.slice(0, parentUrl.length - pathname.length) + output.join('');\r\n    }\r\n  }\n\n  /*\r\n   * SystemJS Core\r\n   * \r\n   * Provides\r\n   * - System.import\r\n   * - System.register support for\r\n   *     live bindings, function hoisting through circular references,\r\n   *     reexports, dynamic import, import.meta.url, top-level await\r\n   * - System.getRegister to get the registration\r\n   * - Symbol.toStringTag support in Module objects\r\n   * - Hookable System.createContext to customize import.meta\r\n   * - System.onload(id, err?) handler for tracing / hot-reloading\r\n   * \r\n   * Core comes with no System.prototype.resolve or\r\n   * System.prototype.instantiate implementations\r\n   */\r\n\r\n  const hasSymbol = typeof Symbol !== 'undefined';\r\n  const toStringTag = hasSymbol && Symbol.toStringTag;\r\n  const REGISTRY = hasSymbol ? Symbol() : '@';\r\n\r\n  function SystemJS () {\r\n    this[REGISTRY] = {};\r\n  }\r\n\r\n  const systemJSPrototype = SystemJS.prototype;\r\n  systemJSPrototype.import = function (id, parentUrl) {\r\n    const loader = this;\r\n    return Promise.resolve(loader.resolve(id, parentUrl))\r\n    .then(function (id) {\r\n      const load = getOrCreateLoad(loader, id);\r\n      return load.C || topLevelLoad(loader, load);\r\n    });\r\n  };\r\n\r\n  // Hookable createContext function -> allowing eg custom import meta\r\n  systemJSPrototype.createContext = function (parentId) {\r\n    return {\r\n      url: parentId\r\n    };\r\n  };\r\n\r\n  let lastRegister;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    lastRegister = [deps, declare];\r\n  };\r\n\r\n  /*\r\n   * getRegister provides the last anonymous System.register call\r\n   */\r\n  systemJSPrototype.getRegister = function () {\r\n    const _lastRegister = lastRegister;\r\n    lastRegister = undefined;\r\n    return _lastRegister;\r\n  };\r\n\r\n  function getOrCreateLoad (loader, id, firstParentUrl) {\r\n    let load = loader[REGISTRY][id];\r\n    if (load)\r\n      return load;\r\n\r\n    const importerSetters = [];\r\n    const ns = Object.create(null);\r\n    if (toStringTag)\r\n      Object.defineProperty(ns, toStringTag, { value: 'Module' });\r\n    \r\n    let instantiatePromise = Promise.resolve()\r\n    .then(function () {\r\n      return loader.instantiate(id, firstParentUrl);\r\n    })\r\n    .then(function (registration) {\r\n      if (!registration)\r\n        throw new Error('Module ' + id + ' did not instantiate');\r\n      function _export (name, value) {\r\n        // note if we have hoisted exports (including reexports)\r\n        load.h = true;\r\n        let changed = false;\r\n        if (typeof name !== 'object') {\r\n          if (!(name in ns) || ns[name] !== value) {\r\n            ns[name] = value;\r\n            changed = true;\r\n          }\r\n        }\r\n        else {\r\n          for (let p in name) {\r\n            let value = name[p];\r\n            if (!(p in ns) || ns[p] !== value) {\r\n              ns[p] = value;\r\n              changed = true;\r\n            }\r\n          }\r\n        }\r\n        if (changed)\r\n          for (let i = 0; i < importerSetters.length; i++)\r\n            importerSetters[i](ns);\r\n        return value;\r\n      }\r\n      const declared = registration[1](_export, registration[1].length === 2 ? {\r\n        import: function (importId) {\r\n          return loader.import(importId, id);\r\n        },\r\n        meta: loader.createContext(id)\r\n      } : undefined);\r\n      load.e = declared.execute || function () {};\r\n      return [registration[0], declared.setters || []];\r\n    });\r\n\r\n    const linkPromise = instantiatePromise\r\n    .then(function (instantiation) {\r\n      return Promise.all(instantiation[0].map(function (dep, i) {\r\n        const setter = instantiation[1][i];\r\n        return Promise.resolve(loader.resolve(dep, id))\r\n        .then(function (depId) {\r\n          const depLoad = getOrCreateLoad(loader, depId, id);\r\n          // depLoad.I may be undefined for already-evaluated\r\n          return Promise.resolve(depLoad.I)\r\n          .then(function () {\r\n            if (setter) {\r\n              depLoad.i.push(setter);\r\n              // only run early setters when there are hoisted exports of that module\r\n              // the timing works here as pending hoisted export calls will trigger through importerSetters\r\n              if (depLoad.h || !depLoad.I)\r\n                setter(depLoad.n);\r\n            }\r\n            return depLoad;\r\n          });\r\n        })\r\n      }))\r\n      .then(function (depLoads) {\r\n        load.d = depLoads;\r\n      });\r\n    });\r\n\r\n    linkPromise.catch(function (err) {\r\n      load.e = null;\r\n      load.er = err;\r\n    });\r\n\r\n    // Captial letter = a promise function\r\n    return load = loader[REGISTRY][id] = {\r\n      id: id,\r\n      // importerSetters, the setters functions registered to this dependency\r\n      // we retain this to add more later\r\n      i: importerSetters,\r\n      // module namespace object\r\n      n: ns,\r\n\r\n      // instantiate\r\n      I: instantiatePromise,\r\n      // link\r\n      L: linkPromise,\r\n      // whether it has hoisted exports\r\n      h: false,\r\n\r\n      // On instantiate completion we have populated:\r\n      // dependency load records\r\n      d: undefined,\r\n      // execution function\r\n      // set to NULL immediately after execution (or on any failure) to indicate execution has happened\r\n      // in such a case, pC should be used, and pLo, pLi will be emptied\r\n      e: undefined,\r\n\r\n      // On execution we have populated:\r\n      // the execution error if any\r\n      er: undefined,\r\n      // in the case of TLA, the execution promise\r\n      E: undefined,\r\n\r\n      // On execution, pLi, pLo, e cleared\r\n\r\n      // Promise for top-level completion\r\n      C: undefined\r\n    };\r\n  }\r\n\r\n  function instantiateAll (loader, load, loaded) {\r\n    if (!loaded[load.id]) {\r\n      loaded[load.id] = true;\r\n      // load.L may be undefined for already-instantiated\r\n      return Promise.resolve(load.L)\r\n      .then(function () {\r\n        return Promise.all(load.d.map(function (dep) {\r\n          return instantiateAll(loader, dep, loaded);\r\n        }));\r\n      })\r\n    }\r\n  }\r\n\r\n  function topLevelLoad (loader, load) {\r\n    return load.C = instantiateAll(loader, load, {})\r\n    .then(function () {\r\n      return postOrderExec(loader, load, {});\r\n    })\r\n    .then(function () {\r\n      return load.n;\r\n    });\r\n  }\r\n\r\n  // the closest we can get to call(undefined)\r\n  const nullContext = Object.freeze(Object.create(null));\r\n\r\n  // returns a promise if and only if a top-level await subgraph\r\n  // throws on sync errors\r\n  function postOrderExec (loader, load, seen) {\r\n    if (seen[load.id])\r\n      return;\r\n    seen[load.id] = true;\r\n\r\n    if (!load.e) {\r\n      if (load.er)\r\n        throw load.er;\r\n      if (load.E)\r\n        return load.E;\r\n      return;\r\n    }\r\n\r\n    // deps execute first, unless circular\r\n    let depLoadPromises;\r\n    load.d.forEach(function (depLoad) {\r\n      {\r\n        const depLoadPromise = postOrderExec(loader, depLoad, seen);\r\n        if (depLoadPromise)\r\n          (depLoadPromises = depLoadPromises || []).push(depLoadPromise);\r\n      }\r\n    });\r\n    if (depLoadPromises) {\r\n      return Promise.all(depLoadPromises).then(doExec);\r\n    }\r\n\r\n    return doExec();\r\n\r\n    function doExec () {\r\n      try {\r\n        let execPromise = load.e.call(nullContext);\r\n        if (execPromise) {\r\n          execPromise = execPromise.then(function () {\r\n              load.C = load.n;\r\n              load.E = null;\r\n            });\r\n          return load.E = load.E || execPromise;\r\n        }\r\n        // (should be a promise, but a minify optimization to leave out Promise.resolve)\r\n        load.C = load.n;\r\n      }\r\n      catch (err) {\r\n        load.er = err;\r\n        throw err;\r\n      }\r\n      finally {\r\n        load.L = load.I = undefined;\r\n        load.e = null;\r\n      }\r\n    }\r\n  }\r\n\r\n  envGlobal.System = new SystemJS();\n\n  /*\r\n   * Supports loading System.register via script tag injection\r\n   */\r\n\r\n  let err;\r\n  if (typeof window !== 'undefined')\r\n    window.addEventListener('error', function (e) {\r\n      err = e.error;\r\n    });\r\n\r\n  const systemRegister = systemJSPrototype.register;\r\n  systemJSPrototype.register = function (deps, declare) {\r\n    err = undefined;\r\n    systemRegister.call(this, deps, declare);\r\n  };\r\n\r\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\r\n    const loader = this;\r\n    return new Promise(function (resolve, reject) {\r\n      const script = document.createElement('script');\r\n      script.charset = 'utf-8';\r\n      script.async = true;\r\n      script.crossOrigin = 'anonymous';\r\n      script.addEventListener('error', function () {\r\n        reject(new Error('Error loading ' + url + (firstParentUrl ? ' from ' + firstParentUrl : '')));\r\n      });\r\n      script.addEventListener('load', function () {\r\n        document.head.removeChild(script);\r\n        // Note URL normalization issues are going to be a careful concern here\r\n        if (err) {\r\n          reject(err);\r\n          return err = undefined;\r\n        }\r\n        else {\r\n          resolve(loader.getRegister());\r\n        }\r\n      });\r\n      script.src = url;\r\n      document.head.appendChild(script);\r\n    });\r\n  };\n\n  /*\r\n   * Supports loading System.register in workers\r\n   */\r\n\r\n  if (hasSelf && typeof importScripts === 'function')\r\n    systemJSPrototype.instantiate = function (url) {\r\n      const loader = this;\r\n      return new Promise(function (resolve, reject) {\r\n        try {\r\n          importScripts(url);\r\n        }\r\n        catch (e) {\r\n          reject(e);\r\n        }\r\n        resolve(loader.getRegister());\r\n      });\r\n    };\n\n  systemJSPrototype.resolve = function (id, parentUrl) {\r\n    const resolved = resolveIfNotPlainOrUrl(id, parentUrl || baseUrl);\r\n    if (!resolved) {\r\n      if (id.indexOf(':') !== -1)\r\n        return Promise.resolve(id);\r\n      throw new Error('Cannot resolve \"' + id + (parentUrl ? '\" from ' + parentUrl : '\"'));\r\n    }\r\n    return Promise.resolve(resolved);\r\n  };\n\n}());\n","/*\r\n * Named exports support for legacy module formats in SystemJS 2.0\r\n */\r\n(function () {\r\n  const systemPrototype = System.constructor.prototype;\r\n  \r\n  // hook System.register to know the last declaration binding\r\n  let lastRegisterDeclare;\r\n  const systemRegister = systemPrototype.register;\r\n  systemPrototype.register = function (deps, declare) {\r\n    lastRegisterDeclare = declare;\r\n    systemRegister.call(this, deps, declare);\r\n  };\r\n\r\n  const getRegister = systemPrototype.getRegister;\r\n  systemPrototype.getRegister = function () {\r\n    const register = getRegister.call(this);\r\n    // if it is an actual System.register call, then its ESM\r\n    // -> dont add named exports\r\n    if (!register || register[1] === lastRegisterDeclare || register[1].length === 0)\r\n      return register;\r\n    \r\n    // otherwise it was provided by a custom instantiator\r\n    // -> extend the registration with named exports support\r\n    const registerDeclare = register[1];\r\n    register[1] = function (_export, _context) {\r\n      // hook the _export function to note the default export\r\n      let defaultExport;\r\n      const declaration = registerDeclare.call(this, function (name, value) {\r\n        if (name === 'default')\r\n          defaultExport = value;\r\n        _export(name, value);\r\n      }, _context);\r\n      // hook the execute function\r\n      const execute = declaration.execute;\r\n      if (execute)\r\n        declaration.execute = function () {\r\n          execute.call(this);\r\n          // do a bulk export of the default export object\r\n          // to export all its names as named exports\r\n          if (typeof defaultExport === 'object')\r\n            _export(defaultExport);\r\n        };\r\n      return declaration;\r\n    };\r\n    return register;\r\n  };\r\n})();","/*\r\n * SystemJS named register extension\r\n * Supports System.register('name', [..deps..], function (_export, _context) { ... })\r\n * \r\n * Names are written to the registry as-is\r\n * System.register('x', ...) can be imported as System.import('x')\r\n */\r\n(function () {\r\n  const systemJSPrototype = System.constructor.prototype;\r\n\r\n  const constructor = System.constructor;\r\n  const SystemJS = function () {\r\n    constructor.call(this);\r\n    this.registerRegistry = Object.create(null);\r\n  };\r\n  SystemJS.prototype = systemJSPrototype;\r\n  System = new SystemJS();\r\n\r\n  const register = systemJSPrototype.register;\r\n  systemJSPrototype.register = function (name, deps, declare) {\r\n    if (typeof name !== 'string')\r\n      return register.apply(this, arguments);\r\n\r\n    this.registerRegistry[name] = [deps, declare];\r\n\r\n    // Provide an empty module to signal success.\r\n    return register.call(this, [], function () { return {}; });\r\n  };\r\n\r\n  const resolve = systemJSPrototype.resolve;\r\n  systemJSPrototype.resolve = function (id, parentURL) {\r\n    if (id[0] === '/' || id[0] === '.' && (id[1] === '/' || id[1] === '.' && id[2] === '/'))\r\n      return resolve.call(this, id, parentURL);\r\n    if (id in this.registerRegistry)\r\n      return id;\r\n    return resolve.call(this, id, parentURL);\r\n  };\r\n\r\n  const instantiate = systemJSPrototype.instantiate;\r\n  systemJSPrototype.instantiate = function (url, firstParentUrl) {\r\n    return this.registerRegistry[url] || instantiate.call(this, url, firstParentUrl);\r\n  };\r\n})();","/*\r\n * Support for AMD loading\r\n */\r\n(function (global) {\r\n  const systemPrototype = System.constructor.prototype;\r\n\r\n  const emptyInstantiation = [[], function () { return {} }];\r\n\r\n  function unsupportedRequire () {\r\n    throw new Error('AMD require not supported.');\r\n  }\r\n\r\n  function emptyFn () {}\r\n\r\n  const requireExportsModule = ['require', 'exports', 'module'];\r\n\r\n  function createAMDRegister (amdDefineDeps, amdDefineExec) {\r\n    const exports = {};\r\n    const module = { exports: exports };\r\n    const depModules = [];\r\n    const setters = [];\r\n    let splice = 0;\r\n    for (let i = 0; i < amdDefineDeps.length; i++) {\r\n      const id = amdDefineDeps[i];\r\n      const index = setters.length;\r\n      if (id === 'require') {\r\n        depModules[i] = unsupportedRequire;\r\n        splice++;\r\n      }\r\n      else if (id === 'module') {\r\n        depModules[i] = module;\r\n        splice++;\r\n      }\r\n      else if (id === 'exports') {\r\n        depModules[i] = exports;\r\n        splice++;\r\n      }\r\n      else {\r\n        // needed for ie11 lack of iteration scope\r\n        const idx = i;\r\n        setters.push(function (ns) {\r\n          depModules[idx] = ns.default;\r\n        });\r\n      }\r\n      if (splice)\r\n        amdDefineDeps[index] = id;\r\n    }\r\n    if (splice)\r\n      amdDefineDeps.length -= splice;\r\n    const amdExec = amdDefineExec;\r\n    return [amdDefineDeps, function (_export) {\r\n      _export('default', exports);\r\n      return {\r\n        setters: setters,\r\n        execute: function () {\r\n          module.exports = amdExec.apply(exports, depModules) || module.exports;\r\n          if (exports !== module.exports)\r\n            _export('default', module.exports);\r\n        }\r\n      };\r\n    }];\r\n  }\r\n\r\n  // hook System.register to know the last declaration binding\r\n  let lastRegisterDeclare;\r\n  const systemRegister = systemPrototype.register;\r\n  // if we have named register support continue to use it\r\n  if (systemRegister.length === 3) {\r\n    systemPrototype.register = function (name, deps, declare) {\r\n      if (typeof name !== 'string')\r\n        lastRegisterDeclare = deps;\r\n      systemRegister.apply(this, arguments);\r\n    };\r\n  }\r\n  else {\r\n    systemPrototype.register = function (deps, declare) {\r\n      lastRegisterDeclare = declare;\r\n      systemRegister.apply(this, arguments);\r\n    };\r\n  }\r\n\r\n  const getRegister = systemPrototype.getRegister;\r\n  systemPrototype.getRegister = function () {\r\n    const register = getRegister.call(this);\r\n    // if its an actual System.register leave it\r\n    if (register && register[1] === lastRegisterDeclare)\r\n      return register;\r\n\r\n    // otherwise AMD takes priority\r\n    // no registration -> attempt AMD detection\r\n    if (!amdDefineDeps)\r\n      return register || emptyInstantiation;\r\n\r\n    const registration = createAMDRegister(amdDefineDeps, amdDefineExec);\r\n    amdDefineDeps = null;\r\n    return registration;\r\n  };\r\n  let amdDefineDeps, amdDefineExec;\r\n  global.define = function (name, deps, execute) {\r\n    // define('', [], function () {})\r\n    if (typeof name === 'string') {\r\n      if (amdDefineDeps) {\r\n        if (!System.registerRegistry)\r\n          throw new Error('Include the named register extension for SystemJS named AMD support.');\r\n        System.registerRegistry[name] = createAMDRegister(deps, execute);\r\n        amdDefineDeps = [];\r\n        amdDefineExec = emptyFn;\r\n        return;\r\n      }\r\n      else {\r\n        if (System.registerRegistry)\r\n          System.registerRegistry[name] = createAMDRegister([].concat(deps), execute);\r\n        name = deps;\r\n        deps = execute;\r\n      }\r\n    }\r\n    // define([], function () {})\r\n    if (name instanceof Array) {\r\n      amdDefineDeps = name;\r\n      amdDefineExec = deps;\r\n    }\r\n    // define({})\r\n    else if (typeof name === 'object') {\r\n      amdDefineDeps = [];\r\n      amdDefineExec = function () { return name };\r\n    }\r\n    // define(function () {})\r\n    else if (typeof name === 'function') {\r\n      amdDefineDeps = requireExportsModule;\r\n      amdDefineExec = name;\r\n    }\r\n  };\r\n  global.define.amd = {};\r\n})(typeof self !== 'undefined' ? self : global);","'use strict';\n\nvar PENDING = 'pending';\nvar SETTLED = 'settled';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar NOOP = function () {};\nvar isNode = typeof global !== 'undefined' && typeof global.process !== 'undefined' && typeof global.process.emit === 'function';\n\nvar asyncSetTimer = typeof setImmediate === 'undefined' ? setTimeout : setImmediate;\nvar asyncQueue = [];\nvar asyncTimer;\n\nfunction asyncFlush() {\n\t// run promise callbacks\n\tfor (var i = 0; i < asyncQueue.length; i++) {\n\t\tasyncQueue[i][0](asyncQueue[i][1]);\n\t}\n\n\t// reset async asyncQueue\n\tasyncQueue = [];\n\tasyncTimer = false;\n}\n\nfunction asyncCall(callback, arg) {\n\tasyncQueue.push([callback, arg]);\n\n\tif (!asyncTimer) {\n\t\tasyncTimer = true;\n\t\tasyncSetTimer(asyncFlush, 0);\n\t}\n}\n\nfunction invokeResolver(resolver, promise) {\n\tfunction resolvePromise(value) {\n\t\tresolve(promise, value);\n\t}\n\n\tfunction rejectPromise(reason) {\n\t\treject(promise, reason);\n\t}\n\n\ttry {\n\t\tresolver(resolvePromise, rejectPromise);\n\t} catch (e) {\n\t\trejectPromise(e);\n\t}\n}\n\nfunction invokeCallback(subscriber) {\n\tvar owner = subscriber.owner;\n\tvar settled = owner._state;\n\tvar value = owner._data;\n\tvar callback = subscriber[settled];\n\tvar promise = subscriber.then;\n\n\tif (typeof callback === 'function') {\n\t\tsettled = FULFILLED;\n\t\ttry {\n\t\t\tvalue = callback(value);\n\t\t} catch (e) {\n\t\t\treject(promise, e);\n\t\t}\n\t}\n\n\tif (!handleThenable(promise, value)) {\n\t\tif (settled === FULFILLED) {\n\t\t\tresolve(promise, value);\n\t\t}\n\n\t\tif (settled === REJECTED) {\n\t\t\treject(promise, value);\n\t\t}\n\t}\n}\n\nfunction handleThenable(promise, value) {\n\tvar resolved;\n\n\ttry {\n\t\tif (promise === value) {\n\t\t\tthrow new TypeError('A promises callback cannot return that same promise.');\n\t\t}\n\n\t\tif (value && (typeof value === 'function' || typeof value === 'object')) {\n\t\t\t// then should be retrieved only once\n\t\t\tvar then = value.then;\n\n\t\t\tif (typeof then === 'function') {\n\t\t\t\tthen.call(value, function (val) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\tif (value === val) {\n\t\t\t\t\t\t\tfulfill(promise, val);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresolve(promise, val);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}, function (reason) {\n\t\t\t\t\tif (!resolved) {\n\t\t\t\t\t\tresolved = true;\n\n\t\t\t\t\t\treject(promise, reason);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t} catch (e) {\n\t\tif (!resolved) {\n\t\t\treject(promise, e);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\treturn false;\n}\n\nfunction resolve(promise, value) {\n\tif (promise === value || !handleThenable(promise, value)) {\n\t\tfulfill(promise, value);\n\t}\n}\n\nfunction fulfill(promise, value) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = value;\n\n\t\tasyncCall(publishFulfillment, promise);\n\t}\n}\n\nfunction reject(promise, reason) {\n\tif (promise._state === PENDING) {\n\t\tpromise._state = SETTLED;\n\t\tpromise._data = reason;\n\n\t\tasyncCall(publishRejection, promise);\n\t}\n}\n\nfunction publish(promise) {\n\tpromise._then = promise._then.forEach(invokeCallback);\n}\n\nfunction publishFulfillment(promise) {\n\tpromise._state = FULFILLED;\n\tpublish(promise);\n}\n\nfunction publishRejection(promise) {\n\tpromise._state = REJECTED;\n\tpublish(promise);\n\tif (!promise._handled && isNode) {\n\t\tglobal.process.emit('unhandledRejection', promise._data, promise);\n\t}\n}\n\nfunction notifyRejectionHandled(promise) {\n\tglobal.process.emit('rejectionHandled', promise);\n}\n\n/**\n * @class\n */\nfunction Promise(resolver) {\n\tif (typeof resolver !== 'function') {\n\t\tthrow new TypeError('Promise resolver ' + resolver + ' is not a function');\n\t}\n\n\tif (this instanceof Promise === false) {\n\t\tthrow new TypeError('Failed to construct \\'Promise\\': Please use the \\'new\\' operator, this object constructor cannot be called as a function.');\n\t}\n\n\tthis._then = [];\n\n\tinvokeResolver(resolver, this);\n}\n\nPromise.prototype = {\n\tconstructor: Promise,\n\n\t_state: PENDING,\n\t_then: null,\n\t_data: undefined,\n\t_handled: false,\n\n\tthen: function (onFulfillment, onRejection) {\n\t\tvar subscriber = {\n\t\t\towner: this,\n\t\t\tthen: new this.constructor(NOOP),\n\t\t\tfulfilled: onFulfillment,\n\t\t\trejected: onRejection\n\t\t};\n\n\t\tif ((onRejection || onFulfillment) && !this._handled) {\n\t\t\tthis._handled = true;\n\t\t\tif (this._state === REJECTED && isNode) {\n\t\t\t\tasyncCall(notifyRejectionHandled, this);\n\t\t\t}\n\t\t}\n\n\t\tif (this._state === FULFILLED || this._state === REJECTED) {\n\t\t\t// already resolved, call callback async\n\t\t\tasyncCall(invokeCallback, subscriber);\n\t\t} else {\n\t\t\t// subscribe\n\t\t\tthis._then.push(subscriber);\n\t\t}\n\n\t\treturn subscriber.then;\n\t},\n\n\tcatch: function (onRejection) {\n\t\treturn this.then(null, onRejection);\n\t}\n};\n\nPromise.all = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.all().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tvar results = [];\n\t\tvar remaining = 0;\n\n\t\tfunction resolver(index) {\n\t\t\tremaining++;\n\t\t\treturn function (value) {\n\t\t\t\tresults[index] = value;\n\t\t\t\tif (!--remaining) {\n\t\t\t\t\tresolve(results);\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolver(i), reject);\n\t\t\t} else {\n\t\t\t\tresults[i] = promise;\n\t\t\t}\n\t\t}\n\n\t\tif (!remaining) {\n\t\t\tresolve(results);\n\t\t}\n\t});\n};\n\nPromise.race = function (promises) {\n\tif (!Array.isArray(promises)) {\n\t\tthrow new TypeError('You must pass an array to Promise.race().');\n\t}\n\n\treturn new Promise(function (resolve, reject) {\n\t\tfor (var i = 0, promise; i < promises.length; i++) {\n\t\t\tpromise = promises[i];\n\n\t\t\tif (promise && typeof promise.then === 'function') {\n\t\t\t\tpromise.then(resolve, reject);\n\t\t\t} else {\n\t\t\t\tresolve(promise);\n\t\t\t}\n\t\t}\n\t});\n};\n\nPromise.resolve = function (value) {\n\tif (value && typeof value === 'object' && value.constructor === Promise) {\n\t\treturn value;\n\t}\n\n\treturn new Promise(function (resolve) {\n\t\tresolve(value);\n\t});\n};\n\nPromise.reject = function (reason) {\n\treturn new Promise(function (resolve, reject) {\n\t\treject(reason);\n\t});\n};\n\nmodule.exports = Promise;\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar UI;\r\n(function (UI) {\r\n})(UI = exports.UI || (exports.UI = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar UI_1 = require(\"./UI\");\r\nvar app;\r\n(function (app) {\r\n    app.UI = UI_1.UI;\r\n    var LogLevel;\r\n    (function (LogLevel) {\r\n        LogLevel[LogLevel[\"None\"] = 0] = \"None\";\r\n        LogLevel[LogLevel[\"Exception\"] = 1] = \"Exception\";\r\n        LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\r\n        LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\r\n        LogLevel[LogLevel[\"Info\"] = 4] = \"Info\";\r\n        LogLevel[LogLevel[\"Trace\"] = 5] = \"Trace\";\r\n    })(LogLevel = app.LogLevel || (app.LogLevel = {}));\r\n    var ModuleSystem;\r\n    (function (ModuleSystem) {\r\n        ModuleSystem[\"None\"] = \"none\";\r\n        ModuleSystem[\"CommonJS\"] = \"commonjs\";\r\n        ModuleSystem[\"AMD\"] = \"amd\";\r\n        ModuleSystem[\"UMD\"] = \"umd\";\r\n        ModuleSystem[\"ES\"] = \"es\";\r\n    })(ModuleSystem = app.ModuleSystem || (app.ModuleSystem = {}));\r\n    var LicenseType;\r\n    (function (LicenseType) {\r\n        LicenseType[LicenseType[\"MIT\"] = 0] = \"MIT\";\r\n        LicenseType[LicenseType[\"GNU\"] = 1] = \"GNU\";\r\n    })(LicenseType = app.LicenseType || (app.LicenseType = {}));\r\n})(app = exports.app || (exports.app = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar webapp;\r\n(function (webapp) {\r\n    var browserType;\r\n    (function (browserType) {\r\n        browserType[browserType[\"Opera\"] = 0] = \"Opera\";\r\n        browserType[browserType[\"FireFox\"] = 1] = \"FireFox\";\r\n        browserType[browserType[\"Safari\"] = 2] = \"Safari\";\r\n        browserType[browserType[\"IE\"] = 3] = \"IE\";\r\n        browserType[browserType[\"Edge\"] = 4] = \"Edge\";\r\n        browserType[browserType[\"Chrome\"] = 5] = \"Chrome\";\r\n        browserType[browserType[\"Blink\"] = 6] = \"Blink\";\r\n        browserType[browserType[\"Unknown\"] = 7] = \"Unknown\";\r\n    })(browserType = webapp.browserType || (webapp.browserType = {}));\r\n})(webapp = exports.webapp || (exports.webapp = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar registry;\r\n(function (registry) {\r\n    var itemType;\r\n    (function (itemType) {\r\n        itemType[itemType[\"Service\"] = 0] = \"Service\";\r\n        itemType[itemType[\"Component\"] = 1] = \"Component\";\r\n    })(itemType = registry.itemType || (registry.itemType = {}));\r\n    var licenseType;\r\n    (function (licenseType) {\r\n        licenseType[licenseType[\"MIT\"] = 0] = \"MIT\";\r\n        licenseType[licenseType[\"GNU\"] = 1] = \"GNU\";\r\n    })(licenseType = registry.licenseType || (registry.licenseType = {}));\r\n})(registry = exports.registry || (exports.registry = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar app_1 = require(\"./app\");\r\nvar webapp_1 = require(\"./webapp\");\r\nvar registry_1 = require(\"./registry\");\r\nvar types;\r\n(function (types) {\r\n    types.app = app_1.app;\r\n    types.registry = registry_1.registry;\r\n    types.webapp = webapp_1.webapp;\r\n})(types = exports.types || (exports.types = {}));\r\nexports[\"default\"] = types;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar BaseComponent = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(BaseComponent, _super); /*implements types.Component<P,S>*/\r\n        //state:S\r\n        function BaseComponent(props, context) {\r\n            var _this = _super.call(this, props, context) || this;\r\n            _this.props = props;\r\n            return _this;\r\n        }\r\n        BaseComponent.prototype.renderInternal = function (e, index) {\r\n            var _this = this;\r\n            if (Array.isArray(e)) {\r\n                if (typeof e[0] === \"string\" || typeof e[0] === \"function\" || Promise.resolve(e[0]) === e[0])\r\n                    return app.services.processor.processElement(e, index);\r\n                else {\r\n                    return e.map(function (c, idx) { if (Array.isArray(c)) {\r\n                        if (!c[1])\r\n                            c[1] = {};\r\n                        c[1][\"key\"] = c[1][\"key\"] || idx;\r\n                    } return _this.renderInternal(c, idx); });\r\n                }\r\n            }\r\n            return !e || typeof e === \"string\" ? e : app.services.processor.processElement(e, index);\r\n        };\r\n        BaseComponent.prototype.render = function (props /*, state?: Readonly<S>, context?: any*/) {\r\n            return this.renderInternal(props || this.props.children);\r\n        };\r\n        return BaseComponent;\r\n    }(app.services.UI.Component));\r\n};\r\nexports.BaseComponent = BaseComponent;\r\n{ }\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar Async = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Async, _super);\r\n        function Async(props, context) {\r\n            var _this = _super.call(this, props, context) || this;\r\n            _this.state = {};\r\n            //(Array.isArray(this.props.children) ? Promise.all : Promise.resolve)(this.props.children).then(o => this.setState({value: o  }));\r\n            if (Array.isArray(props.children))\r\n                Promise.all(props.children).then(function (o) { return _this.setState({ value: o }); });\r\n            else //if (Promise.resolve(this.props.children) === this.props.children)\r\n                Promise.resolve(props.children).then(function (o) { return _this.setState({ value: o }); });\r\n            return _this;\r\n        }\r\n        Async.prototype.render = function () {\r\n            return !!this.state.value ? _super.prototype.render.call(this, this.state.value) : null;\r\n        };\r\n        return Async;\r\n    }(app.services.UI.Component));\r\n};\r\nexports.Async = Async;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar BaseComponent_1 = require(\"./BaseComponent\");\r\nexports.BaseComponent = BaseComponent_1.BaseComponent;\r\nvar Async_1 = require(\"./Async\");\r\nexports.Async = Async_1.Async;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar components_1 = require(\"../components\");\r\nfunction clone(o) {\r\n    if (Array.isArray(o))\r\n        return o.map(function (o) { return clone(o); });\r\n    else if (typeof o === \"object\") {\r\n        var z = Object.create(o);\r\n        Object.keys(o).forEach(function (k) { return z[k] = o[k]; });\r\n        return z;\r\n    }\r\n    else\r\n        return o;\r\n}\r\nvar SM = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Bind, _super);\r\n        function Bind(props, context) {\r\n            var _this = _super.call(this, props, context) || this;\r\n            var s = {};\r\n            _this.state = { loaded: typeof props.data !== \"string\", data: clone(props.data), subscribers: s };\r\n            if (typeof props.data === \"string\")\r\n                app.services.moduleSystem[\"import\"](props.data).then(function (x) { return _this.setState({ data: clone(x) }, function () { _this.visit.call(_this, props.childArray, s); _this.setState({ loaded: true }); }); });\r\n            else\r\n                _this.visit.call(_this, props.childArray, s);\r\n            _this.render = _this.render.bind(_this);\r\n            return _this;\r\n        }\r\n        Bind.prototype.setValue = function (path, value) {\r\n            this.state.subscribers[path].forEach(function (s) { if (s.value != value)\r\n                s.value = value; });\r\n            this.setState({ data: (new Function('data', 'path', 'value', 'data' + (path[0] === '[' ? '' : '.') + path + ' = value; return data;'))(this.state.data, path, value) });\r\n        };\r\n        Bind.prototype.getValue = function (path) {\r\n            return (new Function('data', 'path', 'return data' + (path[0] === '[' ? '' : '.') + path))(this.state.data, path);\r\n        };\r\n        Bind.prototype.subscribe = function (a, s) {\r\n            var _this = this;\r\n            var path = a[\"bind\"];\r\n            a.onChange = function (v) { return _this.setValue.call(_this, path, v.target.value); };\r\n            a.value = this.getValue.call(this, path);\r\n            if (s[path] === undefined)\r\n                s[path] = [];\r\n            s[path].push(a);\r\n        };\r\n        Bind.prototype.visit = function (obj, s) {\r\n            var _this = this;\r\n            if (Array.isArray(obj)) {\r\n                obj.forEach(function (e) {\r\n                    if (Array.isArray(e) && e[0] != \"Data.bind\") {\r\n                        if (e[1] && typeof e[1] === \"object\" && e[1][\"bind\"])\r\n                            _this.subscribe(e[1], s);\r\n                        if (e[2] && Array.isArray(e[2]))\r\n                            _this.visit(e[2], s);\r\n                    }\r\n                });\r\n            }\r\n        };\r\n        //render(e:types.app.promisedElement) {\r\n        Bind.prototype.render = function (props /*, state?: Readonly<S>, context?: any*/) {\r\n            return this.state.loaded ? _super.prototype.render.call(this, !!props ? props : this.props.childArray) : null;\r\n        };\r\n        return Bind;\r\n    }(components_1.BaseComponent(app)));\r\n};\r\nvar Data = {\r\n    bind: function transform(a, c) {\r\n        return [SM, { data: a, childArray: c }];\r\n        //return [\"div\", a, c];\r\n    },\r\n    format: function transform(str) {\r\n        var s = str.toString() || \"\";\r\n        return s;\r\n    }\r\n};\r\nexports.Data = Data;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Events = /** @class */ (function () {\r\n    function Events(_a) {\r\n        this.callbacks = {};\r\n        if (typeof window === \"object\")\r\n            window.addEventListener(\"message\", this.onWindowMessage.bind(this));\r\n    }\r\n    Events.prototype.onWindowMessage = function (ev) {\r\n        if (typeof ev.data === \"object\" && typeof ev.data.type === \"string\")\r\n            this.publish(ev.data);\r\n    };\r\n    Events.prototype.subscribe = function (eventType, callback) {\r\n        //console.log(callback);\r\n        if (!this.callbacks[eventType.type])\r\n            this.callbacks[eventType.type] = [];\r\n        this.callbacks[eventType.type].push({ type: eventType, correlationId: eventType.correlationId, callback: callback });\r\n    };\r\n    Events.prototype.unsubscribe = function (eventType, callback) {\r\n        //console.log(callback);\r\n        var callbacks;\r\n        if (callbacks = this.callbacks[eventType.type]) {\r\n            for (var i = callbacks.length - 1; i >= 0; i--)\r\n                if (callbacks[i].callback === callback)\r\n                    callbacks.splice(i, 1);\r\n        }\r\n    };\r\n    Events.prototype.publish = function (event, target) {\r\n        var subscriptions = this.callbacks[event.type];\r\n        var response = [];\r\n        if (target)\r\n            target.postMessage(event, location.href);\r\n        else\r\n            for (var s in subscriptions)\r\n                if (subscriptions[s].correlationId === undefined || subscriptions[s].correlationId == event.correlationId)\r\n                    if (subscriptions[s].callback) {\r\n                        var r = subscriptions[s].callback(event);\r\n                        if (!!r)\r\n                            response.push(r);\r\n                    }\r\n        ;\r\n        return response;\r\n    };\r\n    return Events;\r\n}());\r\nexports.Events = Events;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nexports.__esModule = true;\r\nvar basePath = '';\r\nfunction nodeRequire(url) {\r\n    return new Function('url', 'tmpdir', 'tmpdir = tmpdir ? tmpdir : global.process.env.INIT_CWD; var __dirname__ = global.process.cwd(); if (__dirname__ != tmpdir) global.process.chdir(tmpdir); var _exp = (global.require || global.process.mainModule.constructor._load)(url); if (global.process.cwd() != __dirname__) global.process.chdir(__dirname__); return _exp;')(url, basePath);\r\n}\r\nfunction run(source, url /*, basePath?:string*/) {\r\n    var m = { exports: {} };\r\n    try {\r\n        new Function('require', 'module', source + \";\\n//# sourceURL=' + \" + url)(nodeRequire, m);\r\n    }\r\n    catch (f) {\r\n        console.log('Error running script from from source' + url || source);\r\n        throw f;\r\n    }\r\n    return m.exports;\r\n}\r\nvar Loader = {\r\n    instantiate: function (url, parent) { return __awaiter(_this, void 0, void 0, function () {\r\n        var res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, fetch(url, { credentials: 'same-origin' })];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    if (!res.ok)\r\n                        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText + (parent ? ' loading from  ' + parent : ''));\r\n                    return [2 /*return*/, res.text()];\r\n            }\r\n        });\r\n    }); },\r\n    \"import\": function (source, url) { return __awaiter(_this, void 0, void 0, function () {\r\n        var output;\r\n        return __generator(this, function (_a) {\r\n            try {\r\n                output = run(source, url /*, basePath*/);\r\n                return [2 /*return*/, output];\r\n            }\r\n            catch (e) {\r\n                console.log('Error executing script ' + url + ': ');\r\n                throw (e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); },\r\n    resolve: function (name) {\r\n        return name;\r\n    },\r\n    init: function ( /*basePath: string*/) { return void {}; }\r\n};\r\nexports[\"default\"] = Loader;\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nvar __generator = (this && this.__generator) || function (thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n};\r\nvar _this = this;\r\nexports.__esModule = true;\r\n//import path from 'path';\r\nvar basepath;\r\nfunction nodeRequire(url) {\r\n    var tmpdir = basepath || global.process.env.INIT_CWD;\r\n    var __dirname__ = global.process.cwd();\r\n    if (tmpdir && __dirname__ != tmpdir)\r\n        global.process.chdir(tmpdir);\r\n    var _exp = (global.require || (global.process.mainModule ? global.process.mainModule.constructor._load : url))(url);\r\n    if (global.process.cwd() != __dirname__)\r\n        global.process.chdir(__dirname__);\r\n    return _exp;\r\n    //return new Function('url', 'tmpdir', 'tmpdir = tmpdir ? tmpdir : global.process.env.INIT_CWD; var __dirname__ = global.process.cwd(); if (__dirname__ != tmpdir) global.process.chdir(tmpdir); var _exp = (global.require || global.process.mainModule.constructor._load)(url); if (global.process.cwd() != __dirname__) global.process.chdir(__dirname__); return _exp;')(url, basepath||'');\r\n}\r\nfunction run(source, url, references) {\r\n    var m = { exports: {} };\r\n    try {\r\n        if (url)\r\n            basepath = url; //path.resolve(url);\r\n        var refkeys = references ? Object.keys(references) : [];\r\n        var refs = references ? Object.values(references) : [];\r\n        Function.apply(void 0, refkeys.concat(['require', 'module', source + \";\\n//# sourceURL=' + \" + url])).apply(void 0, refs.concat([nodeRequire, m]));\r\n    }\r\n    catch (f) {\r\n        console.log('Error running script from source \"' + (url || source) + '\"', f);\r\n        throw f;\r\n    }\r\n    return m.exports;\r\n}\r\nvar Loader = {\r\n    instantiate: function (url, parent, _references) { return __awaiter(_this, void 0, void 0, function () {\r\n        var res;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, fetch(url, { credentials: 'same-origin' })];\r\n                case 1:\r\n                    res = _a.sent();\r\n                    if (!res.ok)\r\n                        throw new Error('Fetch error: ' + res.status + ' ' + res.statusText + (parent ? ' loading from  ' + parent : ''));\r\n                    return [2 /*return*/, res.text()];\r\n            }\r\n        });\r\n    }); },\r\n    \"import\": function (source, url, references) { return __awaiter(_this, void 0, void 0, function () {\r\n        var output;\r\n        return __generator(this, function (_a) {\r\n            try {\r\n                output = run(source, url, references);\r\n                return [2 /*return*/, output];\r\n            }\r\n            catch (e) {\r\n                console.log('Error executing script \"' + url + '\": ' + e + '\\n \"' + source + '\"');\r\n                throw (e);\r\n            }\r\n            return [2 /*return*/];\r\n        });\r\n    }); },\r\n    resolve: function (name) {\r\n        return name;\r\n    },\r\n    init: function (basePath) {\r\n        basepath = basePath;\r\n    }\r\n};\r\nexports.Loader = Loader;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Loader = /** @class */ (function () {\r\n    function Loader(app) {\r\n        var _this = this;\r\n        this.app = app;\r\n        if (typeof window === \"object\") {\r\n            var systemjs = Object.getOwnPropertyDescriptor(window, \"System\");\r\n            if (systemjs) {\r\n                systemjs.value.constructor.prototype.jst = function (input, name) { return _this.app.services.transformer.transform(input, name); };\r\n                this.proxy = { \"import\": systemjs.value[\"import\"].bind(systemjs.value), resolve: function (name) { return name; }, instantiate: systemjs.value.instantiate.bind(systemjs.value), init: function ( /*basePath: string*/) { return void {}; } };\r\n                systemjs.value.constructor.prototype.instantiate = this.instantiate.bind(this);\r\n                systemjs.value.constructor.prototype[\"import\"] = this[\"import\"].bind(this);\r\n            }\r\n            else\r\n                this.proxy = require('./loaders/Browser')[\"Loader\"];\r\n        }\r\n        if (this['proxy'] == null)\r\n            this.proxy = require('./loaders/NodeJs')[\"Loader\"];\r\n    }\r\n    Loader.prototype[\"import\"] = function (moduleName, normalizedParentName, _references) {\r\n        var _this = this;\r\n        var u = moduleName.indexOf('#') > -1 ? moduleName.slice(0, moduleName.indexOf('#')) : moduleName;\r\n        var b = u.length + 1 < moduleName.length ? moduleName.slice(u.length + 1).split('#') : [];\r\n        return new Promise(function (r, rj) { return _this.proxy[\"import\"](_this.resolve(u), normalizedParentName).then(function (x) {\r\n            if (x[\"default\"])\r\n                x = x[\"default\"];\r\n            for (var i = 0; i < b.length; i++)\r\n                if ((x = x[b[i]]) === undefined) {\r\n                    //debugger;\r\n                    rj(\"Could not resolve property \" + b[i] + \" on \" + moduleName);\r\n                }\r\n            ;\r\n            r({ \"default\": x, __esModule: moduleName });\r\n        }, rj); });\r\n    };\r\n    Loader.prototype.resolve = function (url) {\r\n        if (url[0] == '@' && this.app.settings.cdn) {\r\n            var cdn = url.slice(0, url.indexOf('/'));\r\n            if (this.app.settings.cdn[cdn])\r\n                url = this.app.settings.cdn[cdn] + url.substr(cdn.length);\r\n        }\r\n        return this.proxy.resolve(url);\r\n    };\r\n    Loader.prototype.instantiate = function (url, parent, references) {\r\n        return this.proxy.instantiate(this.resolve(url), parent, references);\r\n    };\r\n    Loader.prototype.init = function (basePath) {\r\n        Object.defineProperty(this.proxy[\"import\"], \"jst\", this.app.services.transformer.transform);\r\n        this.proxy.init(basePath);\r\n    };\r\n    return Loader;\r\n}());\r\nexports.Loader = Loader;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nexports.Parsers = {\r\n    \".\": function (_transformer, _context, obj, _offset) { return obj[\".\"]; },\r\n    \".import\": function (transformer, context, obj, offset) { return transformer.loadModule(context, transformer.process(obj[\".import\"], context, false, false, offset), offset); },\r\n    \".function\": function (transformer, context, obj, offset) { return \"function \" + (obj[\".function\"] ? obj[\".function\"] : \"\") + \"(\" + (obj[\"arguments\"] ? transformer.process(obj[\"arguments\"], context, false, true, offset) : \"\") + \"){ return \" + transformer.process(obj[\"return\"], context, true, false, offset) + \" }\"; },\r\n    \".map\": function (transformer, context, obj, offset) { return transformer.process(obj[\".map\"], context, false, false, offset) + \".map(function(\" + obj[\"arguments\"] + \") {return \" + (transformer.settings && transformer.settings.indent ? new Array(offset).join(' ') : \"\") + transformer.process(obj[\"return\"], context, true, false, offset) + \" })\"; },\r\n    \".filter\": function (transformer, context, obj, offset) { return transformer.process(obj[\".filter\"], context, false, false, offset) + \".filter(function(\" + obj[\"arguments\"] + \") {return \" + transformer.process(obj[\"condition\"], context, true, false, offset) + \" })\"; },\r\n    \".call\": function (transformer, context, obj, offset) { return transformer.process(obj[\".call\"], context, false, false, offset) + \".call(\" + (obj[\"arguments\"] ? transformer.process(obj[\"arguments\"], context, false, true, offset) : \"\") + \")\"; },\r\n    \".exec\": function (transformer, context, obj, offset) { return transformer.process(obj[\".exec\"], context, false, false, offset) + \"(\" + (obj[\"arguments\"] ? transformer.process(obj[\"arguments\"], context, true, true, offset) : \"\") + \")\"; },\r\n    \".new\": function (transformer, context, obj, offset) { return \"new \" + transformer.process(obj[\".new\"], context, false, false, offset) + \"(\" + (obj[\"arguments\"] ? transformer.process(obj[\"arguments\"], context, true, true, offset) : \"\") + \")\"; }\r\n};\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\n//import { App } from \"../app\";\r\nvar components_1 = require(\"../components\");\r\nvar types_1 = require(\"@appfibre/types\");\r\nfunction s_xa(a, b) { return Object.prototype.hasOwnProperty.call(a, b); }\r\nfunction clone(a /*,b?:any*/) { for (var c = 1; c < arguments.length; c++) {\r\n    var d = arguments[c];\r\n    if (d)\r\n        for (var e in d)\r\n            s_xa(d, e) && (a[e] = d[e]);\r\n} return a; }\r\nfunction Inject(app, proxy) {\r\n    var inj = clone(app);\r\n    inj.services.UI.Component = proxy || components_1.BaseComponent(app) /*app.services.UI.Component*/;\r\n    /*let { title, designer, ui, target, ...inject } = app;\r\n    return { Component\r\n        , Context\r\n        , Loader\r\n        , components : app.components\r\n        , ...inject\r\n    };*/\r\n    return inj;\r\n}\r\nvar Processor = /** @class */ (function () {\r\n    function Processor(app) {\r\n        this.cache = Object();\r\n        this.type = \"Processor\";\r\n        this.app = app;\r\n        this.cache[\".App\"] = function inject(app) {\r\n            return /** @class */ (function (_super) {\r\n                __extends(Proxy, _super);\r\n                //app:App;\r\n                function Proxy(props, context) {\r\n                    return _super.call(this, props, context) || this;\r\n                    //this.app = new App(props);\r\n                }\r\n                Proxy.prototype.render = function () {\r\n                    return _super.prototype.render.call(this, this.props.main);\r\n                };\r\n                return Proxy;\r\n            }(components_1.BaseComponent(app)));\r\n        };\r\n    }\r\n    Processor.prototype.Async = function () {\r\n        this.async = this.async || components_1.Async(this.app);\r\n        return this.async;\r\n    };\r\n    Processor.prototype.createClass = function (B, d) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var _this = this;\r\n                var b = _this = _super.call(this, arguments) || this;\r\n                var i = typeof d === \"function\" ? d.call(b, b) : d;\r\n                if (b !== undefined)\r\n                    for (var p in b.__proto__)\r\n                        if (!i[p])\r\n                            i[p] = b[p];\r\n                if (i[\"constructor\"])\r\n                    i.constructor.apply(i, arguments);\r\n                return i;\r\n            }\r\n            return class_1;\r\n        }(B));\r\n    };\r\n    Processor.prototype.locate = function (resource, path) {\r\n        var parts = path.split('.');\r\n        var obj = resource;\r\n        for (var part = 0; part < parts.length; part++)\r\n            if (obj[parts[part]] !== undefined)\r\n                obj = obj[path[part]];\r\n            else\r\n                obj = null;\r\n        return obj;\r\n    };\r\n    Processor.prototype.getFunctionName = function (obj) {\r\n        if (obj.name)\r\n            return obj.name;\r\n        var name = obj.toString();\r\n        if (name.indexOf('(') > -1)\r\n            name = name.substr(0, name.indexOf('('));\r\n        if (name.indexOf('function') > -1)\r\n            name = name.substr(name.indexOf('function') + 'function'.length);\r\n        return name.trim();\r\n    };\r\n    // ether an element, or array of elements depending on depth == even or odd\r\n    Processor.prototype.processElementInternal = function (element, depth, index) {\r\n        if (depth % 2 === 0) {\r\n            if (typeof element != \"string\" && !Array.isArray(element)) {\r\n                this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Error, \"Child element [2] should be either a string or array\", [{ element: element }]);\r\n                return element;\r\n            }\r\n            else if (Array.isArray(element)) {\r\n                if (index !== undefined) {\r\n                    element[1] = element[1] || {};\r\n                    if (!element[1].key)\r\n                        element[1].key = index;\r\n                }\r\n            }\r\n            //if (Array.isArray(element) && element[1] && element[1].context && typeof element[1].context.intercept === \"function\")\r\n            //    element = element[1].context.intercept(element);\r\n        }\r\n        //console.log({element, index, depth, code: JSON.stringify(element)});\r\n        return depth % 2 === 1 || !Array.isArray(element) ? element : this.app.services.UI.createElement(element[0], element[1], element[2]);\r\n    };\r\n    Processor.prototype.parse = function (obj, level, path, index) {\r\n        this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Trace, 'Processor.parse', obj);\r\n        var processor = this;\r\n        return new Promise(function (r, f) {\r\n            if (!obj)\r\n                return r(obj);\r\n            if (typeof obj === \"object\" && !Array.isArray(obj) && obj[\"default\"])\r\n                obj = processor.init(obj);\r\n            if (Array.isArray(obj)) {\r\n                if (typeof obj[0] === \"object\" && obj[0]['default'])\r\n                    obj[0] = processor.init(obj[0]);\r\n                if (typeof obj[0] === \"string\")\r\n                    obj[0] = processor.resolve(obj[0]);\r\n                if (typeof obj[0] === \"function\" && processor.getFunctionName(obj[0]) === \"transform\")\r\n                    processor.parse(obj[0].apply(processor.app, obj.slice(1)), level, path + '[0]()', index).then(r, f);\r\n                else\r\n                    Promise.all(obj.map(function (v, i) { return processor.parse(v, level + 1, path + '[' + i + ']', i); })).then(function (o) { try {\r\n                        r(processor.processElementInternal(o, level, index));\r\n                    }\r\n                    catch (e) {\r\n                        processor.app.services.logger.log(types_1.types.app.LogLevel.Error, 'Processor.parse: ' + e.stack, [o]);\r\n                        f(e);\r\n                    } }, f);\r\n            }\r\n            else if (typeof obj === \"function\" && processor.getFunctionName(obj) === \"inject\")\r\n                Promise.resolve((obj)(Inject(processor.app))).then(function (o) { return processor.parse(o, level, path, index).then(r, f); }, f);\r\n            else if (typeof obj === \"function\" && processor.getFunctionName(obj) === \"Component\")\r\n                try {\r\n                    r(processor.createClass(components_1.BaseComponent(processor.app), obj));\r\n                }\r\n                catch (e) {\r\n                    processor.app.services.logger.log(types_1.types.app.LogLevel.Error, 'Processor.parse: ' + e.stack, obj);\r\n                    f(e);\r\n                }\r\n            else if (Promise.resolve(obj) === obj) {\r\n                Promise.resolve(obj).then(function (o) { return processor.parse(o, level, path, index).then(function (o2) { return r(o2); }, f); }, f);\r\n            }\r\n            else if (obj) {\r\n                try {\r\n                    r(processor.processElementInternal(obj, level, index));\r\n                }\r\n                catch (e) {\r\n                    processor.app.services.logger.log(types_1.types.app.LogLevel.Error, 'Processor.parse: ' + e.stack, obj);\r\n                    f(e);\r\n                }\r\n            }\r\n            else\r\n                r(obj);\r\n        });\r\n    };\r\n    Processor.prototype.resolve = function (fullpath) {\r\n        var _this = this;\r\n        this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Trace, 'Processor.resolve', [fullpath]);\r\n        if (this.cache[fullpath])\r\n            return this.cache[fullpath];\r\n        if (fullpath.substring(0, 1) == \"~\") {\r\n            var parts = fullpath.substring(1, fullpath.length).split('#');\r\n            var obj = this.app.services.moduleSystem.instantiate(parts[0], this);\r\n            if (parts.length == 1)\r\n                return obj;\r\n            return obj.then(function (x) { return _this.locate(x, parts.slice(1, parts.length).join(\".\")); });\r\n        }\r\n        else {\r\n            var path = fullpath ? fullpath.split('.') : [''];\r\n            var obj_1 = this.app.components || Object;\r\n            for (var part = 0; part < path.length; part++) {\r\n                if (typeof obj_1 === \"function\" && this.getFunctionName(obj_1) === \"inject\")\r\n                    obj_1 = obj_1(Inject(this.app, components_1.BaseComponent(this.app)));\r\n                if (obj_1[path[part]] !== undefined) {\r\n                    obj_1 = obj_1[path[part]];\r\n                    if (typeof obj_1 === \"function\" && this.getFunctionName(obj_1) == \"inject\")\r\n                        obj_1 = obj_1(Inject(this.app, components_1.BaseComponent(this.app)));\r\n                }\r\n                else if (path.length == 1 && path[0].length > 0 && path[0].toLowerCase() == path[0])\r\n                    obj_1 = path[part];\r\n                else {\r\n                    if (fullpath === \"Exception\")\r\n                        return function transform(obj) { return [\"pre\", { \"style\": { \"color\": \"red\" } }, obj[1].stack ? obj[1].stack : obj[1]]; };\r\n                    else {\r\n                        this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Error, 'Unable to resolve \"App.components.' + (fullpath || 'undefined') + \"'\");\r\n                        return /** @class */ (function (_super) {\r\n                            __extends(class_2, _super);\r\n                            function class_2() {\r\n                                return _super !== null && _super.apply(this, arguments) || this;\r\n                            }\r\n                            class_2.prototype.render = function () { return _super.prototype.render ? _super.prototype.render.call(this, [\"span\", { \"style\": { \"color\": \"red\" } }, (fullpath || 'undefined') + \" not found!\"]) : (fullpath || 'undefined') + \" not found!\"; };\r\n                            return class_2;\r\n                        }(components_1.BaseComponent(this.app)));\r\n                    }\r\n                }\r\n            }\r\n            //return this.cache[fullpath] = Array.isArray(obj) ? class Wrapper extends this.app.services.UI.Component { shouldComponentUpdate() { return true; } render() {if (!obj[1]) obj[1] = {}; if   (!obj[1].key) obj[1].key = 0; return this.parse(jst && !this.app.disableIntercept && window.parent !== null && window !== window.parent ? [Intercept, {\"file\": jst, \"method\": prop}, [obj]] : obj); }} : obj;\r\n            return this.cache[fullpath] = obj_1;\r\n        }\r\n    };\r\n    Processor.prototype.init = function (obj) {\r\n        return obj[\"default\"];\r\n    };\r\n    Processor.prototype.processElement = function (obj, index) {\r\n        var _this = this;\r\n        if (!obj)\r\n            return obj;\r\n        if (typeof obj === \"object\" && !Array.isArray(obj) && obj[\"default\"])\r\n            obj = this.init(obj);\r\n        if (Array.isArray(obj)) {\r\n            if (typeof obj[0] === \"object\" && obj[0]['default'])\r\n                // TODO: Remove <never>\r\n                //obj[0] = /*<never>*/this.init(obj[0]);\r\n                debugger;\r\n            if (typeof obj[0] === \"string\") {\r\n                obj[0] = this.resolve(obj[0]);\r\n            }\r\n            if (typeof obj[0] === \"function\") {\r\n                var name = this.getFunctionName(obj[0]);\r\n                switch (name) {\r\n                    case \"transform\":\r\n                        var key = index;\r\n                        if (obj[1] && obj[1].key)\r\n                            key = obj[1].key;\r\n                        return this.processElement(obj[0].apply(this.app, obj.slice(1)), key);\r\n                    case \"inject\":\r\n                        obj[0] = (obj[0])(Inject(this.app));\r\n                        return this.processElement(obj);\r\n                    case \"Component\":\r\n                        obj[0] = this.createClass(components_1.BaseComponent(this.app), obj[0]);\r\n                        return this.processElement(obj);\r\n                }\r\n            }\r\n        }\r\n        if (Array.isArray(obj) && obj.some(function (c) { return Promise.resolve(c) === c; }))\r\n            return this.processElementInternal([this.Async(), { id: Date.now() }, obj], 0, obj && obj[1] && obj[1].key !== undefined ? obj[1].key : index);\r\n        else if (typeof obj === \"string\" || !obj)\r\n            return obj;\r\n        //else if (obj.then)  \r\n        //    Promise.all( [ obj ]).then(o => processor.parse(o[0], level, path, index).then((o2:any) => r(o2), f), f);\r\n        if (Promise.resolve(obj) === obj)\r\n            obj = [this.Async(), { index: index }, obj];\r\n        if (Array.isArray(obj))\r\n            return this.processElementInternal([obj[0], obj[1], Array.isArray(obj[2]) ? obj[2].map(function (c, idx) { return typeof c === \"string\" ? c : _this.processElement(c, idx); }) : obj[2]], 0, index);\r\n        else\r\n            return obj;\r\n    };\r\n    Processor.prototype.process = function (obj) {\r\n        var _this = this;\r\n        this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Trace, 'Processor.process', obj);\r\n        function visit(obj) {\r\n            if (Array.isArray(obj)) {\r\n                for (var i in obj)\r\n                    if (visit(obj[i]))\r\n                        return true;\r\n            }\r\n            else if (typeof obj === \"object\" && obj != null) {\r\n                var keys = Object.keys(obj);\r\n                for (var i in keys)\r\n                    if (keys[i].substr(0, 1) == \".\")\r\n                        return true;\r\n                    else if (visit(obj[keys[i]]))\r\n                        return true;\r\n            }\r\n            return false;\r\n        }\r\n        return new Promise(function (resolve, reject) {\r\n            var isTemplate = visit(obj);\r\n            try {\r\n                if (isTemplate) {\r\n                    _this.app.services.moduleSystem.init(_this.app.settings.baseExecutionPath);\r\n                    _this.app.services.moduleSystem[\"import\"](_this.app.services.transformer.transform(JSON.stringify(obj)).code).then(function (exported) {\r\n                        try {\r\n                            _this.parse(exported[\"default\"] || exported, 0, '').then(resolve, reject);\r\n                        }\r\n                        catch (e) {\r\n                            reject(e);\r\n                        }\r\n                    }, function (rs) { return reject(rs); });\r\n                }\r\n                else\r\n                    _this.parse(obj, 0, '').then(resolve, reject);\r\n            }\r\n            catch (e) {\r\n                reject(e);\r\n            }\r\n        });\r\n    };\r\n    return Processor;\r\n}());\r\nexports.Processor = Processor;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\n//import { INavigation, IAppLoaded, LogLevel, IEventData, IApp, promisedElement, element} from \"../types\";\r\nvar components_1 = require(\"../components\");\r\nvar types_1 = require(\"@appfibre/types\");\r\nfunction parse(url) {\r\n    var qs = /(?:\\?)([^#]*)(?:#.*)?$/.exec(url);\r\n    var params = {};\r\n    var index = 0;\r\n    if (qs)\r\n        qs[1].split('&').forEach(function (p) {\r\n            var v = p.split('=');\r\n            params[v.length === 2 ? v[0] : index++] = v[v.length - 1];\r\n        });\r\n    return {\r\n        path: qs && qs[1] ? qs[1] : ''\r\n    };\r\n}\r\nfunction clone(o) {\r\n    if (Array.isArray(o))\r\n        return o.map(function (o) { return clone(o); });\r\n    else if (typeof o === \"object\") {\r\n        var z = Object.create(o);\r\n        Object.keys(o).forEach(function (k) { return z[k] = o[k]; });\r\n        return z;\r\n    }\r\n    else\r\n        return o;\r\n}\r\nvar Navigation = {\r\n    current: parse(typeof location === \"object\" ? location.href : ''),\r\n    resolve: function transform(container) {\r\n        var url = typeof location === \"undefined\" ? '' : location.href;\r\n        if (this.controllers && Object.keys(this.controllers).length === 0)\r\n            return this.main;\r\n        for (var c in this.controllers)\r\n            if ((this.controllers[c].container ? this.controllers[c].container : '') == (container || '')) {\r\n                var match = this.controllers[c].match ? this.controllers[c].match.test(url) : true;\r\n                this.services.logger.log(types_1.types.app.LogLevel.Trace, \"Route \\\"\" + url + \"\\\" \" + (match ? 'matched' : 'did not match') + \" controller \\\"\" + c + \"\\\"\");\r\n                if (match) {\r\n                    var qs = /(?:\\?)([^#]*)(?:#.*)?$/.exec(url);\r\n                    var params = {};\r\n                    var index = 0;\r\n                    if (qs)\r\n                        qs[1].split('&').forEach(function (p) {\r\n                            var v = p.split('=');\r\n                            params[v.length === 2 ? v[0] : index++] = v[v.length - 1];\r\n                        });\r\n                    return this.controllers[c].resolve.call(this, params);\r\n                }\r\n            }\r\n            else\r\n                this.services.logger.log(types_1.types.app.LogLevel.Trace, \"Container \" + (container || '(blank)') + \" does not match controller \" + c + \"'s container \" + (this.controllers[c].container || '(blank)'));\r\n        return [\"Error\", {}, \"Could not locate controller matching \" + url];\r\n    },\r\n    a: function inject(app) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(a, _super); //app.services.UI.Component \r\n            function a(props, context) {\r\n                return _super.call(this, props, context) || this;\r\n            }\r\n            a.prototype.click = function (e) {\r\n                app.services.navigation.current = parse(this.props.href);\r\n                var topParent = parent;\r\n                while (topParent.parent !== topParent)\r\n                    topParent = topParent.parent;\r\n                if (topParent.history && topParent.history.pushState)\r\n                    topParent.history.pushState(null, '', this.props.href);\r\n                else\r\n                    topParent.location.replace(this.props.href);\r\n                app.services.events.publish({ type: \"Navigation.Redirect\", correlationId: this.props.container, data: this.props.href });\r\n                if (e && e.nativeEvent && e.nativeEvent.preventDefault)\r\n                    e.nativeEvent.preventDefault();\r\n                return false;\r\n            };\r\n            a.prototype.render = function () {\r\n                return _super.prototype.render.call(this, [\"a\", __assign({}, this.props, { onClick: this.click.bind(this) }), this.props.children]);\r\n                //return app.services.UI.processElement([\"a\", {...this.props, onClick: this.click.bind(this)}, this.props.children], 0, undefined);\r\n            };\r\n            return a;\r\n        }(components_1.BaseComponent(app) //app.services.UI.Component \r\n        ));\r\n    },\r\n    Container: function transform(a, c) {\r\n        var app = this;\r\n        return [/** @class */ (function (_super) {\r\n                __extends(NavigationContainer, _super);\r\n                function NavigationContainer(props, context) {\r\n                    var _this = _super.call(this, props, context) || this;\r\n                    _this.state = { a: props.a, c: props.c };\r\n                    _this.onRedirect = _this.onRedirect.bind(_this);\r\n                    return _this;\r\n                }\r\n                NavigationContainer.prototype.onRedirect = function ( /*event:types.app.IEventData<any>*/) {\r\n                    var e = clone(this.props.c);\r\n                    if (Array.isArray(e))\r\n                        e.forEach(function (c, i) { if (Array.isArray(c))\r\n                            c[1].key = Date.now() + i; });\r\n                    this.setState({ c: e });\r\n                };\r\n                NavigationContainer.prototype.componentWillMount = function () {\r\n                    app.services.events.subscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n                };\r\n                NavigationContainer.prototype.componentWillUnmount = function () {\r\n                    app.services.events.unsubscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n                };\r\n                NavigationContainer.prototype.render = function () {\r\n                    return _super.prototype.render.call(this, this.state.c);\r\n                };\r\n                return NavigationContainer;\r\n            }(components_1.BaseComponent(app))), { a: a, c: c }];\r\n    }\r\n};\r\nexports.Navigation = Navigation;\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar types_1 = __importDefault(require(\"@appfibre/types\"));\r\nvar Parsers_1 = require(\"./Parsers\");\r\nvar Transformer = /** @class */ (function () {\r\n    function Transformer(settings) {\r\n        this.reservedWords = ['function', 'for', 'var', 'this', 'self', 'null'];\r\n        this.type = \"Transformer\";\r\n        if (settings) {\r\n            settings.parsers = settings.parsers || Parsers_1.Parsers;\r\n            this.settings = __assign({}, settings, { indent: settings.indent || '\\t', compact: settings.compact || false, module: settings.module || types_1[\"default\"].app.ModuleSystem.None, namedExports: settings.namedExports === undefined ? true : settings.namedExports });\r\n        }\r\n        else\r\n            this.settings = { module: types_1[\"default\"].app.ModuleSystem.ES, parsers: Parsers_1.Parsers };\r\n        /*this.settings.parsers[\".app\"] =  (obj:any, parseSettings:types.app.ITransformOutput, offset:number) => {\r\n            var obj2:{[key:string]:any} = {};\r\n            var keys = Object.keys(obj);\r\n            for (var key in keys) obj2[keys[key] == \".app\" ? \"main\" : keys[key]] = obj[keys[key]];\r\n            return `${this.process.call(this, { \".new\": {\".require\": \"@appfibre/webapp#WebApp\"}, \"arguments\": [obj2]}, true, true, offset)}`;\r\n        };*/\r\n    }\r\n    Transformer.prototype.loadModule = function (context, val, offset) {\r\n        var m = val.indexOf('#') > 0 ? val.substr(0, val.indexOf('#')) : val;\r\n        if (val[0] === \"~\") {\r\n            return \"\" + this.process({ \".function\": null, arguments: \"loader\", \"return\": { \".code\": \"loader.load('\" + (m[1] === \"/\" ? '.' : '') + m.substr(1) + \"')\" + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '') + \";\" } }, context, false, false, offset);\r\n        }\r\n        if (this.settings.module.toLowerCase() === types_1[\"default\"].app.ModuleSystem.ES.toLowerCase())\r\n            m = val.indexOf('#', m.length + 2) > -1 ? val.substr(0, val.indexOf('#', m.length + 2) - 1) : val;\r\n        if (context.imports.indexOf(m) === -1)\r\n            context.imports.push(m);\r\n        return \"_\" + context.imports.indexOf(m) + (val.length > m.length ? val.substring(m.length).replace('#', '.') : '');\r\n    };\r\n    // @ts-ignore\r\n    Transformer.prototype.format = function (lines, indent) {\r\n        var lt = this.settings.compact ? \"\" : \"\\n\";\r\n        var tab = this.settings.compact ? \"\" : this.settings.indent || \"\\t\";\r\n        return lt + new Array(indent + 1).join(tab) + lines.join(\",\" + lt + new Array(indent + 1).join(tab)) + lt + new Array(indent).join(tab);\r\n    };\r\n    Transformer.prototype.process = function (obj, context, esc, et, offset) {\r\n        var _this = this;\r\n        var output;\r\n        if (obj === null)\r\n            output = \"null\";\r\n        else if (Array.isArray(obj))\r\n            output = (et ? \"\" : \"[\") + this.format.call(this, obj.map(function (e) { return _this.process(e, context, esc, false, offset + 1); }), offset) + (et ? \"\" : \"]\");\r\n        else if (typeof obj === \"object\") {\r\n            var keys = Object.keys(obj);\r\n            var processed = false;\r\n            for (var k in keys)\r\n                if (!processed && keys[k].length > 0 && keys[k].charAt(0) === '.') {\r\n                    if (keys[k].charAt(1) === \".\")\r\n                        obj[keys[k]] = undefined;\r\n                    else if (this.settings.parsers && this.settings.parsers[keys[k]]) {\r\n                        processed = true;\r\n                        output = this.settings.parsers[keys[k]](this, context, obj, offset) || '';\r\n                    }\r\n                    else {\r\n                        debugger;\r\n                        throw new Error(\"Could not locate parser \" + keys[k].substr(1));\r\n                    }\r\n                }\r\n            if (!processed)\r\n                output = (et ? \"\" : \"{\") + this.format.call(this, keys.filter(function (k) { return k.length < 2 || k.substr(0, 2) != '..'; }).map(function (k) { return (_this.reservedWords.indexOf(k) > -1 || /[^a-z0-9]/i.test(k) ? _this.skey(k) : k) + \":\" + (_this.settings.compact ? '' : ' ') + _this.process(obj[k], context, esc, false, offset + 1); }), offset) + (et ? \"\" : \"}\");\r\n        }\r\n        else if (typeof obj === \"function\") // object not JSON...\r\n            output = obj.toString();\r\n        else\r\n            output = typeof obj === \"string\" && esc ? JSON.stringify(obj) : obj;\r\n        return output;\r\n    };\r\n    Transformer.prototype.skey = function (key) {\r\n        return JSON.stringify(((key.charAt(0) === \"'\" && key.charAt(key.length - 1) === \"'\") || (key.charAt(0) === '\"' && key.charAt(key.length - 1) === '\"')) ? key.slice(1, key.length - 2) : key);\r\n    };\r\n    Transformer.prototype.processExports = function (context, obj) {\r\n        var _this = this;\r\n        var keys = Object.keys(obj);\r\n        var validkeys = keys.filter(function (k) { return k.indexOf(' ') === -1 && k.indexOf('/') === -1 && k.indexOf('-') === -1 && _this.reservedWords.indexOf(k) === -1; });\r\n        var isDefault = keys.length === 1 && keys[0] === 'default';\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                //for (var req in r) output.code += `${vr} _${r[req]}${sp}=${sp}require('${req}');${nl}`;\r\n                context.code += keys.map(function (key) { return \"module.exports[\" + _this.skey(key) + \"]\" + sp + \"=\" + sp + _this.process(obj[key], context, true, false, 0) + \";\"; }).join(nl);\r\n                if (!isDefault)\r\n                    context.code += nl + \"module.exports[\\\"default\\\"]\" + sp + \"=\" + sp + \"{\" + sp + keys.map(function (key) { return _this.skey(key) + \": \" + _this.process(obj[key], context, true, false, 0); }).join(nl) + \" };\";\r\n                break;\r\n            case \"es\":\r\n                if (isDefault)\r\n                    context.code += \"export default\" + sp + this.process(obj[\"default\"], context, true, false, 0) + \";\";\r\n                else {\r\n                    context.code += \"export default\" + sp + \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 ? \"\\\"\" + key + \"\\\": \" + _this.process(obj[key], context, true, false, 0) : key + \":\" + sp + (_this.settings.namedExports ? key : _this.process(obj[key], context, true, false, 2)); }), 1) + \"};\";\r\n                    if (this.settings.namedExports && validkeys.length > 0)\r\n                        context.code = validkeys.map(function (key) { return \"export \" + vr + \" \" + key + sp + \"=\" + sp + _this.process(obj[key], context, true, false, 1) + \";\"; }).join(nl) + (\"\" + (nl + context.code + nl));\r\n                }\r\n                break;\r\n            default:\r\n                context.code += \"return \" + (isDefault ? this.process(obj[\"default\"], context, true, false, 1) : \"{\" + this.format(keys.map(function (key) { return validkeys.indexOf(key) === -1 || /[^a-z0-9]/i.test(key) ? \"\\\"\" + key + \"\\\": \" + _this.process(obj[key], context, true, false, 1) : key + \":\" + sp + _this.process(obj[key], context, true, false, 2); }), 1) + \"}\") + \";\";\r\n        }\r\n    };\r\n    Transformer.prototype.processImports = function (output) {\r\n        var _this = this;\r\n        var nl = this.settings.compact ? '' : '\\n';\r\n        var sp = this.settings.compact ? '' : ' ';\r\n        var vr = this.settings.preferConst ? 'const' : 'var';\r\n        var s = {};\r\n        var r = {};\r\n        var s2 = {};\r\n        var r2 = {};\r\n        if (output.imports.length > 0)\r\n            for (var i = 0; i < output.imports.length; i++) {\r\n                var ext = output.imports[i][0] === \"~\";\r\n                if (output.imports[i].indexOf('#') > -1) {\r\n                    var module_name = output.imports[i].substr(0, output.imports[i].indexOf('#'));\r\n                    if ((ext ? s2 : s)[module_name] === undefined)\r\n                        (ext ? s2 : s)[module_name] = {};\r\n                    (ext ? s2 : s)[module_name][output.imports[i].substr(module_name.length + 1)] = i;\r\n                }\r\n                else\r\n                    (ext ? r2 : r)[output.imports[i]] = i;\r\n            }\r\n        switch (this.settings.module.toLowerCase()) {\r\n            case \"umd\":\r\n            case \"commonjs\":\r\n            case \"cjs\":\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                break;\r\n            case \"amd\":\r\n                output.code = \"define(\" + (Object.keys(r).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"\" + _this.skey(key); }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r).map(function (key) { return '_' + r[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                break;\r\n            case \"es\":\r\n                output.code = Object.keys(s).map(function (key) { return \"import {\" + Object.keys(s[key]).map(function (k) { return k + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from \" + _this.skey(key) + \";\" + nl; }).join('') + Object.keys(r).map(function (key) { return \"import * as _\" + r[key] + \" from \" + _this.skey(key.substr(key[0] == \"~\" ? 1 : 0)) + \";\" + nl; }).join('') + output.code;\r\n                break;\r\n            default:\r\n                for (var req in r)\r\n                    output.code = vr + \" _\" + r[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n        }\r\n        if (Object.keys(s2).length > 0 || Object.keys(r2).length > 0) {\r\n            switch (this.settings.runtimeModule ? this.settings.runtimeModule.toLowerCase() : \"none\") {\r\n                case \"umd\":\r\n                case \"commonjs\":\r\n                case \"cjs\":\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n                    break;\r\n                case \"amd\":\r\n                    output.code = \"define(\" + (Object.keys(r2).length > 0 ? \"[\" + Object.keys(r).map(function (key) { return \"\" + _this.skey(key); }).join(\", \") + \"], \" : '') + \"function (\" + Object.keys(r2).map(function (key) { return '_' + r2[key]; }).join(\", \") + \") { \" + output.code + \" });\" + nl;\r\n                    break;\r\n                case \"es\":\r\n                    output.code = Object.keys(s2).map(function (key) { return \"import {\" + Object.keys(s2[key]).map(function (k) { return k.substr(1) + \" as _\" + s[key][k]; }).join(',' + sp) + \"} from \" + _this.skey(key.substr(1)) + \";\" + nl; }).join('') + Object.keys(r2).map(function (key) { return \"import * as _\" + r2[key] + \" from '\" + key.substr(1) + \"';\" + nl; }).join('') + output.code;\r\n                    break;\r\n                default:\r\n                    for (var req in r2)\r\n                        output.code = vr + \" _\" + r2[req] + sp + \"=\" + sp + \"require(\\\"\" + req + \"\\\");\" + nl + output.code;\r\n            }\r\n        }\r\n    };\r\n    Transformer.prototype.transformTemplate = function (template, name) {\r\n        var output = { name: name, imports: [], exports: {}, references: {}, compositeObject: false, code: '' };\r\n        this.processExports(output, template == undefined || template == null || Array.isArray(template) || typeof (template) !== 'object' || Object.keys(template).filter(function (k) { return k[0] == '.'; }).length > 0 ? { \"default\": template } : template);\r\n        this.processImports(output);\r\n        return output;\r\n    };\r\n    Transformer.prototype.transform = function (input, name) {\r\n        var template;\r\n        try {\r\n            template = JSON.parse(input);\r\n        }\r\n        catch (e) {\r\n            //console.log(JSON.stringify(this.settings));\r\n            if (this.settings.dangerouslyProcessJavaScript || this.settings.dangerouslyProcessJavaScript === undefined) {\r\n                try {\r\n                    template = Function(\"return (\" + input + \");\")();\r\n                    if (this.settings.dangerouslyProcessJavaScript === undefined)\r\n                        console.warn(\"Warning: \" + (name || '') + \" is not JSON compliant: \" + e.message + \".  Set option \\\"dangerouslyProcessJavaScript\\\" to true to hide this message.\\r\\n\" + input);\r\n                }\r\n                catch (f) {\r\n                    throw new Error(\"Unable to process JSON or Javascript \" + (name || '') + \": \" + f.message);\r\n                }\r\n            }\r\n            else\r\n                throw new Error(\"Unable to parse JSON \" + (name || '') + \": \" + e.message);\r\n        }\r\n        try {\r\n            return this.transformTemplate(template == undefined || template == null || Array.isArray(template) || typeof (template) !== 'object' || Object.keys(template).filter(function (k) { return k[0] == '.'; }).length > 0 ? { \"default\": template } : template, name);\r\n        }\r\n        catch (e) {\r\n            throw new Error(\"Unable to transform js template: \" + e.message + \"\\r\\n\" + e.stack);\r\n        }\r\n    };\r\n    return Transformer;\r\n}());\r\nexports.Transformer = Transformer;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar Data_1 = require(\"./Data\");\r\nexports.Data = Data_1.Data;\r\nvar Events_1 = require(\"./Events\");\r\nexports.Events = Events_1.Events;\r\nvar Loader_1 = require(\"./Loader\");\r\nexports.Loader = Loader_1.Loader;\r\nvar Parsers_1 = require(\"./Parsers\");\r\nexports.Parsers = Parsers_1.Parsers;\r\nvar Processor_1 = require(\"./Processor\");\r\nexports.Processor = Processor_1.Processor;\r\nvar Navigation_1 = require(\"./Navigation\");\r\nexports.Navigation = Navigation_1.Navigation;\r\nvar Transformer_1 = require(\"./Transformer\");\r\nexports.Transformer = Transformer_1.Transformer;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar services_1 = require(\"./services\");\r\nvar types_1 = __importDefault(require(\"@appfibre/types\"));\r\nvar App = /** @class */ (function () {\r\n    function App(app) {\r\n        var _this = this;\r\n        try {\r\n            Object.keys(app).forEach(function (k) { var d = Object.getOwnPropertyDescriptor(app, k); if (d)\r\n                Object.defineProperty(_this, k, d); });\r\n            this.main = app.main;\r\n            this.settings = app.settings;\r\n            this.info = app.info;\r\n            this.settings.logLevel = this.settings.logLevel || types_1[\"default\"].app.LogLevel.Error;\r\n            this.settings.cdn = this.settings.cdn || {};\r\n            var logger_1 = app.services && app.services.logger ? (typeof app.services.logger === \"object\" ? app.services.logger : new app.services.logger(this)) : null;\r\n            var s = app.services; //|| {};\r\n            if (!s.UI)\r\n                throw new Error(\"UI required\");\r\n            s.logger = { log: function (logLevel, title, optionalParameters) {\r\n                    if (logLevel <= (_this && _this.settings && _this.settings.logLevel ? (types_1[\"default\"].app.LogLevel[_this.settings.logLevel] || 2) : 2))\r\n                        logger_1 ? logger_1.log.bind(_this, logLevel, title, optionalParameters) : [function ( /*title?:any, optionalParameters?:any[]*/) { }, console.error, console.error, console.warn, console.info, console.info][logLevel](title + '\\r\\n', optionalParameters || [_this]);\r\n                } };\r\n            s.transformer = s.transformer ? (typeof s.transformer === \"object\" ? s.transformer : new s.transformer(this)) : new services_1.Transformer({ module: types_1[\"default\"].app.ModuleSystem.AMD });\r\n            s.moduleSystem = s.moduleSystem ? (typeof s.moduleSystem === \"object\" ? s.moduleSystem : new s.moduleSystem(this)) : new services_1.Loader(this);\r\n            s.navigation = s.navigation ? (typeof s.navigation === \"object\" ? s.navigation : new s.navigation(this)) : services_1.Navigation;\r\n            s.data = s.data ? (typeof s.data === \"object\" ? s.data : new s.data(this)) : services_1.Data;\r\n            s.UI = typeof s.UI === \"object\" ? s.UI : new s.UI(this);\r\n            s.events = s.events ? (typeof s.events === \"object\" ? s.events : new s.events(this)) : new services_1.Events(this);\r\n            s.externals = s.externals || {};\r\n            this.services = { moduleSystem: s.moduleSystem, processor: new services_1.Processor(this), transformer: s.transformer, logger: s.logger, UI: s.UI, navigation: s.navigation, events: s.events, externals: s.externals };\r\n            this.controllers = {};\r\n            if (app.controllers)\r\n                for (var c in app.controllers) {\r\n                    var co = app.controllers[c];\r\n                    this.controllers[c] = typeof co === \"object\" ? co : new (co)(this);\r\n                }\r\n            this.components = app.components;\r\n            if (typeof this.components === \"object\" && !this.components[\"Navigation\"])\r\n                this.components[\"Navigation\"] = services_1.Navigation;\r\n            if (typeof this.components === \"object\" && !this.components[\"Data\"])\r\n                this.components[\"Data\"] = services_1.Data;\r\n        }\r\n        catch (ex) {\r\n            console.error(ex);\r\n            throw ex;\r\n        }\r\n    }\r\n    App.prototype.initApp = function () {\r\n        //if (!this.options.web) this.options.web = { };\r\n        var _this = this;\r\n        this.services.moduleSystem.init(this.settings.baseExecutionPath);\r\n        return Promise.resolve(this.services.UI).then(function (UI) {\r\n            if (UI) {\r\n                _this.services.UI = UI;\r\n                if (_this.services.UI.init)\r\n                    _this.services.UI.init();\r\n            }\r\n            else\r\n                throw new Error('Unable to initialize UI, ensure that you have loaded a UI framework');\r\n        });\r\n    };\r\n    return App;\r\n}());\r\nexports.App = App;\r\n","\"use strict\";\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result[\"default\"] = mod;\r\n    return result;\r\n};\r\nexports.__esModule = true;\r\nvar types_1 = require(\"@appfibre/types\");\r\nexports.types = types_1.types;\r\nvar app_1 = require(\"./app\");\r\nexports.App = app_1.App;\r\nvar Services = __importStar(require(\"./services\"));\r\nexports.Services = Services;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar types_1 = require(\"@appfibre/types\");\r\nvar WebUI = /** @class */ (function () {\r\n    function WebUI(app) {\r\n        this.type = \"UI\";\r\n        this.app = app;\r\n        this.app.settings = this.app.settings || {};\r\n    }\r\n    WebUI.prototype.init = function () {\r\n        if (typeof window === \"object\") {\r\n            var obj = (Object.getOwnPropertyDescriptor(window, \"preact\") || Object.getOwnPropertyDescriptor(window, \"React\"));\r\n            if (obj) {\r\n                this.createElement = obj.value.h || obj.value.createElement;\r\n                this.Component = obj.value.Component;\r\n                this.renderInternal = obj.value.render || (Object.getOwnPropertyDescriptor(window, \"ReactDOM\") || { value: null }).value.render;\r\n            }\r\n        }\r\n    };\r\n    WebUI.prototype.render = function (ui, parent, mergeWith) {\r\n        if (this.renderInternal) {\r\n            this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Trace, \"WebUI.render\", [ui]);\r\n            return this.renderInternal(ui, parent, mergeWith);\r\n        }\r\n        else\r\n            this.app.services.logger.log.call(this, types_1.types.app.LogLevel.Error, \"Unable to render UI - No UI framework detected. \\nEnsure that you have referenced a UI framework before executing the application, or specify using app.services.UI\");\r\n    };\r\n    return WebUI;\r\n}());\r\nexports.WebUI = WebUI;\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nvar WebUI_1 = require(\"./services/WebUI\");\r\nvar WebApp = /** @class */ (function (_super) {\r\n    __extends(WebApp, _super);\r\n    //info: fibre.IInfo\r\n    function WebApp(app /*, context?:object*/) {\r\n        if (app === void 0) { app = { main: [] }; }\r\n        var _this = this;\r\n        var t = __assign({}, app, { info: __assign({ browser: core_1.types.webapp.browserType.Unknown }, app.info), services: __assign({ UI: app.services && app.services.UI || WebUI_1.WebUI }, app.services), settings: app.settings || {}, controllers: __assign({}, app.controllers), components: __assign({}, app.components) });\r\n        _this = _super.call(this, t) || this;\r\n        return _this;\r\n    }\r\n    WebApp.prototype.initApp = function () {\r\n        if (typeof document === \"object\") { // web app\r\n            var w = window;\r\n            var g = global;\r\n            var d = document;\r\n            var bt = core_1.types.webapp.browserType.Unknown;\r\n            if (w && g && d) {\r\n                if (g.InstallTrigger !== undefined)\r\n                    this.info.browser = core_1.types.webapp.browserType.FireFox;\r\n                else if ( /*@cc_on!@*/false || !!d.documentMode)\r\n                    bt = core_1.types.webapp.browserType.IE;\r\n                else if (!!w.StyleMedia)\r\n                    bt = core_1.types.webapp.browserType.Edge;\r\n                else if (/constructor/i.test(w.HTMLElement) || (function (p) { return p.toString() === \"[object SafariRemoteNotification]\"; })(!w['safari'] || (typeof g.safari !== 'undefined' && g.safari.pushNotification)))\r\n                    bt = core_1.types.webapp.browserType.Safari;\r\n                else if (!!w.chrome && (!!w.chrome.webstore || !!w.chrome.runtime))\r\n                    bt = core_1.types.webapp.browserType.Chrome;\r\n                else if ((Object.getOwnPropertyDescriptor(window, \"opr\") && Object.getOwnPropertyDescriptor(window, \"addons\")) || Object.getOwnPropertyDescriptor(window, \"opera\") || navigator.userAgent.indexOf(' OPR/') >= 0)\r\n                    bt = core_1.types.webapp.browserType.Opera;\r\n                if ((bt === core_1.types.webapp.browserType.Chrome || bt === core_1.types.webapp.browserType.Opera) && !!w.CSS)\r\n                    bt = core_1.types.webapp.browserType.Blink;\r\n            }\r\n            this.info.browser = bt;\r\n            if (!this.settings.baseExecutionPath && document.head)\r\n                this.settings.baseExecutionPath = document.head.baseURI;\r\n        }\r\n        return _super.prototype.initApp.call(this);\r\n    };\r\n    WebApp.prototype.run = function () {\r\n        var _this = this;\r\n        this.services.logger.log.call(this, core_1.types.app.LogLevel.Trace, 'App.run');\r\n        return new Promise(function (resolve, reject) {\r\n            Promise.resolve(_this.initApp()).then(function () {\r\n                var main = _this.services.navigation.resolve.apply(_this);\r\n                _this.render(main).then(resolve, function (err) { _this.services.logger.log.call(_this, core_1.types.app.LogLevel.Error, err.message, err.stack); reject(err); _this.render([\"pre\", {}, err.stack]); });\r\n            }, function (e) { _this.services.logger.log.call(_this, core_1.types.app.LogLevel.Error, e); reject(e); });\r\n        });\r\n    };\r\n    WebApp.prototype.render = function (ui) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            _this.services.logger.log.call(_this, core_1.types.app.LogLevel.Trace, 'App.render', [{ ui: ui }]);\r\n            _this.services.processor.process(ui).then(function (value) {\r\n                try {\r\n                    var target = null;\r\n                    if (typeof document === \"object\") { // web app\r\n                        if (typeof _this.settings.target === \"string\")\r\n                            target = document.getElementById(_this.settings.target);\r\n                        else if (_this.settings.target && _this.settings.target.tagName === \"IFRAME\") {\r\n                            var fr = _this.settings.target;\r\n                            if (fr.contentDocument)\r\n                                target = !fr.contentDocument.body ? fr.contentDocument.createElement('BODY') : fr.contentDocument.body;\r\n                        }\r\n                        else if (!document.body)\r\n                            document.body = document.createElement('BODY');\r\n                        else\r\n                            target = document.body;\r\n                        if (target && target.tagName === \"BODY\") {\r\n                            var body_1 = target;\r\n                            var doc = (body_1.ownerDocument ? body_1.ownerDocument : document.body);\r\n                            target = doc.getElementById(\"main\") || function () {\r\n                                var d = body_1.appendChild((body_1.ownerDocument ? body_1.ownerDocument : document.body).createElement(\"div\"));\r\n                                if (this.settings && this.settings.fullHeight) {\r\n                                    body_1.style.height = body_1.style.height || \"100vh\";\r\n                                    body_1.style.margin = body_1.style.margin || \"0px\";\r\n                                    d.style.height = \"100vh\";\r\n                                }\r\n                                return d;\r\n                            }.apply(_this);\r\n                            if (target && !target.id)\r\n                                target.setAttribute(\"id\", \"main\");\r\n                        }\r\n                        else if (_this.settings.target !== null)\r\n                            throw new Error(\"Cannot locate target (\" + (_this.settings.target ? 'not specified' : _this.settings.target) + \") in html document body.\");\r\n                        if (_this.settings.title)\r\n                            document.title = _this.settings.title;\r\n                        //if (module && module.hot) module.hot.accept();\r\n                        if (target && target.hasChildNodes())\r\n                            target.innerHTML = \"\";\r\n                    }\r\n                    //throw new Error(\"Document node undefined.  Are you running WebApp in the context of a browser?\");\r\n                    resolve(_this.services.UI.render(value, target ? target : undefined));\r\n                }\r\n                catch (e) {\r\n                    reject(e);\r\n                }\r\n            }, function (r) { return reject(r); });\r\n        });\r\n    };\r\n    return WebApp;\r\n}(core_1.App));\r\nexports.WebApp = WebApp;\r\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nvar WebApp_1 = require(\"../WebApp\");\r\nexports.Parsers = __assign({}, core_1.Services.Parsers, { \r\n    /*\".app\": (transformer:types.app.ITransformer, context:types.app.ITransformContext, obj:any, offset:number) => {\r\n        var obj2:{[key:string]:any} = {};\r\n        var keys = Object.keys(obj);\r\n        for (var key in keys) obj2[keys[key] == \".app\" ? \"main\" : keys[key]] = obj[keys[key]];\r\n        console.log(WebApp);\r\n        return `${transformer.process({ \".new\": {\".import\": \"@appfibre/webapp#WebApp\"}, \"arguments\": [obj2]}, context, true, true, offset)}`;\r\n    }*/\r\n    \".app\": function (transformer, context, obj, offset) {\r\n        if (!context.references['WebApp'])\r\n            context.references['WebApp'] = WebApp_1.WebApp;\r\n        var obj2 = {};\r\n        var keys = Object.keys(obj);\r\n        for (var key in keys)\r\n            obj2[keys[key] == \".app\" ? \"main\" : keys[key]] = obj[keys[key]];\r\n        return \"\" + transformer.process({ \".new\": \"WebApp\", \"arguments\": [obj2] }, context, true, true, offset);\r\n    } });\r\n","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nexports.__esModule = true;\r\nvar types_1 = require(\"@appfibre/types\");\r\nvar core_1 = require(\"@appfibre/core\");\r\nvar Parsers_1 = require(\"../services/Parsers\");\r\nvar Transformer = /** @class */ (function (_super) {\r\n    __extends(Transformer, _super);\r\n    function Transformer(settings) {\r\n        var _this = this;\r\n        if (settings && !settings.parsers)\r\n            settings.parsers = Parsers_1.Parsers;\r\n        _this = _super.call(this, settings || { module: types_1.types.app.ModuleSystem.AMD, parsers: Parsers_1.Parsers }) || this;\r\n        return _this;\r\n    }\r\n    return Transformer;\r\n}(core_1.Services.Transformer));\r\nexports.Transformer = Transformer;\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nvar Transformer_1 = require(\"./Transformer\");\r\nvar Parsers_1 = require(\"./Parsers\");\r\ncore_1.Services.Transformer = Transformer_1.Transformer;\r\ncore_1.Services.Parsers = Parsers_1.Parsers;\r\nexports[\"default\"] = core_1.Services;\r\n","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nexports.__esModule = true;\r\nvar core_1 = require(\"@appfibre/core\");\r\nexports.App = core_1.App;\r\nvar WebApp_1 = require(\"./WebApp\");\r\nexports.WebApp = WebApp_1.WebApp;\r\n//import { HtmlUI } from './services/HtmlUI';\r\nvar services_1 = __importDefault(require(\"./services\"));\r\nexports.Services = services_1[\"default\"];\r\n","require('systemjs/dist/s.js');\r\n//require('systemjs/dist/extras/transform');\r\nrequire('systemjs/dist/extras/named-exports.js');\r\nrequire('systemjs/dist/extras/named-register.js');\r\nrequire('systemjs/dist/extras/amd.js');\r\n//const externals = { \"@appfibre/core\": require('@appfibre/core'), \"@appfibre/webapp\": require('@appfibre/webapp'), \"@appfibre/types\": require('@appfibre/types')  };\r\n//const externals = { \"@appfibre/core\": require('@appfibre/core'), \"@appfibre/webapp\": require('@appfibre/webapp'), \"@appfibre/types\": require('@appfibre/types')  };\r\nif (!this.Promise) this.Promise = require('pinkie');\r\nconst _jst = new (require(\"@appfibre/webapp\").Services.Transformer)({ module: 'amd'});\r\nconst WebApp = require(\"@appfibre/webapp\").WebApp;\r\n\r\nconst systemJSPrototype = System.constructor.prototype;\r\n//const _jst = new externals[\"@appfibre/core\"].Transformer({ module: 'amd'});\r\n\r\nsystemJSPrototype.jst = function(input, name) {\r\n\treturn _jst.transform(input, name);\r\n}\r\n\r\nconst instantiate = systemJSPrototype.instantiate;\r\nsystemJSPrototype.instantiate = function (url, parent) {\r\n\tif (url[0] === '@') {\r\n\t\tif (externals[url])\r\n\t\t\treturn [[], function (_export) {\r\n\t\t\t\t_export('default', externals[url]);\r\n\t\t\t\tconst k = Object.keys(externals[url]);\r\n\t\t\t\tfor (let i in k) _export(k[i], externals[url][k[i]]);\r\n\t\t\t\treturn { execute () {}};\r\n\t\t\t}];\r\n\t\telse throw new Error(`Requested component (${url}) not embedded into bundle or cdn not registered`);\r\n\t}\r\n\tif (url.slice(-5) === '.wasm' /*|| url.slice(-3) === '.js'*/)\r\n\t\treturn instantiate.call(this, url, parent);\r\n\telse if (url.slice(-4) === '.css' )\r\n\t{\r\n\t\tvar link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n\t\tlink.type = 'text/css';\r\n\t\tlink.href = url;\r\n\t\tdocument.head.appendChild(link);\r\n\t\treturn [[], function () { return {\"execute\": undefined }}];\r\n\t}\r\n\r\n\tconst loader = this;\r\n\treturn fetch(url)\r\n\t\t.then(function (response) {\r\n\t\t\ttry {\r\n\t\t\t\tswitch (response.contentType) {\r\n\t\t\t\t\tcase \"application/javascript\":\r\n\t\t\t\t\t\t\treturn {code: response.text};\r\n\t\t\t\t\tcase \"application/json\":\r\n\t\t\t\t\t\t\treturn systemJSPrototype.jst(response.text, url);\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t return {code: \"define(function() { return \\'\" + response.text.replace(/\\'/g, \"\\\\\\'\").replace(/\\\"/g, \"\\\\\\\"\") + \"\\';})\"};\r\n\t\t\t\t}\r\n\t\t\t} catch (ex) {\r\n\t\t\t\tconsole.error('Error transforming ' + url + ': ' + ex.description || ex.message, ex.stack || '', [response.text]);\r\n\t\t\t\tthrow ex;\r\n\t\t\t}\r\n\t\t}, (reason) => {throw new Error('Fetch error: ' + reason + (parent ? ' loading from  ' + parent : ''));})\r\n\t\t.then((source) => {   \r\n    try{\r\n\t\tlet keys = source.references ? Object.keys(source.references) : [];\r\n\t\tlet values = source.references ? Object.values(source.references) : [];\r\n\t\tkeys.push(`${source.code};\\n//# sourceURL=' + ${url}`);\r\n\t\tFunction.apply({}, keys).apply({}, values); \r\n\t\t//Function('WebApp', `${source.code};\\n//# sourceURL=' + ${url}`)(WebApp); \r\n\t  \treturn loader.getRegister();  \r\n    } catch (ex) {\r\n      console.error('Error evaluating ' + url + ': ' + ex.description || ex.message, ex.stack || '', [source]);\r\n      throw ex;\r\n    }\r\n  }).catch((message) => {console.error('Error instantiating ' + url + ': ' + message.description || message.message, message.stack || \"\"); throw new Error(message);});\r\n};\r\n\r\n// Hookable transform function!\r\n/*function transform (id, source, contentType) {\r\n\tswitch (contentType) {\r\n\r\n\t\tdefault:\r\n\t\t\treturn \"return \" + replace()\r\n\t}\r\n\treturn (id.indexOf('.json')>-1 || id.indexOf('.jst')>-1) ? new externals['@appfibre/webapp'].Transformer({ module: 'amd'}).transform(source, id).code : source;\r\n}*/\r\n\r\nconst resolve = systemJSPrototype.resolve;\r\nsystemJSPrototype.resolve = function (id, parentUrl) {\r\n\t// This is required because the plugins for codemirror refers to ../../lib/codemirror which doesn't exist when executing from within SystemJS\r\n\t// The code corresponds with a code entry when loading the component System.Register('../../lib/codemirror', [@cdnjs/codemirror/codemirror.js]);\r\n\tif (this.registerRegistry[id]){\r\n\t\tvar r = this.registerRegistry[id];\r\n\t\tif (Array.isArray(r) && typeof r[0] === \"string\")\r\n\t\t\treturn r[0];\r\n\t}\r\n\tif (id[0] === '@') \r\n\t\treturn id;\r\n\treturn resolve.call(this, id, parentUrl);\r\n};\r\n\r\nfunction fetch (url) {\r\n\treturn new Promise(((resolve, reject) => {\r\n    let rq = new XMLHttpRequest();\r\n    rq.open('GET', url);\r\n    rq.credentials = 'same-origin';\r\n    rq.onload = function() { if (rq.status == 200) resolve({text: rq.responseText, contentType: (rq.getResponseHeader('content-type')||'text/plain').split(';')[0].toLowerCase()}); else reject(rq.status + ':' + rq.statusText)}\r\n    rq.onerror = function() {reject(rq.status + ': ' + rq.statusText);}\r\n    rq.send();\r\n  }));\r\n}"],"names":["hasSelf","self","envGlobal","global","baseUrl","location","href","split","lastSepIndex","lastIndexOf","slice","backslashRegEx","resolveIfNotPlainOrUrl","relUrl","parentUrl","indexOf","replace","length","parentProtocol","pathname","segmented","output","segmentIndex","i","push","pop","join","hasSymbol","Symbol","toStringTag","REGISTRY","SystemJS","systemJSPrototype","prototype","import","id","loader","Promise","resolve","then","load","getOrCreateLoad","C","topLevelLoad","createContext","parentId","url","lastRegister","register","deps","declare","getRegister","_lastRegister","undefined","firstParentUrl","importerSetters","ns","Object","create","defineProperty","value","instantiatePromise","instantiate","registration","Error","_export","name","h","changed","p","declared","importId","meta","e","execute","setters","linkPromise","instantiation","all","map","dep","setter","depId","depLoad","I","n","depLoads","d","catch","err","er","L","E","instantiateAll","loaded","postOrderExec","nullContext","freeze","seen","depLoadPromises","forEach","depLoadPromise","doExec","execPromise","call","System","window","addEventListener","error","systemRegister","reject","script","document","createElement","charset","async","crossOrigin","head","removeChild","src","appendChild","importScripts","resolved","systemPrototype","constructor","lastRegisterDeclare","registerDeclare","_context","defaultExport","declaration","registerRegistry","apply","arguments","parentURL","emptyInstantiation","unsupportedRequire","emptyFn","requireExportsModule","createAMDRegister","amdDefineDeps","amdDefineExec","exports","module","depModules","splice","index","idx","default","amdExec","define","concat","Array","amd","PENDING","SETTLED","FULFILLED","REJECTED","NOOP","isNode","process","emit","asyncSetTimer","setImmediate","setTimeout","asyncQueue","asyncTimer","asyncFlush","asyncCall","callback","arg","invokeResolver","resolver","promise","resolvePromise","rejectPromise","reason","invokeCallback","subscriber","owner","settled","_state","_data","handleThenable","TypeError","val","fulfill","publishFulfillment","publishRejection","publish","_then","_handled","notifyRejectionHandled","onFulfillment","onRejection","fulfilled","rejected","promises","isArray","results","remaining","race","UI","app","UI_1","LogLevel","ModuleSystem","LicenseType","webapp","browserType","registry","itemType","licenseType","types","app_1","registry_1","webapp_1","__extends","this","extendStatics","b","setPrototypeOf","__proto__","hasOwnProperty","__","BaseComponent","inject","_super","props","context","_this","renderInternal","services","processor","processElement","c","render","children","Component","Async","state","o","setState","BaseComponent_1","Async_1","clone","z","keys","k","SM","Bind","s","data","subscribers","moduleSystem","x","visit","childArray","bind","setValue","path","Function","getValue","subscribe","a","onChange","v","target","obj","components_1","Data","transform","format","str","toString","Events","_a","callbacks","onWindowMessage","ev","type","eventType","correlationId","unsubscribe","event","subscriptions","response","postMessage","r","__awaiter","thisArg","_arguments","P","generator","step","next","result","done","__generator","body","_","label","sent","t","trys","ops","f","y","g","verb","iterator","op","basePath","nodeRequire","run","source","m","console","log","Loader","parent","res","fetch","credentials","ok","status","statusText","text","init","basepath","tmpdir","env","INIT_CWD","__dirname__","cwd","chdir","_exp","require","mainModule","_load","references","refkeys","refs","values","_references","systemjs","getOwnPropertyDescriptor","jst","input","transformer","proxy","require$$0","require$$1","moduleName","normalizedParentName","u","rj","__esModule","settings","cdn","substr","_transformer","_offset","offset","loadModule","indent","s_xa","Inject","inj","Processor","cache","Proxy","main","createClass","B","class_1","locate","resource","parts","part","getFunctionName","trim","processElementInternal","element","depth","logger","types_1","key","parse","level","Trace","stack","o2","fullpath","substring","obj_1","components","toLowerCase","class_2","some","Date","now","isTemplate","baseExecutionPath","JSON","stringify","code","exported","rs","__assign","assign","qs","exec","params","Navigation","current","container","controllers","match","test","click","navigation","topParent","history","pushState","events","nativeEvent","preventDefault","onClick","Container","NavigationContainer","onRedirect","componentWillMount","componentWillUnmount","__importDefault","mod","Transformer","reservedWords","parsers","Parsers_1","Parsers","compact","None","namedExports","ES","imports","lines","lt","tab","esc","et","processed","charAt","filter","skey","processExports","validkeys","isDefault","nl","sp","vr","preferConst","processImports","s2","r2","ext","module_name","req","runtimeModule","transformTemplate","template","compositeObject","dangerouslyProcessJavaScript","warn","message","Data_1","Events_1","Loader_1","Processor_1","Navigation_1","Transformer_1","App","info","logLevel","logger_1","title","optionalParameters","services_1","AMD","externals","co","ex","initApp","__importStar","Services","WebUI","ui","mergeWith","WebApp","browser","core_1","Unknown","WebUI_1","w","bt","InstallTrigger","FireFox","documentMode","IE","StyleMedia","Edge","HTMLElement","safari","pushNotification","Safari","chrome","webstore","runtime","Chrome","navigator","userAgent","Opera","CSS","Blink","baseURI","getElementById","tagName","fr","contentDocument","body_1","doc","ownerDocument","fullHeight","style","height","margin","setAttribute","hasChildNodes","innerHTML","WebApp_1","obj2","require$$4","_jst","require$$5","link","rel","contentType","description","rq","XMLHttpRequest","open","onload","responseText","getResponseHeader","onerror","send"],"mappings":"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"}