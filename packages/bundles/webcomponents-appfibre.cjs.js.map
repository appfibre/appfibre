{"version":3,"file":"webcomponents-appfibre.cjs.js","sources":["../webcomponents/dist/appfibre/Layout/Style.js","../webcomponents/dist/appfibre/Layout/Styles.js","../webcomponents/dist/appfibre/Layout/TabContainer.js","../webcomponents/dist/appfibre/Layout/CommandBar.js","../webcomponents/dist/appfibre/Layout/index.js","../webcomponents/dist/appfibre/Designer/types.js","../webcomponents/dist/appfibre/Designer/Styles.js","../webcomponents/dist/appfibre/Designer/DesktopRibbon.js","../types/dist/app/UI.js","../types/dist/app/index.js","../types/dist/webapp/index.js","../types/dist/registry/index.js","../types/dist/index.js","../webcomponents/dist/codemirror/index.js","../webcomponents/dist/appfibre/Designer/DesignerViewport.js","../webcomponents/dist/appfibre/Designer/SidePanel.js","../webcomponents/dist/appfibre/Designer/DesktopDesigner.js","../webcomponents/dist/appfibre/Designer/Intercept.js","../webcomponents/dist/appfibre/Designer/DesignerFrame.js","../webcomponents/dist/appfibre/Designer/index.js","../webcomponents/dist/appfibre/index.js"],"sourcesContent":["var _cache = [];\r\nexport default function Style(css) {\r\n    var head = document.head || document.getElementsByTagName('head')[0], style = document.createElement('style');\r\n    style.type = 'text/css';\r\n    if (Array.isArray(css)) {\r\n        css = css.filter(function (c) { return _cache.indexOf(c) == -1; }).map(function (c) { _cache.push(c); return c; }).join(';');\r\n    }\r\n    else if (css && _cache.indexOf(css) == -1) {\r\n        _cache.push(css);\r\n    }\r\n    else\r\n        css = '';\r\n    if (css.length > 0) {\r\n        style.appendChild(document.createTextNode(css));\r\n        head.appendChild(style);\r\n    }\r\n    return css;\r\n}\r\nexport function css(name, body) {\r\n    if (body && body.length > 0)\r\n        Style(name + \" {\" + (Array.isArray(body) ? body.join(';') : body) + \"}\");\r\n    if (name[0] == '.') {\r\n        var s = new RegExp(/[,.> ]/).exec(name.substr(1));\r\n        return name.substring(1, s && s.length > 0 ? s.index + 1 : name.length);\r\n    }\r\n    return '';\r\n}\r\n","import { css } from './Style';\r\nvar styles = {\r\n    Fill: css('.WebComponents_Layout_Fill', ['width: 100%', 'height: 100%']),\r\n    TabContainer: css('.TabContainer', ['cursor: default']),\r\n    Tab: css('.Tab', undefined),\r\n    Tab_Normal: css('.Tab-Normal', undefined),\r\n    Tab_Selected: css('.Tab-Selected', undefined),\r\n    TabStrip: css('.TabStrip', ['vertical-align: top', 'width: 100%']),\r\n    Table: css('.WebComponents_Layout_table', 'display: table'),\r\n    TableRow: css('.WebComponents_Layout_tr', 'display: table-row'),\r\n    TableCell: css('.WebComponents_Layout_td', 'display: table-cell'),\r\n    Left: css('.WebComponents_Layout_left', 'align: left'),\r\n    Right: css('.WebComponents_Layout_right', 'align: right')\r\n};\r\nexport default styles;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nimport styles from \"./Styles\";\r\n;\r\nvar TabContainer = function transform(a, c) {\r\n    var className = a.className, placement = a.placement, containerStyle = a.containerStyle, selectedIndex = a.selectedIndex, onSelectedIndexChanged = a.onSelectedIndexChanged, tabStyle = a.tabStyle, tabs = a.tabs, style = a.style, selectedTabStyle = a.selectedTabStyle, tabStripStyle = a.tabStripStyle, className_Tab = a.className_Tab, props = __rest(a, [\"className\", \"placement\", \"containerStyle\", \"selectedIndex\", \"onSelectedIndexChanged\", \"tabStyle\", \"tabs\", \"style\", \"selectedTabStyle\", \"tabStripStyle\", \"className_Tab\"]);\r\n    var children = [];\r\n    placement = placement || \"top\";\r\n    var v = placement === \"top\" || placement === \"bottom\" ? true : false;\r\n    var drawTab = function (tab, index) { return Array.isArray(tab) ? tab :\r\n        [\"div\",\r\n            { className: (placement === \"left\" ? styles.TableRow : styles.TableCell) + (' ' + (typeof tab !== \"string\" && tab.className ? tab.className : className_Tab || '')) + ' ' + styles.Tab + ' ' + (index === selectedIndex ? styles.Tab_Selected : styles.Tab_Normal),\r\n                style: index === selectedIndex ? selectedTabStyle : tabStyle, onClick: function () { return onSelectedIndexChanged ? onSelectedIndexChanged(index) : null; }\r\n            },\r\n            typeof tab === \"string\" ? tab : tab.title\r\n        ]; };\r\n    if (placement === \"top\" || placement === \"left\") {\r\n        children.push([\"div\",\r\n            { style: tabStripStyle, className: styles.TabStrip + ' ' + (placement === \"top\" ? styles.TableRow : styles.TableCell) },\r\n            [[\"div\", { className: styles.Table + ' ' + styles.Fill }, tabs ? tabs.map(drawTab) : null]]\r\n        ]);\r\n    }\r\n    if (c)\r\n        children.push([\"div\", { className: (v ? styles.TableRow : styles.TableCell) + ' ' + styles.Fill }, c]);\r\n    if (placement === \"bottom\" || placement === \"right\") {\r\n        children.push([\"div\",\r\n            { style: tabStripStyle, className: styles.TabStrip + ' ' + (placement === \"bottom\" ? styles.TableRow : styles.TableCell) },\r\n            [[\"div\", { className: styles.Table }, tabs ? tabs.map(drawTab) : null]]\r\n        ]);\r\n    }\r\n    return [\"div\", __assign({ className: styles.TabContainer + ' ' + styles.Table + (className ? ' ' + className : '') + ' ' + styles.Fill, style: style }, props), children];\r\n};\r\nexport { TabContainer };\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n;\r\nvar CommandBar = function transform(props, children) {\r\n    var c = [];\r\n    if (props.sections)\r\n        for (var _i = 0, _a = props.sections; _i < _a.length; _i++) {\r\n            var section = _a[_i];\r\n            c.push([\"div\",\r\n                { style: __assign({}, props.section_style, { display: \"table-cell\" }), className: 'Section' },\r\n                [[\"div\",\r\n                        { style: { height: '80px' }, className: 'Section-Commands' },\r\n                        section.commands ? section.commands.map(function (s) { return [\"div\", __assign({ className: s.className }, s.style), [[\"div\", { title: s.title, onClick: s.onClick }, s.title]]]; }) : null\r\n                    ],\r\n                    [\"div\", { className: 'Section-Title', style: { color: 'gray', textAlign: \"center\" } }, section.title]\r\n                ]\r\n            ]);\r\n        }\r\n    return [\"div\",\r\n        { className: 'Full CommandBar', style: { display: \"table\" } },\r\n        c];\r\n};\r\nexport { CommandBar };\r\n","//import { Flex, FlexItem } from \"./FlexBox\";\r\n//import { Grid, GridItem } from \"./Grid\";\r\nimport { TabContainer } from \"./TabContainer\";\r\nimport { CommandBar } from \"./CommandBar\";\r\nimport Style from './Style';\r\nexport { Style, TabContainer, CommandBar };\r\n","export var EditMode;\r\n(function (EditMode) {\r\n    EditMode[EditMode[\"Inline\"] = 0] = \"Inline\";\r\n    EditMode[EditMode[\"Source\"] = 1] = \"Source\";\r\n})(EditMode || (EditMode = {}));\r\nvar events = {\r\n    \"Designer.Load\": function (data) { return { type: \"Designer.Load\", data: data }; },\r\n    \"Designer.Intercept.Select\": function (data) { return { type: \"Designer.Intercept.Select\", data: data }; },\r\n    \"Designer.Select\": function (event) { return { type: \"Designer.Select\", data: event ? event.data : undefined, correlationId: event ? event.correlationId : undefined }; },\r\n    \"Designer.Ribbon.ToggleEdit\": function () { return { type: \"Designer.Ribbon.ToggleEdit\" }; }\r\n    //, \"Designer.Deselect\": function (correlationId?:string):types.app.IEventData<undefined> {return {type: \"Designer.Intercept.DeSelect\", correlationId, data:undefined}}\r\n    ,\r\n    \"Designer.EditMode.Inline\": function (data) { return { type: \"Designer.EditMode.Inline\", data: data }; },\r\n    \"Designer.EditMode.Source\": function (data) { return { type: \"Designer.EditMode.Source\", data: data }; },\r\n    \"Ribbon.Event\": function (data, correlationId) { return { type: \"Ribbon.Event\", correlationId: correlationId, data: data }; },\r\n    \"Edit.Event\": function (data, correlationId) { return { type: \"Edit.Event\", correlationId: correlationId, data: data }; },\r\n    \"Intercept.Mounted\": function (data, correlationId) { return { type: \"Intercept.Mounted\", correlationId: correlationId, data: data }; }\r\n};\r\nexport { events };\r\n","import { css } from '../Layout/Style';\r\nimport layout from '../Layout/Styles';\r\nvar wcd = function (s) { return \".WebComponents_Designer_\" + s; };\r\nvar classes = {\r\n    DesktopRibbon: css(wcd('DesktopRibbon'), ['display: table-row', 'background: #BBB', 'background-image: linear-gradient(#BBB, #AAA)']),\r\n    SidePanel: css(wcd('SidePanel') + ' .' + layout.Tab, 'border: 1px solid transparent'),\r\n    Tab_Explore: css(wcd('Tab_Explore'), ['font-size: 0pt', 'display: block', 'width: 32px;', 'height: 32px;', 'margin: 2px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAHt7e4KCgoaGhouLi42NjY6Ojo+Pj5CQkJGRkZKSkpOTk5aWlpeXl5qamp+fn6SkpKenp6mpqaqqqqysrK2tra+vr7Gxsbi4uL6+vr+/v8TExMzMzM3Nzc7OztHR0dXV1dfX19jY2N3d3d/f3+Dg4OHh4eTk5OXl5ejo6Onp6ezs7AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGKiAR0AAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjIx8SBplQAAAM9JREFUOE+tk+sSgiAQRiO7qNlFrcyyNDM1ef/nI1mJYZGmbDq/vlkOl2FhxD7QCY4f9PAXMASCV1MDhSsFh949S2NVUUsKLt0nYprkFCEhKEVdkgUm4cpPl0M0C03Z0kA0Cwq6cDhqRFhIRVkhRYIRtIXtakyHHvJL4cy7cIH44woKurCBR6KwxkLNm4CpkVBkPYphW/ztolLehRTi0BW2mahLkh0S8hl8BgX7pgjeQ0xDVHMpsGUs3plCvIShTmBsTEgoYktIyETEl/AGxp7iB5Xp2FCNRQAAAABJRU5ErkJggg==)']),\r\n    Tab_Properties: css(wcd('Tab_Properties'), ['font-size: 0pt', 'display: block', 'width: 32px', 'height: 32px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAABGdBTUEAALGPC/xhBQAAAwBQTFRFAAAAfHx8iIiIioqKi4uLj4+PkJCQkZGRkpKSlJSUlpaWmZmZmpqanZ2dn5+foaGhpaWlpqamp6enqKiorKysrq6ur6+vsLCwsbGxsrKytLS0tbW1tra2t7e3uLi4urq6vb29wsLCw8PDxMTExcXFxsbGx8fHyMjIycnJysrKy8vLzMzMzs7Oz8/P0dHR09PT1dXV1tbW2NjY39/f4uLi4+Pj5eXl5ubm5+fn6Ojo6enp6+vr7Ozs7e3t7u7u8fHx8vLy9PT09fX19vb29/f3+fn5+vr6/Pz8/v7+////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAARAr1UwAAAQB0Uk5T////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////AFP3ByUAAAAJcEhZcwAADsIAAA7CARUoSoAAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAA+ElEQVQ4T73T/U+CQBzHcbOyJM0o7MnQTiQlo6LUwq586BQ///8fRBexdbEvGpvz/csx9hp3Y9/LhSv6DzhdUgQqjdQqEdBZavqagD1LzY6Ag9ScjQIOjPpq8sUf0AG8M7V2AtBlAabcRVOrJQBdFlAFmnk1IwHosgD1R9WBt9al6Ql8/IJPQIzixuK85PKBWXgCvcV7+Xb6YLV74+NrEvC9l8BhzLV6Qf2CAKI8AGdXRd+9ASgw1ObwmbG1wyzg8VCCRjwBP3Hc6UJYzDCZh+fS9xfiWxZnL4LuwcSXM9+d3e9HhyTSOsNXv2+cyEcaSLK9eySXMPwC9RuGNpXY11AAAAAASUVORK5CYII=);']),\r\n    Tab: css(wcd('Tab'), undefined),\r\n    SourceEdit_Files: css(wcd('Edit_Files') + ' .' + layout.Tab, ['background: #BBB', 'padding-right: 20px', 'padding-right: 20px', 'border: 1px solid #AAA', 'border-radius: 1px']),\r\n    DesktopRibbon_Tab: css(wcd('Ribbon_Tab'), ['width: 100px', 'text-align: center']),\r\n    DesktopRibbon_TabContainer: css(wcd('Ribbon_TabContainer'), ['width: 100%']),\r\n    RibbonNavigator: css('.WebComponents_Desginer_RibbonNavigator', ['display: table-cell', 'vertical-align: top']),\r\n    CommandButton: css(wcd('CommandButton'), ['float: left', 'text-align: center', 'vertical-align: bottom', 'width: 40px', 'height: 40px', 'margin: 2px', 'padding: 2px', 'background: #B0B0B0', 'border-radius: 3px', 'border: 1px solid #BBB']),\r\n    CommandButton_Disabled: css(wcd('CommandButton_Disabled'), ['background: #999']),\r\n    CommandButton_Enabled: css(wcd('CommandButton_Enabled'), undefined),\r\n    CommandButton_Active: css(wcd('CommandButton_Active'), ['background: #CCC']),\r\n    CommandBar: css(wcd('CommandBar'), 'display: none'),\r\n    logo_Fibre: css(wcd('logo'), ['width: 20px', 'height: 20px', 'display: inline-block', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwQAADsEBuJFr7QAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4yMfEgaZUAAAG6SURBVDhPY/j//z9VMW2BlpaWkLq6er6amloBkTgbpAeqHRWoqqqmamtrfwoODv5PLA4MDPwPNPAZ0GBFqDEQALIFZFhlZeX/+vp6nLixqfL/5lXu/3dvtPh/Zr0vWCwzM/O/pqbmdaAxzBDTgADkTZCN6Aag4Ia6/4d3af5fNqngf3t7/v95UzLhcoaGhv+BZvBCjWNgAIUHIQMnTon6//q0+v+mBkw5kg1sbKr6f/6I1P+Tq8OwypNk4OSp0f9vHZP///ce0/+Hx1T/z+srw1BDsgv7p4b//3lN8n9bI3Z5kg1cv9bs/4O91ljlQJhkA6+c4v+/b2kMVjkQJsnAprbc/9/usP2f3VWNVR6ESTJw1hy//9/Oq/xvwCIHwyQZuGub5v+Ta3EHBwgTb2BD9f/750T/97fWYcohYWwGZoMyOkzB5Mkp/yd1VP6fPDXy/94lsSiasWEMA1VUVGQMDAx+wwqHLest/+9f5f9/7axEvGEHwmlpaf81NDQeAM1ghxoHAUAbonR0dP7m5eX9z8/PJwonJSWBSppXQB96Qo1BBUBJVaDkPiDeTwwGOmIhsByVhmoHAgYGAAfVwijqMWR9AAAAAElFTkSuQmCC)']),\r\n    CommandButton_NavigateTo: css(wcd('CommandButton_NavigateTo') + ' > div', ['width: 20px', 'height: 20px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAAA+klEQVQ4T92Ryw2CQBCGtwNfZ+3DCqzAMkh4hVeWAuwBSDiwGjxA4kWNbViINw8QnMFdDJ5w18TEP5kDy+TLNzPkv2JZ1sa27Tn/VA8Ar77vnz3Pm/IntSAwTdOaUno0DGPBn+WDwLIsmyzLajC9mKY547/kIoBYwlTX9b4pNK2wcWDdBVCYwj5PMP6E4wiBq60ZY13Tp4WmYRgeOlNVIFZvp6rAoiiaJEmqIAhyx3HGysA4jivY4w44o3ZkWOgSVPOBdRMgNEMYjLpvzWSCl34zY9IwDAKFmeu6WzB+jikbBEZR1JppmqYGwyAQRnwdQDUwIv0a7Ech5AEik4YBcXHklgAAAABJRU5ErkJggg==)']),\r\n    CommandButton_ToggleOff: css(wcd('CommandButton_Toggle') + ' > div', ['width: 30px', 'height: 20px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAOwgAADsIBFShKgAAAABl0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMC4yMfEgaZUAAAEfSURBVDhP7ZO/boMwEMatTn2LtK/WSH0IQKYrbEztBq+AEEgIxNhkgg1G2BhgDksq5z7k/MG10g6M+aRP1tl3P4F9xx5aV6ZpvhqG8U4rJ3/8YY5c27ZfZPlVtPnsOM5XlmU/bduKYRjEOI53jRzkosZ13U8wzrAnz/MSHOZ5LpIkQdK8Iv4PvOs6QYwYLMY539Z1LaIoEn3fi1shjuNYC1ENhmVZb8z3/T2CqqokZinsN02jhagOgmDHwjCc0jQV0zRJxFLYx7kOoJpYBwAPqwLxmfd+uSzL+X50ANXE+r48Ci5/lUc5tw2eviiKS7tgRawrVr1oG9mLc2MT6Ih+1BXpLHv3uGjsW9E4bTBOZFsZs19GjhzTjSx/aBUxdgIR/t1ldGPYwQAAAABJRU5ErkJggg==)']),\r\n    CommandButton_ToggleOn: css(wcd('CommandButton_ToggleOn') + ' > div', ['width: 30px', 'height: 20px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuMjHxIGmVAAABZUlEQVQ4T2MYBdQFrs0HFd06T6S5dxyvdW8/3oAXA9W4tQPVth9XgGpHAPv6+xxBE87NKF3/7E//ke//p5/++3/GGfwYpAakFqQnaOK56fb1+znAhtXX/2cKm3pp24Sj37FqRMbTT//5X77h2f/+HQ//zz/4CExXgPhAg8OnXtwKMovBo+NEcsf+T1gNQMflax/+v/fy639kcBfIr1j36D/IDI/OE0kMSfNunMCmGR2DNOy58hpqDCrYc/n1/879n/8nzr1xnCF3xYNv2AxAx8Vrn/z/8uMP1AhUABIvXvv0P8gs6hq4HGhg4rwbx7EZgI7xeXn35VdAeaCX5904RlKkgAIfFAnIAB4p+4CR0g6MFFiy6Sci2YBw5cbn//t3Pvy/4NBjcLIB85GTDQiAE/bE89NL1z8FJ2xsBmHDkIT9FDVhIwOv7qPyoKzn1nGsHiOroWGQGlDW82o+Kg/VPgqoAhgYAKvxudsBl8q9AAAAAElFTkSuQmCC)']),\r\n    CommandButton_Source: css(wcd('CommandButton_Source') + ' > div', ['width: 40px', 'height: 40px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAD9RtD9RtUBRtUBStUJUtUJUtkVWt0dYt0dYuEhZt0lauExcuU1euk9gu1JivFRkvFRkvVdmvVdnvllovlppv1trwF1swF9twWFvwWFvwmFwwmRyw2Z0xGh2xGx6xm58xm98xyGV8iKW8iGW8yWX8iSX8yeY8imZ8i2b8zaf8zSf9Deg8zmh8zui8zih9EGl9Eam9Eup9Eio9VOt9Fyx9XOAyHWCyXeEyniFy3uHy2S19Wu49my59nK893a+933B94KOzoSPz4aR0ImU0YyW0o2Y0pCa05Kc1Juk2IHC94vI+AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQ4GoQAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjIx8SBplQAAAUVJREFUOE/tk+dSAkEQBuUDc0AUM5gYEQPmrIhZwfd/nnF2dva4O0L5APSf6drquq0dihH+J8NwIH3CeuXcLNAn3CUyC/QOX4hqpoHe4SlRwzQQC4vbJswVqujM3+hwdMINYMm0TVR3cxp41wMhCncAfJofEzXd3AQyP3rSCd/k7NWcyW7mFSDnLYRf8r1br8zPRIemi1FpYQYoexMO7GbHLLK+9GEOKKkoiW1PADNuajgKFNz0NIhOTB1jwJwMDSeBeTc9R0RtU4eECzKiq4sqDqKqmcM+GB4j5ao3fiI6MxWmgHEVC1uyni2vtfjN+dCFkD+kvFOj2JsLXQtnvpfS/bDXsTeXgGzLPAq5DKzLkG3/+gO37cy3aSzkNb068eblB5NEqDwSXZgmSYd7XX8WIx0S7ZulSIdX1UuzFOmwL8NwAMx/iUt7k3ML7XIAAAAASUVORK5CYII=)', 'font-size: 0px;']),\r\n    CommandButton_Json: css(wcd('CommandButton_Json') + ' > div', ['width: 40px', 'height: 40px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAEeIx0iIx0iJyEqKyEyLyU6NylGPy1SRzFWSzFeTzVmUzluWzl6Xz16Yz1+Z0GGa0GKb0WOc0med0Wad0mad02id0Wif02mf1Gmg1G6j1XGl1nSn13yt2n+u24Cv3ISy3Yaz3ouz24m134q234213Iu24I654ZC64Zi/5JrB5Z7E56DF56HG6KTI6abJ6qjL66rM66zN7K3O7LLR7rPS7rTT77vY8bzY8b3Z8sHb88Lc88Te9MXe9cfg9cjg9cnh9s7k+NDm+Nbq+9jr+9jr/Nns/Nvt/dzu/d7v/t7w/vD1+/D2+////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABuxyKEAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjIx8SBplQAAAQtJREFUOE/tzVtTwjAQhmGXghRRFEWM9VBARUUr4NlqJahE+LD//+fUzIQilabglTOO700ms8/sLgRz9lNI0x2pSVgI8T0qR6UefpRraqbSQz8qE6A/nJRJMCIT4aRMhv5wI5Qz4JfUw3FKaOG4Pw5F6Rzu7voFXu3i8QD2Hm5K/TjYoxNhFg6vYC/ukwNGXot00KMzuTldRd4CM+ptLXzPZy/hSm0tg22ZegivQM6dvLuTAzswq/HwTUKItRVOp9gsSlhfiocuNfovYnt1kLO6mQpYpZOKhQ0j8/xIlG7DISPLJYQVC70mh7htcbn7odkF7p/Ar+Vn+rSmf/i7UJUavZGUGMHZzQmD4BN6dkxmYJI/GgAAAABJRU5ErkJggg==)', 'font-size: 0px;']),\r\n    CommandButton_Edit: css(wcd('CommandButton_Edit') + ' > div', ['width: 40px', 'height: 40px', 'background-repeat: no-repeat', 'background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAMAUExURQAAAEeIx12XzpjM/f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJFqYYcAAAEAdFJOU////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////wBT9wclAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAGXRFWHRTb2Z0d2FyZQBwYWludC5uZXQgNC4wLjIx8SBplQAAAFBJREFUOE/t0tEKABAMhWFm7//Ks0wpyZZMiq92of6LcyGQkUsYDSRMKs8Qsd3AQqhwC1F1RVhHC35D/QwMpmHnZPg3stc3KtxCgxLa7A6JMiLbhZUiAZRlAAAAAElFTkSuQmCC)', 'font-size: 0px;']),\r\n    Intercept: css(wcd('Intercept'), [\"border: 1px solid transparent\"]),\r\n    Intercept_Editing: css(wcd('Intercept_editing'), [\"background: #CCEEFF\", \"border: 1px solid #98CCFD\"]),\r\n    Intercept_Selected: css(wcd('Intercept_selected'), [\"border: 1px solid #AAA\"]),\r\n    Intercept_Focus: css(wcd('Intercept_focus'), [\"border: 1px dashed #DDD\"])\r\n};\r\ncss('body, button, input, select, textarea', ['font-family: BlinkMacSystemFont, -apple-system, \"Segoe UI\", \"Roboto\", \"Oxygen\", \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\", \"Helvetica\", \"Arial\", sans-serif;',\r\n    '-webkit-touch-callout: none', '-webkit-user-select: none', '-moz-user-select: none', '-ms-user-select: none', 'user-select: none'\r\n]);\r\ncss(layout.TabContainer, ['background: #DDD']);\r\ncss('.' + classes.SidePanel + ' .' + layout.Tab + ':hover', 'border: 1px solid #AAA');\r\ncss('.' + classes.SidePanel + ' .' + layout.Tab_Selected, ['border: 1px solid #999', 'border-radius: 3px']);\r\ncss('.' + classes.DesktopRibbon + ' .' + layout.Tab_Normal, ['border: 1px solid transparent', 'border-bottom: 1px solid lightgrey']);\r\ncss('.' + classes.DesktopRibbon + ' .' + layout.Tab_Selected, ['font-weight: bold', 'border-radius: 3px', 'border-top: 1px solid #DEDEDE', 'border-left: 1px solid #DEDEDE', 'border-right: 1px solid #DEDEDE', 'background: #DDD', 'background-image: linear-gradient(#EEE, #BBB)']);\r\ncss('.' + classes.RibbonNavigator + ' > div', ['display: table', 'width: 100%']);\r\ncss('.' + classes.RibbonNavigator + ' > div > div', ['display: table-cell', 'vertical-align: top']);\r\ncss('.' + classes.RibbonNavigator + ' input', ['background: transparent', 'border: none', 'right: 0', 'width: 100%']);\r\ncss('.' + classes.CommandButton_Enabled + ':hover', ['background: #BBB', 'background-image: linear-gradient(#CCC, #DDD)', 'border-radius: 3px;']);\r\ncss('.' + classes.SourceEdit_Files + ' .' + layout.Tab_Selected, ['background: #DDD', 'background-image: linear-gradient(#DDD, #CCC)']);\r\nexport { classes };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport { events, EditMode } from \"./types\";\r\nimport * as Layout from \"../Layout\";\r\nimport { classes } from './Styles';\r\nimport styles from \"../Layout/Styles\";\r\nvar DesktopRibbon /*: fibre.UI.Component */ = function inject(app) {\r\n    var navigator = function inject(app) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(Navigator, _super);\r\n            function Navigator(props) {\r\n                var _this = _super.call(this, props) || this;\r\n                _this.state = { url: _this.props.url || '', allowEdit: false };\r\n                _this.url_change = _this.url_change.bind(_this);\r\n                _this.navigate_click = _this.navigate_click.bind(_this);\r\n                return _this;\r\n            }\r\n            Navigator.prototype.url_change = function (ev) {\r\n                this.setState({ url: ev.target.value });\r\n            };\r\n            Navigator.prototype.navigate_click = function () {\r\n                app.services.events.publish(events[\"Designer.Load\"]({ url: this.state.url }));\r\n            };\r\n            Navigator.prototype.render = function () {\r\n                var _this = this;\r\n                var toggle = (this.state.url && this.props.activeFiles.indexOf(this.state.url) > -1) ? classes.CommandButton_ToggleOn : classes.CommandButton_ToggleOff;\r\n                return _super.prototype.render.call(this, [\"div\",\r\n                    { className: classes.RibbonNavigator, style: { background: \"#DDD\", overflow: \"hidden\" } },\r\n                    [[\"div\",\r\n                            {},\r\n                            [[\"div\", {}, [['input', { type: 'text', style: {}, value: this.state.url, onChange: this.url_change }]]],\r\n                                [\"div\", { title: 'Navigate To', style: { width: \"25px\" }, className: classes.CommandButton_NavigateTo, onClick: this.navigate_click }, [['div']]],\r\n                                [\"div\", { title: 'Edit', style: { width: '20px' }, className: toggle, onClick: function () { return _this.props.toggleActiveFile(_this.state.url); } }, [['div']]]\r\n                            ]\r\n                        ]\r\n                    ]\r\n                ]);\r\n            };\r\n            return Navigator;\r\n        }(app.services.UI.Component));\r\n    };\r\n    return /** @class */ (function (_super) {\r\n        __extends(DesktopRibbon, _super);\r\n        function DesktopRibbon(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { selectedContext: null, source: null, menuIndex: -1, allowEdit: false, editing: { viewSource: false, activeFiles: [] } };\r\n            //this.onMessage = this.onMessage.bind(this);\r\n            //this.edit = this.edit.bind(this);\r\n            _this.nav_click = _this.nav_click.bind(_this);\r\n            _this.onSelect = _this.onSelect.bind(_this);\r\n            _this.ribbon_toggle_edit = _this.ribbon_toggle_edit.bind(_this);\r\n            _this.command_click = _this.command_click.bind(_this);\r\n            _this.toggle_ActiveFile = _this.toggle_ActiveFile.bind(_this);\r\n            return _this;\r\n        }\r\n        DesktopRibbon.prototype.command_button = function (editMode, title, className) {\r\n            var _this = this;\r\n            return { title: title, className: classes.CommandButton + ' ' + className + ' ' + (this.state.allowEdit ? this.state.editMode === editMode ? classes.CommandButton_Active : classes.CommandButton_Enabled : classes.CommandButton_Disabled), onClick: function () { return _this.command_click(editMode); } };\r\n        };\r\n        DesktopRibbon.prototype.menus = function () {\r\n            return [\r\n                [[\"div\", { className: styles.TableCell, style: { width: '40px', textAlign: 'center', verticalAlign: 'middle' } }, [[\"a\", { className: classes.logo_Fibre }]]]],\r\n                [\"File\", [\"div\", {},\r\n                        [['label', {}, this.state.selectedContext && this.state.selectedContext.data.control ? this.state.selectedContext.data.control.url : '(none)'],\r\n                            this.state.selectedContext && this.state.selectedContext.data.control && this.state.selectedContext.data.canEdit ? ['button', { onClick: this.nav_click }, 'Edit'] : ['span', {}, '------']\r\n                        ]]\r\n                ],\r\n                [\"Edit\", [Layout.CommandBar, { sections: [{ title: \"Edit\",\r\n                                    commands: [this.command_button(EditMode.Inline, 'Edit', classes.CommandButton_Edit),\r\n                                        this.command_button(EditMode.Source, 'Edit Source', classes.CommandButton_Source)\r\n                                    ]\r\n                                },\r\n                                { title: \"Format\" }\r\n                            ],\r\n                            section_style: { height: \"100%\" } }]],\r\n                [\"View\", [\"div\", null, \"View content\"]],\r\n                [\"Insert\", [\"div\", null, \"Insert content\"]],\r\n                [\"Layout\", [\"div\", null, \"Layout content\"]],\r\n                [\"Data\", [\"div\", null, \"Data content\"]],\r\n                [[navigator, { url: this.state.selectedContext && this.state.selectedContext.data.control ? this.state.selectedContext.data.control.url : '', activeFiles: this.state.editing.activeFiles, toggleActiveFile: this.toggle_ActiveFile }]]\r\n            ];\r\n        };\r\n        DesktopRibbon.prototype.toggle_ActiveFile = function (filename) {\r\n            var _this = this;\r\n            var files = this.state.editing.activeFiles;\r\n            var index = files.indexOf(filename);\r\n            if (index > -1)\r\n                files.splice(index, 1);\r\n            else\r\n                files.push(filename);\r\n            this.setState({ editing: __assign({}, this.state.editing, { activeFiles: files, selectedFile: filename }) }, function () { return app.services.events.publish(events[\"Edit.Event\"](_this.state.editing)); });\r\n        };\r\n        DesktopRibbon.prototype.componentDidMount = function () {\r\n            //this.setState({url: this.props.document});\r\n            //window.addEventListener('message', this.onMessage);\r\n            app.services.events.subscribe(events[\"Designer.Intercept.Select\"](), this.onSelect);\r\n            app.services.events.subscribe(events[\"Designer.Ribbon.ToggleEdit\"](), this.ribbon_toggle_edit);\r\n        };\r\n        DesktopRibbon.prototype.componentWillUnmount = function () {\r\n            //window.removeEventListener('message', this.onMessage);\r\n            app.services.events.unsubscribe(events[\"Designer.Intercept.Select\"](), this.onSelect);\r\n            app.services.events.unsubscribe(events[\"Designer.Ribbon.ToggleEdit\"](), this.ribbon_toggle_edit);\r\n        };\r\n        DesktopRibbon.prototype.nav_click = function () {\r\n            if (this.state.selectedContext && this.state.selectedContext.data.control)\r\n                app.services.events.publish(events[\"Designer.Load\"]({ url: this.state.selectedContext.data.control.url }));\r\n        };\r\n        DesktopRibbon.prototype.command_click = function (editMode) {\r\n            if (this.state.allowEdit && this.state.selectedContext && this.state.selectedContext.data.control) {\r\n                var url = this.state.selectedContext.data.control;\r\n                if (this.state.editMode === editMode)\r\n                    editMode = undefined;\r\n                this.setState({ editMode: editMode }, function () {\r\n                    app.services.events.publish(events[\"Ribbon.Event\"]({ editMode: editMode }));\r\n                });\r\n            }\r\n        };\r\n        DesktopRibbon.prototype.ribbon_toggle_edit = function () {\r\n            this.setState({ menuIndex: this.state.menuIndex > -1 ? -1 : 1 });\r\n        };\r\n        DesktopRibbon.prototype.render = function () {\r\n            var _this = this;\r\n            var menus = this.menus();\r\n            return _super.prototype.render.call(this, [\"div\",\r\n                { className: this.props.className, style: __assign({ height: \"0%\" }, this.props.style) },\r\n                [[Layout.TabContainer,\r\n                        { placement: \"top\", tabs: menus.map(function (m) { return m ? m[0] : []; })\r\n                            //, containerStyle: this.state.menuIndex < 0 ? { display: \"none\"} : { width: \"100%\", height: \"100px\", borderBottom: \"1px solid #DDD\" }\r\n                            ,\r\n                            selectedIndex: this.state.menuIndex,\r\n                            onSelectedIndexChanged: function (index) { return _this.setState({ menuIndex: _this.state.menuIndex === index ? -1 : index }); },\r\n                            className: classes.DesktopRibbon_TabContainer,\r\n                            className_Tab: this.props.className_Tab\r\n                        },\r\n                        this.state.menuIndex >= 0 ? [menus[this.state.menuIndex][1]] : undefined\r\n                    ]\r\n                ]\r\n            ]);\r\n        };\r\n        /*edit() {\r\n            if (this.state.selectedContext && this.state.selectedContext.control) {\r\n\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open('GET',  this.state.selectedContext.control.file);\r\n                xhr.setRequestHeader('Content-Type', 'application/jst');\r\n                xhr.send();\r\n                var context = this;\r\n                xhr.addEventListener('load', function(this: XMLHttpRequest, e: ProgressEvent) {\r\n                    if (this.status === 200)\r\n                        context.state.source.postMessage({eventType: 'edit', editMode: 'inline', correlationId: context.state.selectedContext.correlationId}, location.href);\r\n                    });\r\n            }\r\n        }\r\n\r\n        onMessage(ev: any) {\r\n            if (this.props.document && this.props.document.substr(0, ev.origin.length) === ev.origin && ev.data) {\r\n                switch (ev.data.eventType) {\r\n                    case 'select':\r\n                        if (this.state.selectedContext && this.state.selectedContext.correlationId && ev.source)\r\n                            ev.source.postMessage({eventType: 'deselect', correlationId: this.state.selectedContext.correlationId}, location.href);\r\n                        this.setState({selectedContext: ev.data, source: ev.source});\r\n                    break;\r\n                }\r\n            }\r\n        }*/\r\n        DesktopRibbon.prototype.onSelect = function (ev) {\r\n            this.setState({ selectedContext: ev, allowEdit: ev.data.control ? true : false });\r\n            app.services.events.publish(events[\"Designer.Select\"](ev));\r\n        };\r\n        return DesktopRibbon;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesktopRibbon };\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar UI;\r\n(function (UI) {\r\n})(UI = exports.UI || (exports.UI = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar UI_1 = require(\"./UI\");\r\nvar app;\r\n(function (app) {\r\n    app.UI = UI_1.UI;\r\n    var LogLevel;\r\n    (function (LogLevel) {\r\n        LogLevel[LogLevel[\"None\"] = 0] = \"None\";\r\n        LogLevel[LogLevel[\"Exception\"] = 1] = \"Exception\";\r\n        LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\r\n        LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\r\n        LogLevel[LogLevel[\"Info\"] = 4] = \"Info\";\r\n        LogLevel[LogLevel[\"Trace\"] = 5] = \"Trace\";\r\n    })(LogLevel = app.LogLevel || (app.LogLevel = {}));\r\n    var ModuleSystem;\r\n    (function (ModuleSystem) {\r\n        ModuleSystem[\"None\"] = \"none\";\r\n        ModuleSystem[\"CommonJS\"] = \"commonjs\";\r\n        ModuleSystem[\"AMD\"] = \"amd\";\r\n        ModuleSystem[\"UMD\"] = \"umd\";\r\n        ModuleSystem[\"ES\"] = \"es\";\r\n    })(ModuleSystem = app.ModuleSystem || (app.ModuleSystem = {}));\r\n    var LicenseType;\r\n    (function (LicenseType) {\r\n        LicenseType[LicenseType[\"MIT\"] = 0] = \"MIT\";\r\n        LicenseType[LicenseType[\"GNU\"] = 1] = \"GNU\";\r\n    })(LicenseType = app.LicenseType || (app.LicenseType = {}));\r\n})(app = exports.app || (exports.app = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar webapp;\r\n(function (webapp) {\r\n    var browserType;\r\n    (function (browserType) {\r\n        browserType[browserType[\"Opera\"] = 0] = \"Opera\";\r\n        browserType[browserType[\"FireFox\"] = 1] = \"FireFox\";\r\n        browserType[browserType[\"Safari\"] = 2] = \"Safari\";\r\n        browserType[browserType[\"IE\"] = 3] = \"IE\";\r\n        browserType[browserType[\"Edge\"] = 4] = \"Edge\";\r\n        browserType[browserType[\"Chrome\"] = 5] = \"Chrome\";\r\n        browserType[browserType[\"Blink\"] = 6] = \"Blink\";\r\n        browserType[browserType[\"Unknown\"] = 7] = \"Unknown\";\r\n    })(browserType = webapp.browserType || (webapp.browserType = {}));\r\n})(webapp = exports.webapp || (exports.webapp = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar registry;\r\n(function (registry) {\r\n    var itemType;\r\n    (function (itemType) {\r\n        itemType[itemType[\"Service\"] = 0] = \"Service\";\r\n        itemType[itemType[\"Component\"] = 1] = \"Component\";\r\n    })(itemType = registry.itemType || (registry.itemType = {}));\r\n    var licenseType;\r\n    (function (licenseType) {\r\n        licenseType[licenseType[\"MIT\"] = 0] = \"MIT\";\r\n        licenseType[licenseType[\"GNU\"] = 1] = \"GNU\";\r\n    })(licenseType = registry.licenseType || (registry.licenseType = {}));\r\n})(registry = exports.registry || (exports.registry = {}));\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar app_1 = require(\"./app\");\r\nvar webapp_1 = require(\"./webapp\");\r\nvar registry_1 = require(\"./registry\");\r\nvar types;\r\n(function (types) {\r\n    types.app = app_1.app;\r\n    types.registry = registry_1.registry;\r\n    types.webapp = webapp_1.webapp;\r\n})(types = exports.types || (exports.types = {}));\r\nexports[\"default\"] = types;\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nvar __rest = (this && this.__rest) || function (s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n};\r\nvar CodeMirror = function transform(attr) {\r\n    var _this = this;\r\n    var settings = attr.settings, style = attr.style, className = attr.className, onChange = attr.onChange, props = __rest(attr, [\"settings\", \"style\", \"className\", \"onChange\"]);\r\n    var init = function (e) {\r\n        if (e) {\r\n            _this.services.moduleSystem.register('../../lib/codemirror', '@cdnjs/codemirror/5.48.4/codemirror.js');\r\n            if (JSON.stringify(settings) !== e.getAttribute(\"codemirror\")) {\r\n                var existing_1 = e.getAttribute(\"codemirror\") != null;\r\n                var resources = [_this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/codemirror.js'),\r\n                    _this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/codemirror.css')\r\n                ];\r\n                if (settings.matchBrackets)\r\n                    resources.push(_this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/addon/edit/matchbrackets.js'));\r\n                if (settings.closeBrackets)\r\n                    resources.push(_this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/addon/edit/closebrackets.js'));\r\n                if (settings.continueComments)\r\n                    resources.push(_this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/addon/comment/continuecomment.js'));\r\n                if (settings.comment)\r\n                    resources.push(_this.services.moduleSystem[\"import\"]('@cdnjs/codemirror/5.48.4/addon/comment/comment.js'));\r\n                Promise.all(resources).then(function (cm) {\r\n                    var codemirror = cm[0][\"default\"] || cm[0];\r\n                    if (!existing_1) {\r\n                        var editor_1 = codemirror.fromTextArea(e, settings);\r\n                        editor_1.on('change', function () { if (onChange)\r\n                            onChange(editor_1.getValue()); });\r\n                    }\r\n                    else {\r\n                        console.log(' TODO ?????');\r\n                    }\r\n                });\r\n                e.setAttribute(\"codemirror\", JSON.stringify(settings));\r\n            }\r\n        }\r\n    };\r\n    return [\"div\", { style: style, className: className }, [[\"textarea\", __assign({ style: { height: \"100%\", width: \"100%\" }, ref: init, onChange: function (e) { if (attr.onChange)\r\n                        attr.onChange(e.target.value); } }, props)]]];\r\n};\r\nexport default CodeMirror;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { types } from \"@appfibre/types\";\r\nimport { events, EditMode } from \"./types\";\r\nimport styles from '../Layout/Styles';\r\nimport { classes } from './Styles';\r\nimport { TabContainer } from \"../Layout\";\r\nimport CodeMirror from \"../../codemirror\";\r\nvar DesignerViewPort /*: fibre.UI.Component<any,any>*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(DesignerViewPort, _super);\r\n        function DesignerViewPort(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.props = props;\r\n            _this.state = { sources: {} };\r\n            _this.ribbon_event = _this.ribbon_event.bind(_this);\r\n            _this.designer_relay = _this.designer_relay.bind(_this);\r\n            _this.onRedirect = _this.onRedirect.bind(_this);\r\n            _this.edit_event = _this.edit_event.bind(_this);\r\n            _this.designer_select = _this.designer_select.bind(_this);\r\n            _this.designer_load = _this.designer_load.bind(_this);\r\n            _this.intercept_mounted = _this.intercept_mounted.bind(_this);\r\n            _this.onSelectedIndexChanged = _this.onSelectedIndexChanged.bind(_this);\r\n            _this.onCodeChange = _this.onCodeChange.bind(_this);\r\n            return _this;\r\n        }\r\n        DesignerViewPort.prototype.componentWillMount = function () {\r\n            if (window === window.parent) {\r\n                app.services.events.subscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n            }\r\n            app.services.events.subscribe(events[\"Ribbon.Event\"](), this.ribbon_event);\r\n            app.services.events.subscribe(events[\"Designer.Load\"](), this.designer_load);\r\n            app.services.events.subscribe(events[\"Designer.Select\"](), this.designer_select);\r\n            app.services.events.subscribe(events[\"Edit.Event\"](), this.edit_event);\r\n            app.services.events.subscribe(events[\"Intercept.Mounted\"](), this.intercept_mounted);\r\n        };\r\n        DesignerViewPort.prototype.componentWillUnmount = function () {\r\n            if (window === window.parent) {\r\n                app.services.events.unsubscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n            }\r\n            app.services.events.unsubscribe(events[\"Ribbon.Event\"](), this.ribbon_event);\r\n            app.services.events.unsubscribe(events[\"Designer.Load\"](), this.designer_load);\r\n            app.services.events.unsubscribe(events[\"Designer.Select\"](), this.designer_relay);\r\n            app.services.events.unsubscribe(events[\"Edit.Event\"](), this.edit_event);\r\n            app.services.events.unsubscribe(events[\"Intercept.Mounted\"](), this.intercept_mounted);\r\n        };\r\n        DesignerViewPort.prototype.load_file = function (target, file) {\r\n            return new Promise(function (resolve, reject) {\r\n                return app.services.moduleSystem.fetch(file).then(function (res) {\r\n                    target[file] = { content: res.text };\r\n                    resolve();\r\n                }, reject);\r\n            });\r\n        };\r\n        DesignerViewPort.prototype.edit_event = function (ev) {\r\n            var _this = this;\r\n            var sources = this.state.sources;\r\n            var files = Object.keys(sources);\r\n            var toLoad = [];\r\n            for (var _i = 0, files_1 = files; _i < files_1.length; _i++) {\r\n                var f = files_1[_i];\r\n                if (ev.data.activeFiles.indexOf(f) == -1)\r\n                    delete sources[f];\r\n            }\r\n            for (var _a = 0, _b = ev.data.activeFiles; _a < _b.length; _a++) {\r\n                var f = _b[_a];\r\n                if (files.indexOf(f) == -1)\r\n                    toLoad.push(this.load_file(sources, f));\r\n            }\r\n            Promise.all(toLoad).then(function () {\r\n                files = Object.keys(sources);\r\n                var selectedIndex = ev.data.selectedFile ? files.indexOf(ev.data.selectedFile) : -1;\r\n                if (selectedIndex === -1)\r\n                    selectedIndex = files.length - 1;\r\n                if (selectedIndex === -1)\r\n                    selectedIndex = undefined;\r\n                _this.setState({ sources: sources, selectedIndex: selectedIndex }, function () { return _this.designer_relay(ev); });\r\n            });\r\n        };\r\n        DesignerViewPort.prototype.ribbon_event = function (ev) {\r\n            this.setState({ editMode: ev.data.editMode });\r\n        };\r\n        DesignerViewPort.prototype.designer_select = function (ev) {\r\n            var files = Object.keys(this.state.sources);\r\n            var selectedIndex = (ev.data.control) ? files.indexOf(ev.data.control.url) : undefined;\r\n            if (selectedIndex == -1)\r\n                selectedIndex = undefined;\r\n            if ((selectedIndex != undefined || files.length == 0) && selectedIndex !== this.state.selectedIndex)\r\n                this.setState({ selectedIndex: selectedIndex });\r\n            this.designer_relay(ev);\r\n        };\r\n        DesignerViewPort.prototype.designer_load = function (ev) {\r\n            this.designer_relay(ev);\r\n            var files = Object.keys(this.state.sources);\r\n            app.services.events.publish(events[\"Edit.Event\"]({ activeFiles: files, viewSource: this.state.editMode === EditMode.Source, selectedFile: this.state.selectedIndex != undefined ? files[this.state.selectedIndex] : undefined }));\r\n        };\r\n        DesignerViewPort.prototype.designer_relay = function (ev) {\r\n            if (this.iframe && this.iframe.contentWindow /*&& ev.data*/)\r\n                app.services.events.publish(ev, this[\"iframe\"].contentWindow);\r\n        };\r\n        DesignerViewPort.prototype.onRedirect = function (event) {\r\n            //debugger;cd\r\n            //if (history && history.pushState) history.pushState(null, '', event.data); else location.replace(event.data);\r\n        };\r\n        DesignerViewPort.prototype.intercept_mounted = function (ev) {\r\n            if (ev.data.file && this.state.sources[ev.data.file]) {\r\n                var files = Object.keys(this.state.sources);\r\n                app.services.events.publish(events[\"Edit.Event\"]({ activeFiles: files, viewSource: this.state.editMode === EditMode.Source, selectedFile: this.state.selectedIndex != undefined ? files[this.state.selectedIndex] : undefined }));\r\n            }\r\n        };\r\n        DesignerViewPort.prototype.onSelectedIndexChanged = function (index) {\r\n            var _this = this;\r\n            this.setState({ selectedIndex: index }, function () {\r\n                if (_this.state.selectedIndex != undefined && _this.state.selectedIndex > -1) {\r\n                    var files = Object.keys(_this.state.sources);\r\n                    if (files.length > _this.state.selectedIndex)\r\n                        app.services.events.publish({ type: \"Designer.Intercept.Select\", correlationId: files[_this.state.selectedIndex], data: { editMode: true, canEdit: true, control: { url: files[_this.state.selectedIndex] } } });\r\n                }\r\n            });\r\n        };\r\n        DesignerViewPort.prototype.onCodeChange = function (file, value) {\r\n            var _this = this;\r\n            var sources = {};\r\n            Object.keys(this.state.sources).forEach(function (key) {\r\n                sources[key] = key == file ? { content: value } : _this.state.sources[key];\r\n            });\r\n            this.setState({ sources: sources });\r\n        };\r\n        DesignerViewPort.prototype.render = function () {\r\n            var _this = this;\r\n            var keys = Object.keys(this.state.sources);\r\n            var selectedIndex = this.state.selectedIndex === undefined ? -1 : this.state.selectedIndex;\r\n            if (keys.length < selectedIndex)\r\n                selectedIndex = keys.length - 1;\r\n            var src = location.href;\r\n            if (app.info.browser === types.webapp.browserType.IE) { // IE does not load another instance of a page with exactly the same name  \r\n                var ix = location.origin.length + 2;\r\n                src = src.substr(0, ix) + (src[ix].toUpperCase() == src[ix] ? src[ix].toLowerCase() : src[ix].toUpperCase()) + src.substr(ix + 1);\r\n            }\r\n            return _super.prototype.render.call(this, [[\"div\",\r\n                    { className: styles.Table + ' ' + styles.Fill, style: { display: \"table\", border: \"1px solid #AAA\" } },\r\n                    [[\"iframe\", { className: styles.TableRow + ' ' + styles.Fill, style: { background: \"white\", border: \"0\", resize: this.state.editMode === EditMode.Source ? \"vertical\" : \"none\" }, src: src, ref: function (e) { _this[\"iframe\"] = e; } }],\r\n                        this.state.editMode === EditMode.Source && selectedIndex > -1 && keys.length > 0 ? [\"div\",\r\n                            { className: styles.TableRow, style: { height: \"50%\" } },\r\n                            [[TabContainer,\r\n                                    { tabs: keys, className: classes.SourceEdit_Files, selectedIndex: this.state.selectedIndex, onSelectedIndexChanged: this.onSelectedIndexChanged },\r\n                                    keys.map(function (key, index) { return [CodeMirror, { className: styles.Fill, style: index == _this.state.selectedIndex ? {} : { display: 'none' }, value: _this.state.sources[key].content, settings: { matchBrackets: true, closeBrackets: true, continueComments: \"Enter\", lineNumbers: true, mode: \"application/ld+json\", lineWrapping: true, comment: true }, onChange: function (value) { return _this.onCodeChange(keys[selectedIndex], value); } }]; })]\r\n                            ]\r\n                        ] : null\r\n                    ]\r\n                ]]);\r\n        };\r\n        return DesignerViewPort;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesignerViewPort };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\n//import { events, Designer_Load, Designer_Select } from \"./types\";\r\nimport { css } from '../Layout/Style';\r\nimport { TabContainer } from \"../Layout/TabContainer\";\r\nvar classes = {\r\n    'SidePanel': css('.WebComponents_Designer_SidePanel', ['display: table-cell', 'vertical-align: top', 'height: 100%', 'overflow: auto', 'border: 1px solid transparent'])\r\n};\r\nvar SidePanel /*: fibre.UI.Component<any,any>*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(SidePanel, _super);\r\n        function SidePanel(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.props = props;\r\n            _this.state = { selectedIndex: -1 };\r\n            return _this;\r\n        }\r\n        SidePanel.prototype.componentWillMount = function () {\r\n            //window.addEventListener(\"click\", this.window_click);\r\n            //app.services.events.subscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            //document.body.onclick = function () {debugger;};\r\n        };\r\n        SidePanel.prototype.componentWillUnmount = function () {\r\n            //app.services.events.unsubscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            //window.removeEventListener(\"click\", this.window_click);\r\n        };\r\n        SidePanel.prototype.render = function () {\r\n            var _this = this;\r\n            var placement = this.props.placement || \"top\";\r\n            var v = placement === \"top\" || placement === \"bottom\";\r\n            var width = v ? '100%' : (this.state.selectedIndex > -1 ? '300px' : '1px');\r\n            var height = v ? (this.state.selectedIndex > -1 ? '300px' : '1px') : '100%';\r\n            var resize = this.state.selectedIndex > -1 ? (v ? 'vertical' : 'horizontal') : undefined;\r\n            var direction = placement === \"right\" ? \"rtl\" : \"ltr\";\r\n            return _super.prototype.render.call(this, [\"div\",\r\n                { className: classes.SidePanel, style: { width: width, height: height, resize: resize, direction: direction } },\r\n                [[\"div\", { style: { direction: \"ltr\", width: \"100%\", height: \"100%\" } },\r\n                        [[TabContainer,\r\n                                { tabStripStyle: v ? { height: \"25px\" } : { width: \"40px\" }, placement: placement, tabs: this.props.tabs, selectedIndex: this.state.selectedIndex, onSelectedIndexChanged: function (index) { return _this.setState({ selectedIndex: _this.state.selectedIndex === index ? -1 : index }); } },\r\n                                this.state.selectedIndex > -1 ? [[\"div\", {}, \"------content------\"]] : null\r\n                            ]\r\n                        ]\r\n                    ]]\r\n            ]);\r\n        };\r\n        return SidePanel;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { SidePanel };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { DesktopRibbon } from \"./DesktopRibbon\";\r\nimport { DesignerViewPort } from \"./DesignerViewport\";\r\nimport { SidePanel } from './SidePanel';\r\nimport { classes } from './Styles';\r\nvar DesktopDesigner /*: fibre.UI.Component*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Designer, _super);\r\n        function Designer(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { src: props.src, leftMenuIndex: -1, rightMenuIndex: -1 };\r\n            _this.navigateTo = _this.navigateTo.bind(_this);\r\n            //this.designer_Load = this.designer_Load.bind(this);\r\n            // this.onMessage = this.onMessage.bind(this);\r\n            document.body.style.position = \"absolute\";\r\n            document.body.style.top = document.body.style.left = document.body.style.right = document.body.style.bottom = \"0\";\r\n            document.body.style.overflow = \"hidden\";\r\n            return _this;\r\n        }\r\n        Designer.prototype.componentDidMount = function () {\r\n            document.body.style.margin = '0px';\r\n            document.body.style.height = '100%';\r\n        };\r\n        Designer.prototype.navigateTo = function (url) {\r\n            this.setState({ url: url });\r\n        };\r\n        Designer.prototype.render = function () {\r\n            return _super.prototype.render.call(this, [\"div\", { style: { display: \"table\", width: \"100%\", height: \"100%\", backgroundColor: \"#EEE\", backgroundImage: \"linear-gradient(#BBB, #F0F0F0)\" } },\r\n                [[DesktopRibbon, { className: classes.DesktopRibbon, className_Tab: classes.DesktopRibbon_Tab }],\r\n                    [\"div\", { style: { display: \"table\", width: \"100%\", height: \"100%\" } },\r\n                        [[SidePanel, { name: \"leftSidePanel\", className: classes.SidePanel, placement: \"left\", tabs: [{ title: 'Explore', className: classes.Tab_Explore }] }],\r\n                            ,\r\n                            [DesignerViewPort, { style: { display: \"table-cell\", resize: \"horizontal\" } }],\r\n                            [SidePanel, { name: \"rightSidePanel\", className: classes.SidePanel, placement: \"right\", tabs: [{ title: 'Properties', className: classes.Tab_Properties }] }]\r\n                        ]\r\n                    ],\r\n                    [\"div\", { style: { display: \"table-row\", height: \"0%\" } }, [[SidePanel, { name: \"bottomSidePanel\", className: classes.SidePanel, placement: \"bottom\", tabs: ['Logs'] }]]]\r\n                ]\r\n            ]\r\n            /*[   \"div\", {style: {display:\"table\", height: \"100%\", width: \"100%\", backgroundColor: \"#EEE\", backgroundImage: \"linear-gradient(#BBB, #F0F0F0)\"}},\r\n        \r\n            [   [ DesktopRibbon, {className: styles.desktopRibbon} ]\r\n              , [ Layout.SplitContainer\r\n                , { direction: \"column\", defaults: [ {}, {size: 50, min: 50, max: 50}], style: {display: \"table-cell\"} }\r\n                , [ [ Layout.SplitContainer\r\n                    , { direction: \"row\", defaults: [ {size: 350, min: 100, max: 500}, {}, {size: 350, min: 100, max: 500}]}\r\n                    , [ [ Layout.TabContainer, {placement: \"bottom\", tabs: [\"Tab1\", \"Tab2\", \"Tab3\"]}, [ [ \"div\", {}, \"------content------\"] ] ]\r\n                      , [ DesignerViewPort ]\r\n                      , [ Layout.TabContainer, { placement: \"bottom\", tabs: [\"Tab1\", \"Tab2\", \"Tab3\"] }, [ [ \"div\", {}, \"------content------\"] ] ]\r\n                      ]\r\n                    ]\r\n                    , [ \"div\", {style: { display: \"table-row\"}}, \"Footer\" ]\r\n                  ]\r\n                ]\r\n            ]\r\n        ]*/\r\n            /*\r\n                   [ \"div\", {style:{display: \"table\", width: \"100%\", height: \"100%\" }}\r\n                    ,   [   [ \"div\", {style: {display: \"table-row\", background: 'red', height: \"10px\" }}, 'Header']\r\n                        ,   [\"div\", {style: {display: \"table\", width: \"100%\", height: \"100%\"}}\r\n                            ,   [   [ \"div\", {style: {display: \"table-cell\", borderRight: \"1px solid grey\",padding: \"20px\",  width: \"300px\", resize: \"horizontal\", overflowY: \"auto\"}}, \"Panel\"]\r\n                                ,   [ \"div\", {style: {display: \"table-cell\", resize: \"horizontal\"}}, \"center\" ]\r\n                                ,   [ \"div\", {style: {display: \"table-cell\", borderLeft: \"1px solid grey\", padding: \"20px\",  width: \"300px\", resize: \"horizontal\", overflowY: \"auto\", direction: \"rtl\", textAlign: \"left\"}}, \"Panel\"]\r\n                                ]\r\n                            ]\r\n                        ,   [ \"div\", {style: {display: \"table-row\", background: 'red', height: \"10px\" }}, 'Footer']\r\n                        ]\r\n                    ]\r\n            */\r\n            );\r\n        };\r\n        return Designer;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesktopDesigner };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { events } from \"./types\";\r\nimport { classes } from \"./Styles\";\r\nvar Intercept = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Intercept, _super);\r\n        function Intercept(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { focus: false, selected: false, editing: false, editMode: null, canEdit: true };\r\n            //this.onMessage = this.onMessage.bind(this);\r\n            _this.click = _this.click.bind(_this);\r\n            _this.doubleclick = _this.doubleclick.bind(_this);\r\n            _this.mouseEnter = _this.mouseEnter.bind(_this);\r\n            _this.mouseLeave = _this.mouseLeave.bind(_this);\r\n            _this.designer_select = _this.designer_select.bind(_this);\r\n            _this.edit_event = _this.edit_event.bind(_this);\r\n            return _this;\r\n        }\r\n        Intercept.prototype.componentDidMount = function () {\r\n            //window.addEventListener(\"message\", this.onMessage);\r\n            app.services.events.subscribe(events[\"Designer.Select\"](), this.designer_select);\r\n            app.services.events.subscribe(events[\"Edit.Event\"](), this.edit_event);\r\n            var topParent = window.parent;\r\n            while (topParent.parent != null && topParent.parent !== topParent)\r\n                topParent = topParent.parent;\r\n            app.services.events.publish(events[\"Intercept.Mounted\"]({ file: this.props.file }), topParent);\r\n        };\r\n        Intercept.prototype.componentWillUnmount = function () {\r\n            //window.removeEventListener(\"message\", this.onMessage);\r\n            app.services.events.unsubscribe(events[\"Designer.Select\"](), this.designer_select);\r\n            app.services.events.unsubscribe(events[\"Edit.Event\"](), this.edit_event);\r\n        };\r\n        Intercept.prototype.edit_event = function (ev) {\r\n            var editing = this.props.file ? ev.data.activeFiles.indexOf(this.props.file) > -1 : false;\r\n            if (this.state.editing != editing)\r\n                this.setState({ editing: editing });\r\n        };\r\n        Intercept.prototype.designer_select = function (ev) {\r\n            if (this.state.selected != (this.props.file == ev.correlationId))\r\n                this.setState({ selected: !this.state.selected });\r\n        };\r\n        Intercept.prototype.reconstruct = function (obj) {\r\n            if (!obj[1])\r\n                obj[1] = {};\r\n            obj[1].className = (obj[1].className ? obj[1].className + ' ' : '') + classes.Intercept + (this.state.focus && !this.state.selected && !this.state.editing ? ' ' + classes.Intercept_Focus : '') + (this.state.selected ? ' ' + classes.Intercept_Selected : '') + (this.state.editing ? ' ' + classes.Intercept_Editing : '');\r\n            if (!obj[1].style)\r\n                obj[1].style = {};\r\n            if (!obj[1].style.border && !obj[1].style.padding && !obj[1].onMouseEnter && !obj[1].onMouseLeave) {\r\n                //obj[1].style.padding = this.state.focus || this.state.selected ? \"1px\" : \"2px\";\r\n                //if (this.state.editing) obj[1].style.background = \"#98CCFD\";\r\n                //if (this.state.selected || this.state.editing || this.state.focus)\r\n                //    obj[1].style.border = `1px ${this.state.selected&&this.state.editing?\"solid\":\"dashed\"} ${this.state.editing ? \"blue\" : \"grey\"}`;\r\n                //else\r\n                //    obj[1].style.padding = '1px';\r\n                /*if (this.state.selected) obj[1].style.border = \"1px solid \" + (this.state.editing ? \"blue\" : \"grey\");\r\n                else if (this.state.focus) obj[1].style.border = \"1px dashed grey\";\r\n                )*/\r\n                obj[1].onMouseEnter = this.mouseEnter;\r\n                obj[1].onMouseLeave = this.mouseLeave;\r\n                obj[1].onClick = this.click;\r\n                obj[1].onDoubleClick = this.doubleclick;\r\n            }\r\n            return obj;\r\n        };\r\n        Intercept.prototype.render = function () {\r\n            //return super.render(Array.isArray(this.props.children) ? this.reconstruct([\"div\", {style: {display: \"inline-block\"}}, this.props.children])  : this.reconstruct(this.props.children));\r\n            return _super.prototype.render.call(this, this.reconstruct([\"div\", { style: { display: \"\" }, key: 0 }, this.props.children]));\r\n        };\r\n        Intercept.prototype.mouseEnter = function () {\r\n            //x.Designer.notify(\"x\");\r\n            this.setState({ \"focus\": true });\r\n        };\r\n        Intercept.prototype.mouseLeave = function () {\r\n            //x.Designer.notify(\"y\");\r\n            this.setState({ \"focus\": false });\r\n        };\r\n        Intercept.prototype.doubleclick = function (ev) {\r\n            app.services.events.publish({ type: \"Designer.Ribbon.ToggleEdit\", correlationId: Date.now().toString(), data: {} }, parent);\r\n        };\r\n        Intercept.prototype.click = function (ev) {\r\n            ev.stopPropagation();\r\n            //ev.stopImmediatePropagation();\r\n            //Designer.notify(this.props.file);\r\n            var parent = window;\r\n            while (parent.parent !== parent && window.parent != null)\r\n                parent = parent.parent;\r\n            //parent.postMessage({eventType: \"select\", editMode: this.state.editMode, canEdit: this.state.canEdit, correlationId, control: {file:this.props.file, method:this.props.method}}, location.href);\r\n            if (this.props.file) {\r\n                app.services.events.publish({ type: \"Designer.Intercept.Select\", correlationId: this.props.file, data: { editMode: this.state.editMode, canEdit: this.state.canEdit, control: { url: this.props.file } } }, parent);\r\n                //let file = this.props.file;\r\n                //this.setState( {selectedCorrelationId: file}\r\n                //             , () => app.services.events.publish<Designer_Select>({type: \"Designer.Intercept.Select\", correlationId: file, data: {editMode: this.state.editMode, canEdit: this.state.canEdit, control: {url:file}}}, parent));\r\n            }\r\n        };\r\n        return Intercept;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { Intercept };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Intercept } from \"./Intercept\";\r\nimport { events } from \"./types\";\r\nvar DesignerFrame /*: fibre.UI.Component<any,any>*/ = function inject(app) {\r\n    if (app.services.transformer.settings.parsers)\r\n        app.services.transformer.settings.parsers[\".app\"] = function (transformer, context, obj, offset) {\r\n            var obj2 = {};\r\n            var keys = Object.keys(obj);\r\n            keys.forEach(function (z) { return obj2[z == \".app\" ? \"main\" : z] = obj[z]; });\r\n            return \"[\\\".App\\\", {\" + app.services.transformer.process(obj2, context, true, true, offset) + \"}]\";\r\n        };\r\n    app.services.processor.unwrapDefault = function (obj) {\r\n        if (typeof obj === \"object\" && typeof obj.__esModule === \"string\")\r\n            return app.services.processor.processElement([Intercept, { file: obj.__esModule }, typeof obj[\"default\"] === \"string\" ? obj[\"default\"] : [obj[\"default\"]]]);\r\n        if (obj && obj[\"default\"])\r\n            obj = obj[\"default\"];\r\n        if (Array.isArray(obj)) {\r\n            /*if (typeof obj[0] === \"object\" && typeof obj[0].__esModule === \"string\" && obj[0].default) {\r\n                let __esModule = obj[0].__esModule;\r\n                obj[0] = obj[0].default;\r\n                return app.services.processor.processElement([Intercept, {file: __esModule}, [obj]]);\r\n            }*/\r\n            if (typeof obj[2] === \"object\" && typeof obj[2].__esModule === \"string\" && obj[2][\"default\"]) {\r\n                obj[2] = [[Intercept, { file: obj[2].__esModule }, obj[2][\"default\"]]];\r\n            }\r\n            return obj.map(function (e) { return e && e[\"default\"] ? e[\"default\"] : e; });\r\n        }\r\n        return obj;\r\n    };\r\n    return /** @class */ (function (_super) {\r\n        __extends(Designer, _super);\r\n        function Designer(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.props = props;\r\n            _this.state = { content: app.main };\r\n            _this.designer_Load = _this.designer_Load.bind(_this);\r\n            _this.window_click = _this.window_click.bind(_this);\r\n            return _this;\r\n        }\r\n        Designer.prototype.componentWillMount = function () {\r\n            window.addEventListener(\"click\", this.window_click);\r\n            app.services.events.subscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            //document.body.onclick = function () {debugger;};\r\n        };\r\n        Designer.prototype.window_click = function (ev) {\r\n            app.services.events.publish({ type: \"Designer.Intercept.Select\", correlationId: Date.now().toString(), data: { editMode: false, canEdit: false } }, parent);\r\n            //parent.postMessage({eventType: \"select\", correlationId: Date.now().toString()}, location.href); ev.returnValue = false; \r\n        };\r\n        Designer.prototype.componentWillUnmount = function () {\r\n            app.services.events.unsubscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            window.removeEventListener(\"click\", this.window_click);\r\n        };\r\n        Designer.prototype.designer_Load = function (ev) {\r\n            var _this = this;\r\n            if (ev.data) {\r\n                if (ev.data.url > '')\r\n                    app.services.moduleSystem[\"import\"](ev.data.url).then(function (x) {\r\n                        _this.setState({ content: x });\r\n                    }, function (z) { return alert(z); });\r\n                else\r\n                    this.setState({ content: app.main });\r\n            }\r\n        };\r\n        Designer.prototype.render = function () {\r\n            return _super.prototype.render.call(this, this.state.content);\r\n        };\r\n        return Designer;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesignerFrame };\r\n","import { DesktopDesigner } from \"./DesktopDesigner\";\r\nimport { DesignerFrame } from \"./DesignerFrame\";\r\n//alert( JSON.stringify(styles.default) );\r\n/*let Designer = (window.parent === window) ? DesktopDesigner : function transform(this:types.IAppLoaded, a:any, c:any) {\r\n    let app = this;\r\n    this.services.processor.init = (obj:{default:any, [index:string]:any}) => typeof obj.__esModule === \"string\" ? [Intercept, {file: obj.__esModule}, [obj.default]] : obj.default;\r\n    return app.main;\r\n};*/\r\nvar Designer = (window.parent === window) ? DesktopDesigner : DesignerFrame;\r\nexport { Designer };\r\n","var css = '.flex {\\ndisplay: -webkit-box;\\ndisplay: -moz-box;\\ndisplay: box;\\ndisplay: -moz-flex;\\ndisplay: flex;\\n}', head = document.head || document.getElementsByTagName('head')[0], style = document.createElement('style');\r\nhead.appendChild(style);\r\nstyle.type = 'text/css';\r\nstyle.appendChild(document.createTextNode(css));\r\nimport * as Layout from \"./Layout\";\r\nimport { Designer } from \"./Designer\";\r\nexport { Designer, Layout };\r\n"],"names":["this","__assign","layout","Layout.CommandBar","Layout.TabContainer","__rest","__extends","types","classes","css"],"mappings":"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"}