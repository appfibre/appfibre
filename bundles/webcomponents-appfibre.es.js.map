{"version":3,"file":"webcomponents-appfibre.es.js","sources":["../webcomponents/dist/appfibre/Layout/FlexBox.js","../webcomponents/dist/appfibre/Layout/Grid.js","../types/appfibre.js","../webcomponents/dist/appfibre/Layout/SplitContainer.js","../webcomponents/dist/appfibre/Layout/TabContainer.js","../webcomponents/dist/appfibre/Designer/types.js","../webcomponents/dist/appfibre/Designer/DesktopRibbon.js","../webcomponents/dist/appfibre/Designer/DesktopDesigner.js","../webcomponents/dist/appfibre/Designer/Intercept.js","../webcomponents/dist/appfibre/Designer/DesignerFrame.js","../webcomponents/dist/appfibre/Designer/index.js","../webcomponents/dist/appfibre/index.js"],"sourcesContent":["var Flex = function transform(tag, a, c) {\r\n    a.className = \"flex\";\r\n    return [tag, a, c];\r\n};\r\nvar FlexItem = function transform(tag, a, c) {\r\n    return [tag, a, c];\r\n};\r\nexport { Flex, FlexItem };\r\n","var Grid = function transform(tag, a, c) {\r\n    return [tag, a, c];\r\n};\r\nvar GridItem = function transform(tag, a, c) {\r\n    return [tag, a, c];\r\n};\r\nexport { Grid, GridItem };\r\n","\"use strict\";\r\nexports.__esModule = true;\r\nvar appfibre;\r\n(function (appfibre) {\r\n    var app;\r\n    (function (app) {\r\n    })(app = appfibre.app || (appfibre.app = {}));\r\n    var webapp;\r\n    (function (webapp) {\r\n        var browserType;\r\n        (function (browserType) {\r\n            browserType[browserType[\"Opera\"] = 0] = \"Opera\";\r\n            browserType[browserType[\"FireFox\"] = 1] = \"FireFox\";\r\n            browserType[browserType[\"Safari\"] = 2] = \"Safari\";\r\n            browserType[browserType[\"IE\"] = 3] = \"IE\";\r\n            browserType[browserType[\"Edge\"] = 4] = \"Edge\";\r\n            browserType[browserType[\"Chrome\"] = 5] = \"Chrome\";\r\n            browserType[browserType[\"Blink\"] = 6] = \"Blink\";\r\n            browserType[browserType[\"Unknown\"] = 7] = \"Unknown\";\r\n        })(browserType = webapp.browserType || (webapp.browserType = {}));\r\n    })(webapp = appfibre.webapp || (appfibre.webapp = {}));\r\n    var LogLevel;\r\n    (function (LogLevel) {\r\n        LogLevel[LogLevel[\"None\"] = 0] = \"None\";\r\n        LogLevel[LogLevel[\"Exception\"] = 1] = \"Exception\";\r\n        LogLevel[LogLevel[\"Error\"] = 2] = \"Error\";\r\n        LogLevel[LogLevel[\"Warn\"] = 3] = \"Warn\";\r\n        LogLevel[LogLevel[\"Info\"] = 4] = \"Info\";\r\n        LogLevel[LogLevel[\"Trace\"] = 5] = \"Trace\";\r\n    })(LogLevel = appfibre.LogLevel || (appfibre.LogLevel = {}));\r\n    var ModuleSystem;\r\n    (function (ModuleSystem) {\r\n        ModuleSystem[\"None\"] = \"none\";\r\n        ModuleSystem[\"CommonJS\"] = \"commonjs\";\r\n        ModuleSystem[\"AMD\"] = \"amd\";\r\n        ModuleSystem[\"UMD\"] = \"umd\";\r\n        ModuleSystem[\"ES\"] = \"es\";\r\n    })(ModuleSystem = appfibre.ModuleSystem || (appfibre.ModuleSystem = {}));\r\n})(appfibre = exports.appfibre || (exports.appfibre = {}));\r\nexports[\"default\"] = appfibre;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport appfibre from \"@appfibre/types\";\r\n;\r\n;\r\n;\r\nvar SplitContainer /*: fibre.UI.Component*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(SplitContainer, _super);\r\n        function SplitContainer(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            var panels = (props.children || []).map(function (c, i) { return props.defaults && i < props.defaults.length ? __assign({}, props.defaults[i], { content: c }) : { content: c }; });\r\n            var vertical = props.direction === \"column\" || props.direction === \"column-reverse\";\r\n            _this.state = { direction: props.direction || \"row\", vertical: vertical, panels: _this.distributeSpace(panels, vertical ? screen.availHeight : screen.availWidth) };\r\n            //this.window_resize = this.window_resize.bind(this);\r\n            _this.window_mouseup = _this.window_mouseup.bind(_this);\r\n            _this.window_mousemove = _this.window_mousemove.bind(_this);\r\n            _this.splitter_mousedown = _this.splitter_mousedown.bind(_this);\r\n            return _this;\r\n        }\r\n        SplitContainer.prototype.distributeSpace = function (panels, available) {\r\n            var n = 0;\r\n            var left = panels.reduce(function (pv, cv) { if (!cv.size)\r\n                n++; return cv.size ? pv - cv.size : pv; }, available - ((panels.length - 1)));\r\n            return panels.map(function (c) { return __assign({}, c, { ratio: ((c.size || (left / n)) / available) }); });\r\n        };\r\n        SplitContainer.prototype.window_mousemove = function (e) {\r\n            var _this = this;\r\n            if (this.state.resize) {\r\n                var index_1 = this.state.resize.splitter;\r\n                var delta_1 = (this.state.vertical ? e.clientY : e.clientX) - this.state.resize.start;\r\n                var prev = this.state.panels[index_1];\r\n                var next = this.state.panels[index_1 + 1];\r\n                var p_1 = this.state.resize.prev;\r\n                var n_1 = this.state.resize.next;\r\n                var pr_1 = this.state.resize.prev_ratio;\r\n                var nr_1 = this.state.resize.next_ratio;\r\n                if ((!prev.max || prev.max >= p_1 + delta_1) && (!prev.min || prev.min <= p_1 + delta_1) && (!next.min || next.min <= n_1 - delta_1) && (!next.max || next.max >= n_1 - delta_1)) {\r\n                    this.setState({ panels: this.state.panels.map(function (c, i) {\r\n                            if (i === index_1 || i === index_1 + 1) {\r\n                                if (!c.size || app.info.browser === appfibre.webapp.browserType.Safari) {\r\n                                    c.ratio = (i === index_1 ? pr_1 : nr_1) + ((i === index_1 ? 1 : -1) * (delta_1 / (_this.state.vertical ? screen.availHeight : screen.availWidth)));\r\n                                }\r\n                                else\r\n                                    c.size = i === index_1 ? p_1 + delta_1 : n_1 - delta_1;\r\n                            }\r\n                            return c;\r\n                        }) });\r\n                }\r\n            }\r\n        };\r\n        SplitContainer.prototype.splitter_mousedown = function (e, index) {\r\n            if (e.target) {\r\n                var t = e.target;\r\n                var p = t.previousElementSibling;\r\n                var n = t.nextElementSibling;\r\n                var v = this.state.vertical;\r\n                if (p && n)\r\n                    this.setState({ resize: { splitter: index, prev: p[v ? \"clientHeight\" : \"clientWidth\"], next: n[v ? \"clientHeight\" : \"clientWidth\"], start: v ? e.clientY : e.clientX, prev_ratio: this.state.panels[index].ratio, next_ratio: this.state.panels[index + 1].ratio } });\r\n            }\r\n            window.addEventListener('mouseup', this.window_mouseup);\r\n            window.addEventListener('mousemove', this.window_mousemove);\r\n        };\r\n        SplitContainer.prototype.window_mouseup = function (e) {\r\n            window.removeEventListener('mouseup', this.window_mouseup);\r\n            window.removeEventListener('mousemove', this.window_mousemove);\r\n            this.setState({ resize: undefined });\r\n        };\r\n        SplitContainer.prototype.render = function () {\r\n            var _this = this;\r\n            var children = [];\r\n            var bt = app.info.browser;\r\n            var sep_style = { margin: 0, padding: 0, width: '1px', cursor: this.state.vertical ? \"row-resize\" : \"col-resize\" };\r\n            sep_style[this.state.vertical ? \"width\" : \"height\"] = \"100%\";\r\n            if (!this.state.vertical) {\r\n                sep_style.display = \"inline-block\";\r\n                sep_style.verticalAlign = \"top\";\r\n            }\r\n            this.state.panels.forEach(function (c, i) {\r\n                if (i > 0)\r\n                    children.push([\"div\", { style: sep_style, onMouseDown: function (e) { return _this.splitter_mousedown.call(_this, e, i - 1); } }]);\r\n                var style = { border: \"0px solid grey\", margin: 0, padding: 0 };\r\n                style[_this.state.vertical ? \"width\" : \"height\"] = \"100%\";\r\n                style[_this.state.vertical ? \"height\" : \"width\"] = (!c.size || bt === appfibre.webapp.browserType.Safari) ? ((c.ratio * 100) + '%') : (c.size + 'px');\r\n                if (!c.size)\r\n                    style.flexGrow = 1;\r\n                if (_this.state.resize)\r\n                    style[\"pointerEvents\"] = \"none\";\r\n                if (!_this.state.vertical) {\r\n                    style.display = \"inline-block\";\r\n                    style.verticalAlign = \"top\";\r\n                }\r\n                children.push([\"div\", { style: style }, [c.content]]);\r\n            });\r\n            return _super.prototype.render.call(this, [\"div\", { style: { display: \"flex\", flexDirection: this.state.direction, margin: 0, padding: 0, height: \"100%\", width: \"100%\", overflow: \"hidden\" } }, children]);\r\n        };\r\n        return SplitContainer;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { SplitContainer };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { SplitContainer } from \"./SplitContainer\";\r\n;\r\nvar TabContainer /*: fibre.UI.Component*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(TabContainer, _super);\r\n        function TabContainer(props) {\r\n            return _super.call(this, props) || this;\r\n        }\r\n        TabContainer.prototype.render = function () {\r\n            var children = [];\r\n            var placement = this.props.placement || \"top\";\r\n            var v = placement === \"top\" || placement === \"bottom\" ? true : false;\r\n            var defaults = [];\r\n            var index = this.props.selectedIndex || 0;\r\n            if (placement === \"top\" || placement === \"left\") {\r\n                defaults.push({ size: 20, min: 20, max: 20 });\r\n                children.push([\"div\", null, \"tabs\"]);\r\n            }\r\n            defaults.push({});\r\n            children.push((this.props.children && this.props.children.length > index) ? this.props.children[index] : [\"div\", {}, \"empty\"]);\r\n            if (placement === \"bottom\" || placement === \"right\") {\r\n                defaults.push({ size: 20, min: 20, max: 20 });\r\n                children.push([\"div\", null, \"tabs\"]);\r\n            }\r\n            return _super.prototype.render.call(this, [SplitContainer,\r\n                { direction: (v ? \"column\" : \"row\"), defaults: defaults },\r\n                children]);\r\n        };\r\n        return TabContainer;\r\n    }(app.services.UI.Component));\r\n};\r\n/*\r\ntype Tab = [types.element|types.promisedElement, {title?:string}, Array<types.element|types.promisedElement>]\r\ntype TabContainer = [types.element, SplitContainer_Attributes, Array<Tab>];\r\n\r\nvar TabContainer = function transform(a:attr, c:Array<Tab>):TabContainer {\r\n    let children:any[] = [];\r\n    let placement: \"top\"|\"bottom\"|\"left\"|\"right\" = a.placement || \"top\";\r\n    let v = placement === \"top\" || placement === \"bottom\" ? true : false;\r\n    let defaults = [];\r\n    let index = a.selectedIndex || 0;\r\n    \r\n    if (placement === \"top\" || placement === \"left\") {\r\n        defaults.push( {size: 20, min: 20, max: 20});\r\n        children.push( [\"div\", null, \"tabs\"]);\r\n    }\r\n    defaults.push({});\r\n    //children.push( (c && a.children.length > index) ? this.props.children[index] : [\"div\", {}, \"empty\"] );\r\n    children.push([\"div\", {}, \"(empty)\"])\r\n\r\n    if (placement === \"bottom\" || placement === \"right\") {\r\n        defaults.push( {size: 20, min: 20, max: 20});\r\n        children.push([\"div\", null, \"tabs\"]);\r\n    }\r\n                \r\n    return  [ SplitContainer\r\n            , { direction: (v ? \"column\" : \"row\"), defaults: defaults }\r\n            , children\r\n            ];\r\n}\r\n*/\r\nexport { TabContainer };\r\n","var events = {\r\n    \"Designer.Load\": function (data) { return { type: \"Designer.Load\", data: data }; },\r\n    \"Designer.Intercept.Select\": function (data) { return { type: \"Designer.Intercept.Select\", data: data }; },\r\n    \"Designer.Select\": function (event) { return { type: \"Designer.Select\", data: event ? event.data : undefined, correlationId: event ? event.correlationId : undefined }; }\r\n    //, \"Designer.Deselect\": function (correlationId?:string):appfibre.app.IEventData<undefined> {return {type: \"Designer.Intercept.DeSelect\", correlationId, data:undefined}}\r\n};\r\nexport { events };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { events } from \"./types\";\r\nvar DesktopRibbon /*: fibre.UI.Component */ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(DesktopRibbon, _super);\r\n        function DesktopRibbon(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { selectedContext: null, source: null, url: './pages/latest/index.json' };\r\n            //this.onMessage = this.onMessage.bind(this);\r\n            //this.edit = this.edit.bind(this);\r\n            _this.url_change = _this.url_change.bind(_this);\r\n            _this.navigate_click = _this.navigate_click.bind(_this);\r\n            _this.edit_click = _this.edit_click.bind(_this);\r\n            _this.onSelect = _this.onSelect.bind(_this);\r\n            return _this;\r\n        }\r\n        DesktopRibbon.prototype.componentDidMount = function () {\r\n            //this.setState({url: this.props.document});\r\n            //window.addEventListener('message', this.onMessage);\r\n            app.services.events.subscribe(events[\"Designer.Intercept.Select\"](), this.onSelect);\r\n        };\r\n        DesktopRibbon.prototype.componentWillUnmount = function () {\r\n            //window.removeEventListener('message', this.onMessage);\r\n            app.services.events.unsubscribe(events[\"Designer.Intercept.Select\"](), this.onSelect);\r\n        };\r\n        DesktopRibbon.prototype.url_change = function (ev) {\r\n            this.setState({ url: ev.target.value });\r\n        };\r\n        DesktopRibbon.prototype.navigate_click = function () {\r\n            app.services.events.publish(events[\"Designer.Load\"]({ url: this.state.url }));\r\n        };\r\n        DesktopRibbon.prototype.edit_click = function () {\r\n            if (this.state.selectedContext && this.state.selectedContext.data.control)\r\n                app.services.events.publish(events[\"Designer.Load\"]({ url: this.state.selectedContext.data.control.url }));\r\n        };\r\n        DesktopRibbon.prototype.render = function () {\r\n            return _super.prototype.render.call(this, ['div',\r\n                {},\r\n                [\r\n                    ['div', {}, [['input', { type: 'text', 'style': { width: 'calc(100% - 45px)', background: 'transparent' }, value: this.state.url, onChange: this.url_change }],\r\n                            ['button', { style: { float: 'right' }, onClick: this.navigate_click }, 'GO']\r\n                        ]\r\n                    ],\r\n                    ['label', {}, this.state.selectedContext && this.state.selectedContext.data.control ? this.state.selectedContext.data.control.url : '(none)'],\r\n                    this.state.selectedContext && this.state.selectedContext.data.control && this.state.selectedContext.data.canEdit ? ['button', { onClick: this.edit_click }, 'Edit'] : ['span', {}, '------']\r\n                ]\r\n            ]);\r\n        };\r\n        /*edit() {\r\n            if (this.state.selectedContext && this.state.selectedContext.control) {\r\n\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open('GET',  this.state.selectedContext.control.file);\r\n                xhr.setRequestHeader('Content-Type', 'application/jst');\r\n                xhr.send();\r\n                var context = this;\r\n                xhr.addEventListener('load', function(this: XMLHttpRequest, e: ProgressEvent) {\r\n                    if (this.status === 200)\r\n                        context.state.source.postMessage({eventType: 'edit', editMode: 'inline', correlationId: context.state.selectedContext.correlationId}, location.href);\r\n                    });\r\n            }\r\n        }\r\n\r\n        onMessage(ev: any) {\r\n            if (this.props.document && this.props.document.substr(0, ev.origin.length) === ev.origin && ev.data) {\r\n                switch (ev.data.eventType) {\r\n                    case 'select':\r\n                        if (this.state.selectedContext && this.state.selectedContext.correlationId && ev.source)\r\n                            ev.source.postMessage({eventType: 'deselect', correlationId: this.state.selectedContext.correlationId}, location.href);\r\n                        this.setState({selectedContext: ev.data, source: ev.source});\r\n                    break;\r\n                }\r\n            }\r\n        }*/\r\n        DesktopRibbon.prototype.onSelect = function (ev) {\r\n            this.setState({ selectedContext: ev });\r\n            app.services.events.publish(events[\"Designer.Select\"](ev));\r\n        };\r\n        return DesktopRibbon;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesktopRibbon };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { events } from \"./types\";\r\nimport { DesktopRibbon } from \"./DesktopRibbon\";\r\nimport * as Layout from \"../Layout\";\r\nvar DesktopDesigner /*: fibre.UI.Component*/ = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Designer, _super);\r\n        function Designer(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { src: props.src };\r\n            _this.navigateTo = _this.navigateTo.bind(_this);\r\n            _this.onRedirect = _this.onRedirect.bind(_this);\r\n            //this.designer_Load = this.designer_Load.bind(this);\r\n            // this.onMessage = this.onMessage.bind(this);\r\n            _this.designer_relay = _this.designer_relay.bind(_this);\r\n            return _this;\r\n        }\r\n        Designer.prototype.componentWillMount = function () {\r\n            //window.onmessage = this.onMessage;\r\n            if (window === window.parent) {\r\n                app.services.events.subscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n            }\r\n            app.services.events.subscribe(events[\"Designer.Load\"](), this.designer_relay);\r\n            app.services.events.subscribe(events[\"Designer.Select\"](), this.designer_relay);\r\n        };\r\n        Designer.prototype.componentWillUnmount = function () {\r\n            //document.body.style.margin = '';\r\n            //document.body.style.background = '';\r\n            if (window === window.parent) {\r\n                app.services.events.unsubscribe({ type: \"Navigation.Redirect\" }, this.onRedirect);\r\n            }\r\n            app.services.events.unsubscribe(events[\"Designer.Load\"](), this.designer_relay);\r\n            app.services.events.unsubscribe(events[\"Designer.Select\"](), this.designer_relay);\r\n        };\r\n        /*designer_Load(ev:appfibre.app.IEventData<Designer_Load>) {\r\n            if (this.iframe && this.iframe.contentWindow && ev.data)\r\n                app.services.events.publish(ev, this[\"iframe\"].contentWindow);\r\n        }*/\r\n        Designer.prototype.designer_relay = function (ev) {\r\n            if (this.iframe && this.iframe.contentWindow /*&& ev.data*/)\r\n                app.services.events.publish(ev, this[\"iframe\"].contentWindow);\r\n        };\r\n        /* onMessage(ev) {\r\n            if (this.state.document.startsWith(ev.origin) && ev.data )\r\n            {\r\n                switch (ev.data.eventType)\r\n                {\r\n\r\n                }\r\n            }\r\n        }  */\r\n        Designer.prototype.componentDidMount = function () {\r\n            document.body.style.margin = '0px';\r\n            document.body.style.height = '100%';\r\n        };\r\n        Designer.prototype.navigateTo = function (url) {\r\n            this.setState({ url: url });\r\n        };\r\n        Designer.prototype.onRedirect = function (event) {\r\n            //debugger;cd\r\n            //if (history && history.pushState) history.pushState(null, '', event.data); else location.replace(event.data);\r\n        };\r\n        Designer.prototype.render = function () {\r\n            var _this = this;\r\n            return _super.prototype.render.call(this, \r\n            /*[   Grid( \"div\"\r\n                        , { style: { \"display\": \"grid\", \"gridTemplateColumns\": \"100px auto 100px\", \"gridTemplateRows\": \"150px auto 100px\", \"height\": \"100vh\", \"width\": \"100vw\" } }\r\n                        , [\r\n                              GridItem(\"div\", { style: {\"gridArea\": \"1/1/1/4\", \"background\": \"#AAA\"}}, [[ DesktopRibbon, {register: this.props.register, document: this.state.url, navigateTo: this.navigateTo}]])\r\n                            , GridItem(\"div\", { style: {\"gridArea\": \"2/1/2/1\", \"background\": \"red\"}}, \"left\")\r\n                            , GridItem(\"iframe\", { style: {\"gridArea\": \"2/2/2/2\", \"justifySelf\": \"stretch\", \"alignSelf\": \"stretch\", border: '2px solid grey'}, src: location.href, ref: (e:any) => {this[\"iframe\"] = e;}  })\r\n                            , GridItem(\"div\", { style: {\"gridArea\": \"2/3/2/3\", \"background\": \"green\"}}, \"right\")\r\n                            , GridItem(\"div\", { style: {\"gridArea\": \"3/1/3/4\", \"background\": \"yellow\"}}, \"output\")\r\n                          ]\r\n                    )\r\n            ]*/\r\n            [\"div\", { style: { height: \"100%\", backgroundColor: \"#EEE\", backgroundImage: \"linear-gradient(#CECECE, #EFEFEF)\" } },\r\n                [[Layout.SplitContainer,\r\n                        { direction: \"column\", defaults: [{ size: 120, min: 120, max: 120 }, {}, { size: 50, min: 50, max: 50 }] },\r\n                        [[DesktopRibbon, {}, \"top\"],\r\n                            [Layout.SplitContainer,\r\n                                { direction: \"row\", defaults: [{ size: 350, min: 100, max: 500 }, {}, { size: 350, min: 100, max: 500 }] },\r\n                                [[Layout.TabContainer, { placement: \"bottom\", tabs: [\"Tab1\", \"Tab2\", \"Tab3\"] }, [[\"div\", {}, \"-\"]]],\r\n                                    [\"iframe\", { style: { width: \"100%\", height: \"100%\", background: \"white\" }, src: location.href, ref: function (e) { _this[\"iframe\"] = e; } }],\r\n                                    [Layout.TabContainer, { placement: \"bottom\", tabs: [\"Tab1\", \"Tab2\", \"Tab3\"] }, [[\"div\", {}, \"-\"]]]\r\n                                ]\r\n                            ],\r\n                            [\"div\", {}, \"Footer\"]\r\n                        ]]\r\n                ]\r\n                /*Flex( \"div\"\r\n                        , { style: { display: \"flex\", \"flexDirection\": \"column\", \"WebkitBoxOrient\": \"vertical\", \"alignItems\": \"stretch\", \"height\": \"100vh\", \"minHeight\": \"100%\"} }\r\n                        , [   FlexItem(\"div\", { style: { \"background\": \"#AAA\", \"flexBasis\": \"150px\", \"flexGrow\": \"0\", \"flexShrink\": \"0\"}}, [[ DesktopRibbon, {register: this.props.register, document: this.state.url, navigateTo: this.navigateTo}]])\r\n                            , FlexItem(   \"div\"\r\n                                        , { style: { \"flexGrow\": \"1\", \"alignSelf\": \"stretch\"}}\r\n                                        , [\r\n                                            Flex( \"div\"\r\n                                                , { style: { display: \"flex\", \"flexDirection\": \"row\", \"flexGrow\": \"1\", \"flexShrink\": \"1\", \"height\": \"100%\", \"width\": \"100%\", \"alignItems\": \"stretch\"} }\r\n                                                , [ FlexItem(\"div\", { style: {\"flexBasis\": \"300px\", \"width\": \"300px\", \"flexShrink\": \"0\", \"flexGrow\": \"0\", \"background\": \"red\"}}, \"left\")\r\n                                                  , FlexItem(\"iframe\", { style: { \"flexGrow\": \"1\", \"flexShrink\": \"0\", \"justifySelf\": \"stretch\", \"alignSelf\": \"stretch\", \"height\": \"100%\"}, src: location.href + ' ', ref: (e:any) => {this[\"iframe\"] = e;}  }, \"TEST\")\r\n                                                  , FlexItem(\"div\", { style: {\"flexBasis\": \"300px\", \"width\": \"300px\", \"flexShrink\": \"0\", \"flexGrow\": \"0\", \"background\": \"green\"}}, \"right\")\r\n                                                ]\r\n                                            )\r\n                                        ]\r\n                              )\r\n                            , FlexItem(\"div\", { style: {\"background\": \"yellow\", \"flexBasis\": \"100px\", \"flexShrink\": \"0\"}}, \"output\")\r\n                          ]\r\n                    )*/\r\n                /*[Layout.SplitContainer, {direction: \"column\", defaults: [ {size: 200, min: 100, max: 300}, {}, {size: 200},{}, {size: 200, min: 100, max: 300}]} , [\r\n                      [ \"div\", null, [[\"p\", {}, \"I'm the left pane\"], [\"ul\", , [[\"li\", {}, \"Item 1\"], [\"li\", {}, \"Item 2\"]] ] ] ]\r\n                      , [ \"div\", null, [[\"p\", {}, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A accusantium at cum cupiditate dolorum, eius eum eveniet facilis illum maiores molestiae necessitatibus optio possimus sequi sunt, vel voluptate. Asperiores, voluptate!\"]]]\r\n                      , [ \"div\", null, [[\"p\", {}, \"I'm the right pane\"], [\"ul\", {}, [[\"li\", {}, \"Item 1\"], [\"li\", {}, \"Item 2\"]] ] ] ]\r\n                      , [ \"div\", null, [[\"p\", {}, \"Lorem ipsum dolor sit amet, consectetur adipisicing elit. A accusantium at cum cupiditate dolorum, eius eum eveniet facilis illum maiores molestiae necessitatibus optio possimus sequi sunt, vel voluptate. Asperiores, voluptate!\"]]]\r\n                      , [ \"div\", null, [[\"p\", {}, \"I'm the right pane\"], [\"ul\", {}, [[\"li\", {}, \"Item 1\"], [\"li\", {}, \"Item 2\"]] ] ] ]\r\n                     ]]*/\r\n            ]);\r\n        };\r\n        return Designer;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesktopDesigner };\r\n3;\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { events } from \"./types\";\r\nvar Intercept = function inject(app) {\r\n    return /** @class */ (function (_super) {\r\n        __extends(Intercept, _super);\r\n        function Intercept(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.state = { focus: false, selected: false, editMode: null, canEdit: true };\r\n            //this.onMessage = this.onMessage.bind(this);\r\n            _this.click = _this.click.bind(_this);\r\n            _this.mouseEnter = _this.mouseEnter.bind(_this);\r\n            _this.mouseLeave = _this.mouseLeave.bind(_this);\r\n            _this.designer_select = _this.designer_select.bind(_this);\r\n            return _this;\r\n        }\r\n        Intercept.prototype.componentDidMount = function () {\r\n            //window.addEventListener(\"message\", this.onMessage);\r\n            app.services.events.subscribe(events[\"Designer.Select\"](), this.designer_select);\r\n        };\r\n        Intercept.prototype.componentWillUnmount = function () {\r\n            //window.removeEventListener(\"message\", this.onMessage);\r\n            app.services.events.unsubscribe(events[\"Designer.Select\"](), this.designer_select);\r\n        };\r\n        Intercept.prototype.designer_select = function (ev) {\r\n            this.setState({ selected: this.state.selectedCorrelationId == ev.correlationId });\r\n        };\r\n        Intercept.prototype.reconstruct = function (obj) {\r\n            if (!obj[1])\r\n                obj[1] = {};\r\n            if (!obj[1].style)\r\n                obj[1].style = {};\r\n            if (!obj[1].style.border && !obj[1].style.padding && !obj[1].onMouseEnter && !obj[1].onMouseLeave) {\r\n                obj[1].style.padding = this.state.focus || this.state.selected ? \"1px\" : \"2px\";\r\n                if (this.state.editMode)\r\n                    obj[1].style.background = \"lightblue\";\r\n                if (this.state.selected)\r\n                    obj[1].style.border = \"1px solid black\";\r\n                else if (this.state.focus)\r\n                    obj[1].style.border = \"1px dashed grey\";\r\n                obj[1].onMouseEnter = this.mouseEnter;\r\n                obj[1].onMouseLeave = this.mouseLeave;\r\n                obj[1].onClick = this.click;\r\n            }\r\n            return obj;\r\n        };\r\n        Intercept.prototype.render = function () {\r\n            //return super.render(Array.isArray(this.props.children) ? this.reconstruct([\"div\", {style: {display: \"inline-block\"}}, this.props.children])  : this.reconstruct(this.props.children));\r\n            return _super.prototype.render.call(this, this.reconstruct([\"div\", { style: { display: \"\" }, key: 0 }, this.props.children]));\r\n        };\r\n        Intercept.prototype.mouseEnter = function () {\r\n            //x.Designer.notify(\"x\");\r\n            this.setState({ \"focus\": true });\r\n        };\r\n        Intercept.prototype.mouseLeave = function () {\r\n            //x.Designer.notify(\"y\");\r\n            this.setState({ \"focus\": false });\r\n        };\r\n        Intercept.prototype.click = function (ev) {\r\n            var _this = this;\r\n            ev.stopPropagation();\r\n            //Designer.notify(this.props.file);\r\n            var parent = window;\r\n            while (parent.parent !== parent && window.parent != null)\r\n                parent = parent.parent;\r\n            var correlationId = Date.now().toString();\r\n            //parent.postMessage({eventType: \"select\", editMode: this.state.editMode, canEdit: this.state.canEdit, correlationId, control: {file:this.props.file, method:this.props.method}}, location.href);\r\n            if (this.props.file) {\r\n                var file_1 = this.props.file;\r\n                this.setState({ selectedCorrelationId: correlationId }, function () { return app.services.events.publish({ type: \"Designer.Intercept.Select\", correlationId: correlationId, data: { editMode: _this.state.editMode, canEdit: _this.state.canEdit, control: { url: file_1 } } }, parent); });\r\n            }\r\n        };\r\n        return Intercept;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { Intercept };\r\n","var __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nimport { Intercept } from \"./Intercept\";\r\nimport { events } from \"./types\";\r\nvar DesignerFrame /*: fibre.UI.Component<any,any>*/ = function inject(app) {\r\n    if (app.services.transformer.settings.parsers)\r\n        app.services.transformer.settings.parsers[\".app\"] = function (obj, parseSettings, offset) {\r\n            var obj2 = {};\r\n            var keys = Object.keys(obj);\r\n            keys.forEach(function (z) { return obj2[z == \".app\" ? \"main\" : z] = obj[z]; });\r\n            return \"[\\\".App\\\", {\" + app.services.transformer._process(obj2, true, true, parseSettings, offset) + \"}]\";\r\n        };\r\n    app.services.processor.init = function (obj) { return typeof obj.__esModule === \"string\" ? [Intercept, { file: obj.__esModule }, [obj[\"default\"]]] : obj[\"default\"]; };\r\n    return /** @class */ (function (_super) {\r\n        __extends(Designer, _super);\r\n        function Designer(props) {\r\n            var _this = _super.call(this, props) || this;\r\n            _this.props = props;\r\n            _this.state = { content: app.main };\r\n            _this.designer_Load = _this.designer_Load.bind(_this);\r\n            _this.window_click = _this.window_click.bind(_this);\r\n            return _this;\r\n        }\r\n        Designer.prototype.componentWillMount = function () {\r\n            window.addEventListener(\"click\", this.window_click);\r\n            app.services.events.subscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            //document.body.onclick = function () {debugger;};\r\n        };\r\n        Designer.prototype.window_click = function (ev) {\r\n            app.services.events.publish({ type: \"Designer.Intercept.Select\", correlationId: Date.now().toString(), data: { editMode: false, canEdit: false } }, parent);\r\n            //parent.postMessage({eventType: \"select\", correlationId: Date.now().toString()}, location.href); ev.returnValue = false; \r\n        };\r\n        Designer.prototype.componentWillUnmount = function () {\r\n            app.services.events.unsubscribe(events[\"Designer.Load\"](), this.designer_Load);\r\n            window.removeEventListener(\"click\", this.window_click);\r\n        };\r\n        Designer.prototype.designer_Load = function (ev) {\r\n            var _this = this;\r\n            if (ev.data)\r\n                app.services.moduleSystem[\"import\"](ev.data.url).then(function (x) {\r\n                    _this.setState({ content: x });\r\n                }, function (z) { return alert(\"loaded \" + z); });\r\n        };\r\n        Designer.prototype.render = function () {\r\n            return _super.prototype.render.call(this, this.state.content);\r\n        };\r\n        return Designer;\r\n    }(app.services.UI.Component));\r\n};\r\nexport { DesignerFrame };\r\n","import { DesktopDesigner } from \"./DesktopDesigner\";\r\nimport { DesignerFrame } from \"./DesignerFrame\";\r\n/*let Designer = (window.parent === window) ? DesktopDesigner : function transform(this:types.IAppLoaded, a:any, c:any) {\r\n    let app = this;\r\n    this.services.processor.init = (obj:{default:any, [index:string]:any}) => typeof obj.__esModule === \"string\" ? [Intercept, {file: obj.__esModule}, [obj.default]] : obj.default;\r\n    return app.main;\r\n};*/\r\nvar Designer = (window.parent === window) ? DesktopDesigner : DesignerFrame;\r\nexport { Designer };\r\n","var css = '.flex {\\ndisplay: -webkit-box;\\ndisplay: -moz-box;\\ndisplay: box;\\ndisplay: -moz-flex;\\ndisplay: flex;\\n}', head = document.head || document.getElementsByTagName('head')[0], style = document.createElement('style');\r\nhead.appendChild(style);\r\nstyle.type = 'text/css';\r\nstyle.appendChild(document.createTextNode(css));\r\nimport * as Layout from \"./Layout\";\r\nimport { Designer } from \"./Designer\";\r\nexport { Designer, Layout };\r\n"],"names":["this","__extends","Layout.SplitContainer","Layout.TabContainer"],"mappings":"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"}